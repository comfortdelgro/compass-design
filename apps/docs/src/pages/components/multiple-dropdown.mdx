import {Callout} from 'nextra-theme-docs'
import styles from '../../styles/Home.module.css'
import MultipleDropdown from '@comfortdelgro/react-compass/multiple-dropdown'
import BugIcon from '@comfortdelgro/compass-icons/react/bug'

# Multiple Dropdown

Provides the behavior and accessibility implementation for a listbox component. A listbox displays a list of options and allows a user to select one or more of them.

<Callout>
  Check out our [ladle](/ladle?story=multiple-dropdown--default) for more info
  on this component.
</Callout>

---

### Import:

```js
import {Dropdown} from '@comfortdelgro/react-compass'
```

or

```js
import Dropdown from '@comfortdelgro/react-compass/dropdown'
```

We recommend the second method to import components for the benefits of [tree shaking](https://developer.mozilla.org/en-US/docs/Glossary/Tree_shaking).

---

### Controlled:

<section className={styles.componentDisplayVertical}>
  <MultipleDropdown
    label='Favorite Animal'
    selectionMode='multiple'
    disabledKeys={['cat']}
    placeholder='Choose an animal'
    defaultSelectedKeys={['cat']}
  >
    <MultipleDropdown.Item key='red panda'>
      <BugIcon /> Red Panda
    </MultipleDropdown.Item>
    <MultipleDropdown.Item key='cat'>Cat</MultipleDropdown.Item>
    <MultipleDropdown.Item key='dog'>Dog</MultipleDropdown.Item>
    <MultipleDropdown.Item key='aardvark'>Aardvark</MultipleDropdown.Item>
    <MultipleDropdown.Item key='kangaroo'>Kangaroo</MultipleDropdown.Item>
    <MultipleDropdown.Item key='snake'>Snake</MultipleDropdown.Item>

  </MultipleDropdown>
</section>

```js
<MultipleDropdown
  label='Favorite Animal'
  selectionMode='multiple'
  disabledKeys={['snake']}
  placeholder='Choose an animal'
  selectedKeys={value}
  onSelectionChange={(k: 'all' | Set<Key>) =>
    setValue(k === 'all' ? k : [...k])
  }
>
  <MultipleDropdown.Item key='red panda'>
    <BugIcon /> Red Panda
  </MultipleDropdown.Item>
  <MultipleDropdown.Item key='cat'>Cat</MultipleDropdown.Item>
  <MultipleDropdown.Item key='dog'>Dog</MultipleDropdown.Item>
  <MultipleDropdown.Item key='aardvark'>Aardvark</MultipleDropdown.Item>
  <MultipleDropdown.Item key='kangaroo'>Kangaroo</MultipleDropdown.Item>
  <MultipleDropdown.Item key='snake'>Snake</MultipleDropdown.Item>
</MultipleDropdown>
```

---

### UnControlled:

<section className={styles.componentDisplayVertical}>
  <MultipleDropdown
    label='Favorite Animal'
    selectionMode='multiple'
    disabledKeys={['snake']}
    placeholder='Choose an animal'
  >
    <MultipleDropdown.Item key='red panda'>
      <BugIcon /> Red Panda
    </MultipleDropdown.Item>
    <MultipleDropdown.Item key='cat'>Cat</MultipleDropdown.Item>
    <MultipleDropdown.Item key='dog'>Dog</MultipleDropdown.Item>
    <MultipleDropdown.Item key='aardvark'>Aardvark</MultipleDropdown.Item>
    <MultipleDropdown.Item key='kangaroo'>Kangaroo</MultipleDropdown.Item>
    <MultipleDropdown.Item key='snake'>Snake</MultipleDropdown.Item>
  </MultipleDropdown>
</section>

```js
<MultipleDropdown
  label='Favorite Animal'
  selectionMode='multiple'
  disabledKeys={['snake']}
  placeholder='Choose an animal'
>
  <MultipleDropdown.Item key='red panda'>
    <BugIcon /> Red Panda
  </MultipleDropdown.Item>
  <MultipleDropdown.Item key='cat'>Cat</MultipleDropdown.Item>
  <MultipleDropdown.Item key='dog'>Dog</MultipleDropdown.Item>
  <MultipleDropdown.Item key='aardvark'>Aardvark</MultipleDropdown.Item>
  <MultipleDropdown.Item key='kangaroo'>Kangaroo</MultipleDropdown.Item>
  <MultipleDropdown.Item key='snake'>Snake</MultipleDropdown.Item>
</MultipleDropdown>
```

---

### Error:

<section className={styles.componentDisplayVertical}>
  <MultipleDropdown
    label='Favorite Animal'
    selectionMode='multiple'
    disabledKeys={['snake']}
    placeholder='Choose an animal'
    isErrored
    errorMessage='Use Helper Text for Errors'
  >
    <MultipleDropdown.Item key='red panda'>
      <BugIcon /> Red Panda
    </MultipleDropdown.Item>
    <MultipleDropdown.Item key='cat'>Cat</MultipleDropdown.Item>
    <MultipleDropdown.Item key='dog'>Dog</MultipleDropdown.Item>
    <MultipleDropdown.Item key='aardvark'>Aardvark</MultipleDropdown.Item>
    <MultipleDropdown.Item key='kangaroo'>Kangaroo</MultipleDropdown.Item>
    <MultipleDropdown.Item key='snake'>Snake</MultipleDropdown.Item>
  </MultipleDropdown>
</section>

```js
<MultipleDropdown
  label='Favorite Animal'
  selectionMode='multiple'
  disabledKeys={['snake']}
  placeholder='Choose an animal'
  isErrored
  errorMessage='Use Helper Text for Errors'
>
  <MultipleDropdown.Item key='red panda'>
    <BugIcon /> Red Panda
  </MultipleDropdown.Item>
  <MultipleDropdown.Item key='cat'>Cat</MultipleDropdown.Item>
  <MultipleDropdown.Item key='dog'>Dog</MultipleDropdown.Item>
  <MultipleDropdown.Item key='aardvark'>Aardvark</MultipleDropdown.Item>
  <MultipleDropdown.Item key='kangaroo'>Kangaroo</MultipleDropdown.Item>
  <MultipleDropdown.Item key='snake'>Snake</MultipleDropdown.Item>
</MultipleDropdown>
```

---

### Error Keys:

<section className={styles.componentDisplayVertical}>
  <MultipleDropdown
    label='Favorite Animal'
    defaultSelectedKeys={['red panda', 'cat']}
    erroredKeys={['red panda']}
    isErrored
    errorMessage='Red panda is not available'
  >
    <MultipleDropdown.Item key='red panda'>Red Panda</MultipleDropdown.Item>
    <MultipleDropdown.Item key='cat'>Cat</MultipleDropdown.Item>
    <MultipleDropdown.Item key='dog'>Dog</MultipleDropdown.Item>
    <MultipleDropdown.Item key='aardvark'>Aardvark</MultipleDropdown.Item>
    <MultipleDropdown.Item key='kangaroo'>Kangaroo</MultipleDropdown.Item>
    <MultipleDropdown.Item key='snake'>Snake</MultipleDropdown.Item>
  </MultipleDropdown>
</section>

```js
  <MultipleDropdown
    label='Favorite Animal'
    defaultSelectedKeys={['red panda', 'cat']}
    erroredKeys={['red panda']}
    isErrored
    errorMessage='Red panda is not available'
  >
    <MultipleDropdown.Item key='red panda'>Red Panda</MultipleDropdown.Item>
    <MultipleDropdown.Item key='cat'>Cat</MultipleDropdown.Item>
    <MultipleDropdown.Item key='dog'>Dog</MultipleDropdown.Item>
    <MultipleDropdown.Item key='aardvark'>Aardvark</MultipleDropdown.Item>
    <MultipleDropdown.Item key='kangaroo'>Kangaroo</MultipleDropdown.Item>
    <MultipleDropdown.Item key='snake'>Snake</MultipleDropdown.Item>
  </MultipleDropdown>
```

---

### Custom Display value:

<section className={styles.componentDisplayVertical}>
  <MultipleDropdown
    label='Favorite Animal'
    disabledKeys={['snake']}
    defaultSelectedKeys={['snake']}
    customDisplayValue='Favorite Animal Selected'
    placeholder='Choose an animal'
  >
    <MultipleDropdown.Item key='red panda'>Red Panda</MultipleDropdown.Item>
    <MultipleDropdown.Item key='cat'>Cat</MultipleDropdown.Item>
    <MultipleDropdown.Item key='dog' checkmark='tick'>
      Dog
    </MultipleDropdown.Item>
    <MultipleDropdown.Item key='aardvark'>Aardvark</MultipleDropdown.Item>
    <MultipleDropdown.Item key='kangaroo'>Kangaroo</MultipleDropdown.Item>
    <MultipleDropdown.Item key='snake'>Snake</MultipleDropdown.Item>
  </MultipleDropdown>
</section>

```js
<MultipleDropdown
  label='Favorite Animal'
  defaultSelectedKeys={['snake']}
  customDisplayValue='Favorite Animal Selected'
  placeholder='Choose an animal'
>
  <MultipleDropdown.Item key='red panda'>Red Panda</MultipleDropdown.Item>
  <MultipleDropdown.Item key='cat'>Cat</MultipleDropdown.Item>
  <MultipleDropdown.Item key='dog' checkmark='tick'>
    Dog
  </MultipleDropdown.Item>
  <MultipleDropdown.Item key='aardvark'>Aardvark</MultipleDropdown.Item>
  <MultipleDropdown.Item key='kangaroo'>Kangaroo</MultipleDropdown.Item>
  <MultipleDropdown.Item key='snake'>Snake</MultipleDropdown.Item>
</MultipleDropdown>
```

---

### With Header:

<section className={styles.componentDisplayVertical}>
  <MultipleDropdown
    selectionMode='multiple'
    disabledKeys={['snake']}
    label='Favorite Animal'
    placeholder='Choose an animal'
  >
    <MultipleDropdown.Header>
      <div
        style={{
          display: 'flex',
          alignItems: 'center',
          justifyContent: 'space-between',
          width: '100%',
          padding: '8px 16px',
          borderBottom: '2px solid #EDEBE9',
        }}
      >
        <span
          style={{
            color: '#323130',
            fontSize: '12px',
            fontWeight: 'bold',
            padding: 0,
            margin: 0,
          }}
        >
          Filter
        </span>
        <button
          style={{
            fontSize: '12px',
            fontWeight: 'bold',
            color: '#A4262C',
            border: 0,
            cursor: 'pointer',
            backgroundColor: 'transparent',
          }}
        >
          Clear
        </button>
      </div>
    </MultipleDropdown.Header>
    <MultipleDropdown.Item key='red panda'>Red Panda</MultipleDropdown.Item>
    <MultipleDropdown.Item key='cat'>Cat</MultipleDropdown.Item>
    <MultipleDropdown.Item key='dog'>Dog</MultipleDropdown.Item>
    <MultipleDropdown.Item key='aardvark'>Aardvark</MultipleDropdown.Item>
    <MultipleDropdown.Item key='kangaroo'>Kangaroo</MultipleDropdown.Item>
    <MultipleDropdown.Item key='snake'>Snake</MultipleDropdown.Item>
  </MultipleDropdown>
</section>

```js
<MultipleDropdown
  selectionMode='multiple'
  disabledKeys={['snake']}
  label='Favorite Animal'
  placeholder='Choose an animal'
>
  <MultipleDropdown.Header>
    <div
      style={{
        display: 'flex',
        alignItems: 'center',
        justifyContent: 'space-between',
        width: '100%',
        padding: '8px 16px',
        borderBottom: '2px solid #EDEBE9',
      }}
    >
      <span
        style={{
          color: '#323130',
          fontSize: '12px',
          fontWeight: 'bold',
          padding: 0,
          margin: 0,
        }}
      >
        Filter
      </span>
      <button
        style={{
          fontSize: '12px',
          fontWeight: 'bold',
          color: '#A4262C',
          border: 0,
          cursor: 'pointer',
          backgroundColor: 'transparent',
        }}
      >
        Clear
      </button>
    </div>
  </MultipleDropdown.Header>
  <MultipleDropdown.Item key='red panda'>Red Panda</MultipleDropdown.Item>
  <MultipleDropdown.Item key='cat'>Cat</MultipleDropdown.Item>
  <MultipleDropdown.Item key='dog'>Dog</MultipleDropdown.Item>
  <MultipleDropdown.Item key='aardvark'>Aardvark</MultipleDropdown.Item>
  <MultipleDropdown.Item key='kangaroo'>Kangaroo</MultipleDropdown.Item>
  <MultipleDropdown.Item key='snake'>Snake</MultipleDropdown.Item>
</MultipleDropdown>
```

---

### Loading:

<section className={styles.componentDisplayVertical}>
  <MultipleDropdown
    selectionMode='multiple'
    label='Favorite Animal'
    placeholder='Choose an animal'
    isLoading
  >
    <MultipleDropdown.Item key='red panda'>Red Panda</MultipleDropdown.Item>
    <MultipleDropdown.Item key='cat'>Cat</MultipleDropdown.Item>
    <MultipleDropdown.Item key='dog'>Dog</MultipleDropdown.Item>
    <MultipleDropdown.Item key='aardvark'>Aardvark</MultipleDropdown.Item>
    <MultipleDropdown.Item key='kangaroo'>Kangaroo</MultipleDropdown.Item>
    <MultipleDropdown.Item key='snake'>Snake</MultipleDropdown.Item>
  </MultipleDropdown>
</section>

```js
<MultipleDropdown
  selectionMode='multiple'
  label='Favorite Animal'
  placeholder='Choose an animal'
  isLoading
>
  <MultipleDropdown.Item key='red panda'>Red Panda</MultipleDropdown.Item>
  <MultipleDropdown.Item key='cat'>Cat</MultipleDropdown.Item>
  <MultipleDropdown.Item key='dog'>Dog</MultipleDropdown.Item>
  <MultipleDropdown.Item key='aardvark'>Aardvark</MultipleDropdown.Item>
  <MultipleDropdown.Item key='kangaroo'>Kangaroo</MultipleDropdown.Item>
  <MultipleDropdown.Item key='snake'>Snake</MultipleDropdown.Item>
</MultipleDropdown>
```

---

### With Icon:

<section className={styles.componentDisplayVertical}>
  <MultipleDropdown
    selectionMode='multiple'
    label='Favorite Animal'
    placeholder='Choose an animal'
    icon={<BugIcon />}
  >
    <MultipleDropdown.Item key='red panda'>Red Panda</MultipleDropdown.Item>
    <MultipleDropdown.Item key='cat'>Cat</MultipleDropdown.Item>
    <MultipleDropdown.Item key='dog'>Dog</MultipleDropdown.Item>
    <MultipleDropdown.Item key='aardvark'>Aardvark</MultipleDropdown.Item>
    <MultipleDropdown.Item key='kangaroo'>Kangaroo</MultipleDropdown.Item>
    <MultipleDropdown.Item key='snake'>Snake</MultipleDropdown.Item>
  </MultipleDropdown>
</section>

```js
<MultipleDropdown
  selectionMode='multiple'
  label='Favorite Animal'
  placeholder='Choose an animal'
  icon={<BugIcon />}
>
  <MultipleDropdown.Item key='red panda'>Red Panda</MultipleDropdown.Item>
  <MultipleDropdown.Item key='cat'>Cat</MultipleDropdown.Item>
  <MultipleDropdown.Item key='dog'>Dog</MultipleDropdown.Item>
  <MultipleDropdown.Item key='aardvark'>Aardvark</MultipleDropdown.Item>
  <MultipleDropdown.Item key='kangaroo'>Kangaroo</MultipleDropdown.Item>
  <MultipleDropdown.Item key='snake'>Snake</MultipleDropdown.Item>
</MultipleDropdown>
```

---

### With Section:

<section className={styles.componentDisplayVertical}>
  <MultipleDropdown label='Favorite Animal' placeholder='Choose an animal'>
    <MultipleDropdown.Item key='fly'>Fly</MultipleDropdown.Item>
    <MultipleDropdown.Section title='Group 1'>
      <MultipleDropdown.Item key='red panda'>Red Panda</MultipleDropdown.Item>
      <MultipleDropdown.Item key='cat'>Cat</MultipleDropdown.Item>
      <MultipleDropdown.Item key='dog'>Dog</MultipleDropdown.Item>
    </MultipleDropdown.Section>
    <MultipleDropdown.Section title='Group 2'>
      <MultipleDropdown.Item key='aardvark'>Aardvark</MultipleDropdown.Item>
      <MultipleDropdown.Item key='kangaroo'>Kangaroo</MultipleDropdown.Item>
      <MultipleDropdown.Item key='snake'>Snake</MultipleDropdown.Item>
    </MultipleDropdown.Section>
  </MultipleDropdown>
</section>

```js
<MultipleDropdown label='Favorite Animal' placeholder='Choose an animal'>
  <MultipleDropdown.Item key='fly'>Fly</MultipleDropdown.Item>
  <MultipleDropdown.Section title='Group 1'>
    <MultipleDropdown.Item key='red panda'>Red Panda</MultipleDropdown.Item>
    <MultipleDropdown.Item key='cat'>Cat</MultipleDropdown.Item>
    <MultipleDropdown.Item key='dog'>Dog</MultipleDropdown.Item>
  </MultipleDropdown.Section>
  <MultipleDropdown.Section title='Group 2'>
    <MultipleDropdown.Item key='aardvark'>Aardvark</MultipleDropdown.Item>
    <MultipleDropdown.Item key='kangaroo'>Kangaroo</MultipleDropdown.Item>
    <MultipleDropdown.Item key='snake'>Snake</MultipleDropdown.Item>
  </MultipleDropdown.Section>
</MultipleDropdown>
```

---

### Props:

#### `<MultipleDropdown/>` :

| Name                | Type                        | Default | Description                                                                                                                                               |
| :------------------ | :-------------------------- | :------ | :-------------------------------------------------------------------------------------------------------------------------------------------------------- |
| icon                | `ReactNode`                 | -       | Icon display in right side                                                                                                                                |
| name                | `string`                    | —       | The name of the input element, used when submitting an HTML form. See MDN.                                                                                |
| label               | `ReactNode`                 | —       | The content to display as the label.                                                                                                                      |
| customDisplayValue  | `ReactNode`                 | —       | Replace the chips with your own message.                                                                                                                  |
| isOpen              | `boolean`                   | —       | Open state of the menu.                                                                                                                                   |
| isLoading           | `boolean`                   | 'false' | Loading effect when list of items is loading by API                                                                                                       |
| isErrored           | `boolean`                   | 'false' | Error state when dropdown is isErrored                                                                                                                    |
| isDisabled          | `boolean`                   | —       | Whether the input is disabled.                                                                                                                            |
| isReadOnly          | `boolean`                   | —       | Whether the input can be selected but not changed by the user.                                                                                            |
| isRequired          | `boolean`                   | —       | Whether user input is required on the input before form submission. Often paired with the necessityIndicator prop to add a visual indicator to the input. |
| selectedKeys        | `Iterable<Key>`             | -       | The currently selected keys in the collection (controlled).                                                                                               |
| description         | `string`                    | —       | A description for the field. Provides a hint such as specific requirements for what to choose.                                                            |
| placeholder         | `string`                    | —       | Temporary text that occupies the text input when it is empty.                                                                                             |
| errorMessage        | `string`                    | -       | Error message for dropdown                                                                                                                                |
| disabledKeys        | `Iterable<Key>`             | —       | The item keys that are disabled. These items cannot be selected, focused, or otherwise interacted with.                                                   |
| numberOfRows        | `number`                    | —       | Number of items displayed in Popover.                                                                                                                     |
| defaultSelectedKeys | `Iterable<Key>`             | —       | The initial selected key in the collection (uncontrolled).                                                                                                |
| onLoadMore          | `() => void`                | —       | Handler when user scrolls to the end.                                                                                                                     |
| onSelectionChange   | `(key: Key) => any`         | —       | Handler that is called when the selection changes.                                                                                                        |
| onOpenChange        | `(isOpen: boolean) => void` | —       | Method that is called when the open state of the menu changes. Returns the new open state and the action that caused the opening of the menu.             |

#### `<MultipleDropdown.Item/>` :

| Name      | Type                           | Default | Description                      |
| :-------- | :----------------------------- | :------ | :------------------------------- |
| key       | `Key`                          | —       | The key of the dropdown.         |
| icon      | `icon` \| `color`              | —       | The content of the dropdown Item |
| title     | `ReactNode`                    | —       | The title of the dropdown.       |
| children  | `ReactNode`                    | —       | The content of the dropdown Item |
| checkmark | `none` \| `checkbox` \| `tick` | -       | Variant for the selected         |

---

#### `<MultipleDropdown.Section/>` :

| Name     | Type        | Default | Description                |
| :------- | :---------- | :------ | :------------------------- |
| title    | `ReactNode` | —       | The title of the section.  |
| children | `ReactNode` | —       | The content of the section |

---

<Callout>
  Check out our [ladle](/ladle?story=multiple-dropdown--default) for more info
  on this component.
</Callout>

import{j as t}from"./jsx-runtime-9ef10904.js";import{r as e}from"./index-6c164b11.js";import{c as C,C as E}from"./objectToCSS-e90bd687.js";import{u as F}from"./use-dom-ref-7c72e1a5.js";import"./Row-7065e1c2.js";import"./useKeyboardNavigation-7c849a98.js";import"./_getTag-831c42c2.js";import"./_equalByTag-6cd86198.js";import"./isObjectLike-c4ff7b99.js";import{u as z}from"./useDrag-6ba0f8b4.js";const Z=(r,u)=>{const n=e.useRef(!1);e.useEffect(()=>{if(n.current){r();return}n.current=!0},u)},U=({slideRef:r,onDrag:u,onDragEnd:n,disableDrag:f=!1})=>{const[p,x]=e.useState(0),o=e.useMemo(()=>{if(typeof window>"u"||!r.current)return{draggerWidth:p,maxSlideDistance:0};const s=window.getComputedStyle(r.current),g=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight);return{draggerWidth:p,maxSlideDistance:r.current.offsetWidth-g-p}},[p,r]),{target:i,setPosition:m}=z({direction:"horizontal",limit:{x:{min:0,max:o.maxSlideDistance}},onMove:(...s)=>u==null?void 0:u(o,...s),onEnd:(...s)=>n==null?void 0:n(o,...s),disabled:f});return e.useEffect(()=>{if(typeof window>"u"||!i.current)return;const s=new ResizeObserver(g=>{x(g[0].target.offsetWidth)});return s.observe(i.current),()=>s.disconnect()},[i]),{slideDraggerRef:i,setDraggerPosition:m}},H="_slideAction_terby_6",T="_slideActionBackground_terby_21",$="_slideActionDragger_terby_31",X="_slideActionDefaultIcon_terby_50",Y="_slideActionLabel_terby_55",G="_compact_terby_90",J="_slide_terby_6",K="_gradientWaveText_terby_1",d={slideAction:H,slideActionBackground:T,slideActionDragger:$,slideActionDefaultIcon:X,slideActionLabel:Y,compact:G,static:"_static_terby_109",default:"_default_terby_115",slide:J,gradientWaveText:K};function N(){return t.jsx("svg",{className:C(d.slideActionDefaultIcon,"cdg-slide-action__default-icon"),width:"14",height:"15",viewBox:"0 0 14 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsxs("g",{id:"Frame 105",children:[t.jsxs("g",{id:"Vector",children:[t.jsx("path",{d:"M0.886667 14.998C0.66 14.998 0.433333 14.9106 0.26 14.74C-0.0866667 14.3988 -0.0866667 13.8432 0.26 13.502L5.85111 7.99914L0.26 2.49188C-0.0866667 2.15068 -0.0866667 1.59514 0.26 1.25394C0.606667 0.912748 1.17111 0.912748 1.51778 1.25394L7.74 7.37799C8.08667 7.71918 8.08667 8.27472 7.74 8.61592L1.51778 14.74C1.34 14.9106 1.11333 14.998 0.886667 14.998Z"}),t.jsx("path",{d:"M0.886667 14.998C0.66 14.998 0.433333 14.9106 0.26 14.74C-0.0866667 14.3988 -0.0866667 13.8432 0.26 13.502L5.85111 7.99914L0.26 2.49188C-0.0866667 2.15068 -0.0866667 1.59514 0.26 1.25394C0.606667 0.912748 1.17111 0.912748 1.51778 1.25394L7.74 7.37799C8.08667 7.71918 8.08667 8.27472 7.74 8.61592L1.51778 14.74C1.34 14.9106 1.11333 14.998 0.886667 14.998Z"})]}),t.jsxs("g",{id:"Vector_2",children:[t.jsx("path",{d:"M6.88667 14.998C6.66 14.998 6.43333 14.9106 6.26 14.74C5.91333 14.3988 5.91333 13.8432 6.26 13.502L11.8511 7.99914L6.26 2.49188C5.91333 2.15068 5.91333 1.59514 6.26 1.25394C6.60667 0.912748 7.17111 0.912748 7.51778 1.25394L13.74 7.37799C14.0867 7.71918 14.0867 8.27472 13.74 8.61592L7.51778 14.74C7.34 14.9106 7.11333 14.998 6.88667 14.998Z"}),t.jsx("path",{d:"M6.88667 14.998C6.66 14.998 6.43333 14.9106 6.26 14.74C5.91333 14.3988 5.91333 13.8432 6.26 13.502L11.8511 7.99914L6.26 2.49188C5.91333 2.15068 5.91333 1.59514 6.26 1.25394C6.60667 0.912748 7.17111 0.912748 7.51778 1.25394L13.74 7.37799C14.0867 7.71918 14.0867 8.27472 13.74 8.61592L7.51778 14.74C7.34 14.9106 7.11333 14.998 6.88667 14.998Z"})]})]})})}N.__docgenInfo={description:"",methods:[],displayName:"SlideActionDefaultIcon"};const D=.4,Q=r=>typeof window>"u"||typeof document>"u"?!1:!!window.getComputedStyle(document.documentElement).getPropertyValue(r).trim(),ee=e.forwardRef(({css:r,className:u="",icon:n,color:f,label:p="Slide",labelType:x="default",onChange:o,onSwipeEnd:i,slideType:m="slide",allowSwipeAfterEnd:s=!1,compact:g=!1,children:v,...q},S)=>{const c=F(S),h=e.useRef(null),_=e.useRef(null),[j,w]=e.useState(!1),[R,I]=e.useState(!1),y=e.useCallback((l,a)=>{if(h.current){if(m==="static"){h.current.style.setProperty("opacity",l.toFixed(2));return}h.current.style.setProperty("width",`${a}px`)}},[m]),B=e.useCallback(({draggerWidth:l,maxSlideDistance:a},V,{x:b})=>{if(!c.current||!_.current)return;const A=(a-b)/a;_.current.style.setProperty("opacity",(A-.1).toFixed(2));const k=b/a-D;y(k>D?D:k,l+b)},[y]),L=e.useCallback(()=>{_.current&&_.current.style.setProperty("opacity","1"),w(!1),I(!1),y(0,0)},[y]),M=e.useCallback(({maxSlideDistance:l},a,{x:V},b)=>{if(!c.current)return;const A=()=>{L(),b({x:0,y:0},{transition:!0})};if(V===l){s||w(!0),I(!0),i==null||i(A);return}A()},[y,s,i]),{slideDraggerRef:O,setDraggerPosition:P}=U({slideRef:c,onDrag:B,onDragEnd:M,disableDrag:j}),W=e.useCallback(()=>{L(),P({x:0,y:0},{transition:!0})},[L,P]);return e.useImperativeHandle(S,()=>({...c.current,resetState:W})),Z(()=>{o==null||o(R)},[R,o]),e.useEffect(()=>{var l,a;if(!f){(l=c.current)==null||l.style.removeProperty("--slide-action-theme");return}(a=c.current)==null||a.style.setProperty("--slide-action-theme",Q(f)?`var(${f})`:f)},[f]),t.jsx(E,{css:r,childrenRef:c,children:t.jsxs("div",{ref:c,className:C(d.slideAction,g?d.compact:"",u,"cdg-slide-action"),...q,children:[t.jsx("div",{ref:h,className:C(d.slideActionBackground,m&&d[m],"cdg-slide-action__bg")}),t.jsx("button",{ref:O,className:C(d.slideActionDragger,"cdg-slide-action__dragger"),type:"button",style:j?{pointerEvents:"none"}:void 0,children:n||t.jsx(N,{})}),t.jsx("div",{ref:_,className:C(d.slideActionLabel,x&&d[x],"cdg-slide-action__label"),title:typeof v=="string"?v:p,children:v||p})]})})});ee.__docgenInfo={description:`A Slide action or Swiper component that requires user to swipe to confirm an action.

Usually use for important actions, such as purchase order, turn off privacy setting, delete something, etc...`,methods:[],displayName:"SlideAction",props:{className:{defaultValue:{value:"''",computed:!1},required:!1},label:{defaultValue:{value:"'Slide'",computed:!1},required:!1},labelType:{defaultValue:{value:"'default'",computed:!1},required:!1},slideType:{defaultValue:{value:"'slide'",computed:!1},required:!1},allowSwipeAfterEnd:{defaultValue:{value:"false",computed:!1},required:!1},compact:{defaultValue:{value:"false",computed:!1},required:!1}}};export{ee as S};

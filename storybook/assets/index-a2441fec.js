import{j as o}from"./jsx-runtime-9ef10904.js";import{r as m,R as L}from"./index-6c164b11.js";import{c as j,C as N}from"./string-b39bd50e.js";import{u as b}from"./use-dom-ref-7c72e1a5.js";import{P as G,a as D}from"./pointer-a81ef452.js";const H="_gutter_1muhi_7",M="_collapse_1muhi_33",k="_gutterVariantLeft_1muhi_67",z="_gutterVariantRight_1muhi_72",_={gutter:H,collapse:M,gutterVariantLeft:k,gutterVariantRight:z},C=({side:e,isExpand:t})=>o.jsxs("svg",{viewBox:"0 0 320 512",style:{width:14,height:14},children:[(!t&&e===a.LEFT||t&&e===a.RIGHT)&&o.jsx("path",{fill:"currentColor",d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"}),(!t&&e===a.RIGHT||t&&e===a.LEFT)&&o.jsx("path",{fill:"currentColor",d:"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"})]});C.__docgenInfo={description:"",methods:[],displayName:"Icon",props:{side:{required:!1,tsType:{name:"literal",value:"`${GutterSide}`"},description:""},isExpand:{required:!0,tsType:{name:"boolean"},description:""}}};const F=(e,t)=>{var R;const{parentRef:n,isExpand:s,side:w=a.RIGHT,minCollapse:x,maxExpand:i}=e,[f,r]=m.useState((R=n==null?void 0:n.current)==null?void 0:R.clientWidth),[c,d]=m.useState(s),p=L.useCallback(()=>{r(i??"100%")},[i]),g=L.useCallback(()=>{r(x??0)},[x]);return m.useEffect(()=>{d(s)},[s]),m.useEffect(()=>{c===!0?p():c===!1&&g()},[g,p,c]),{width:f,isExpand:c,setWidth:r,toggleExpand:()=>{d(l=>!l)},expand:p,collapse:g,handlePointerDown:l=>{var T;const V=((T=n==null?void 0:n.current)==null?void 0:T.clientWidth)??0,E=new D;if(E.start(new G(l.pageX,l.pageY)),t!=null&&t.current){l.target.setPointerCapture(l.pointerId);const v=u=>{u.preventDefault(),E.update(new G(u.pageX,u.pageY));let h=V+(w===a.RIGHT?E.distance.x:-E.distance.x);h=h<0?0:h,h===0&&d(!1),r(h)},P=()=>{var u;(u=t.current)==null||u.removeEventListener("pointermove",v)};t.current.addEventListener("pointermove",v),t.current.addEventListener("pointerup",P,{once:!0}),t.current.addEventListener("pointercancel",P,{once:!0})}}}};var a=(e=>(e.RIGHT="right",e.LEFT="left",e))(a||{});const y=L.forwardRef((e,t)=>{const{css:n={},onChange:s,className:w,hasExpandButton:x,side:i="right"}=e,f=b(t),{width:r,isExpand:c,toggleExpand:d,handlePointerDown:p}=F(e,f);m.useEffect(()=>{s==null||s(r)},[s,r]);const g=j(_.gutter,i==="left"&&_.gutterVariantLeft,i==="right"&&_.gutterVariantRight,w,"cdg-gutter");return o.jsx(N,{css:n,children:o.jsx("div",{ref:f,className:g,onPointerDown:p,children:x&&o.jsx("button",{type:"button",onClick:I=>{I.stopPropagation(),d()},className:j(_.collapse,"cdg-gutter-collapse-button"),children:o.jsx(C,{side:i,isExpand:c})})})})});y.__docgenInfo={description:"",methods:[],displayName:"Gutter"};y.displayName="Gutter";export{y as G};

import{j as e}from"./jsx-runtime-9ef10904.js";import{r as y,R as l}from"./index-6c164b11.js";import{C as mt}from"./index-8cf671da.js";import{P as wt}from"./index-268c0602.js";import{C as pe,c as u}from"./string-b39bd50e.js";import{u as A}from"./use-dom-ref-7c72e1a5.js";import{u as Me}from"./useId-133e3351.js";import{p as Ne}from"./pick-child-1fb557e7.js";const ae=y.createContext({isLoadingMore:!1,isPositioned:!1,open:!1,searchValue:"",labelId:"",selectedItems:[],disabledKeys:[],selectedKeys:[],defaultSelectedKeys:[],selectedSectionIndexes:[],setSelectedSectionIndexes:()=>{},setSelectedItems:()=>{},onItemClick:()=>{},onSectionClick:()=>{},onHeaderClick:()=>{}}),ht="_multipleDropdownItemContent_1s56q_14",gt="_multipleDropdownOption_1s56q_21",It="_multipleDropdownItemIsFocused_1s56q_37",ft="_multipleDropdownItemIsSelected_1s56q_41",Dt="_multipleDropdownItemIsSelectedFocused_1s56q_45",Ct="_multipleDropdownItemIsDisabled_1s56q_49",St="_multipleDropdownItemRightIcon_1s56q_62",_t="_multipleDropdownItemRightIconCheckMarkCheckbox_1s56q_71",xt="_multipleDropdownItemRightIconContent_1s56q_72",kt="_multipleDropdownItemRightIconCheckMarkTick_1s56q_87",yt="_multipleDropdownItemRightIconSelected_1s56q_97",bt="_multipleDropdownLoading_1s56q_113",vt="_multipleDropdownLoadingSpinner_1s56q_119",Lt="_multipleDropdownLoadingSpinnerItem_1s56q_126",jt="_spin_1s56q_1",Rt="_multipleDropdownLoadingSpinnerItem1_1s56q_140",qt="_multipleDropdownLoadingSpinnerItem2_1s56q_146",Mt="_multipleDropdownLoadingSpinnerItem3_1s56q_152",Nt="_multipleDropdownListItem_1s56q_155",Et="_multipleDropdownListEmptyData_1s56q_158",Vt="_multipleDropdownSection_1s56q_165",Tt="_multipleDropdownSectionContent_1s56q_174",Pt="_IsClickable_1s56q_186",Kt="_multipleDropdownRightIcon_1s56q_186",Bt="_multipleDropdownRightIconSelected_1s56q_207",Ht="_multipleDropdownSectionCheckbox_1s56q_208",At="_multipleDropdownRightIconCheckbox_1s56q_219",Ft="_multipleDropdownRightIconTick_1s56q_235",Wt="_multipleDropdownControl_1s56q_239",Ot="_multipleDropdownControlIsDisabled_1s56q_279",$t="_multipleDropdownControlIsErrored_1s56q_291",Zt="_multipleDropdownControlIsOpen_1s56q_298",Ut="_multipleDropdownControlIcon_1s56q_299",zt="_multipleDropdownSelectedItemWrapper_1s56q_324",Gt="_placeholderSelectedItemWrapper_1s56q_332",Jt="_multipleDropdownWrapper_1s56q_352",Qt="_displayedValueString_1s56q_368",Xt="_itemListString_1s56q_377",Yt="_variantSelect_1s56q_386",eo="_dropdownHelperText_1s56q_390",to="_dropdownHelperIsErrored_1s56q_398",oo="_dropdownButtonIcon_1s56q_401",no="_dropdownPopover_1s56q_405",lo="_multipleDropdownList_1s56q_155",n={multipleDropdownItemContent:ht,multipleDropdownOption:gt,multipleDropdownItemIsFocused:It,multipleDropdownItemIsSelected:ft,multipleDropdownItemIsSelectedFocused:Dt,multipleDropdownItemIsDisabled:Ct,multipleDropdownItemRightIcon:St,multipleDropdownItemRightIconCheckMarkCheckbox:_t,multipleDropdownItemRightIconContent:xt,multipleDropdownItemRightIconCheckMarkTick:kt,multipleDropdownItemRightIconSelected:yt,multipleDropdownLoading:bt,multipleDropdownLoadingSpinner:vt,multipleDropdownLoadingSpinnerItem:Lt,spin:jt,multipleDropdownLoadingSpinnerItem1:Rt,multipleDropdownLoadingSpinnerItem2:qt,multipleDropdownLoadingSpinnerItem3:Mt,multipleDropdownListItem:Nt,multipleDropdownListEmptyData:Et,multipleDropdownSection:Vt,multipleDropdownSectionContent:Tt,IsClickable:Pt,multipleDropdownRightIcon:Kt,multipleDropdownRightIconSelected:Bt,multipleDropdownSectionCheckbox:Ht,multipleDropdownRightIconCheckbox:At,multipleDropdownRightIconTick:Ft,multipleDropdownControl:Wt,multipleDropdownControlIsDisabled:Ot,multipleDropdownControlIsErrored:$t,multipleDropdownControlIsOpen:Zt,multipleDropdownControlIcon:Ut,multipleDropdownSelectedItemWrapper:zt,placeholderSelectedItemWrapper:Gt,"multiple-dropdown-chip-icon":"_multiple-dropdown-chip-icon_1s56q_348",multipleDropdownWrapper:Jt,displayedValueString:Qt,itemListString:Xt,variantSelect:Yt,dropdownHelperText:eo,dropdownHelperIsErrored:to,dropdownButtonIcon:oo,dropdownPopover:no,multipleDropdownList:lo},ge=l.forwardRef((s,d)=>{const{children:r,css:t={},onClick:i}=s,p=A(d),{onHeaderClick:m}=y.useContext(ae),w=q=>{m(),i==null||i(q)};return e.jsx(pe,{css:t,childrenRef:p,children:e.jsx("div",{ref:p,onClick:w,children:r})})});ge.__docgenInfo={description:"",methods:[],displayName:"MultipleDropdownHeader"};function Q(s){var r,t;if(!s)return"";if(typeof s=="string")return s;if((r=s.props)!=null&&r.textValue)return s.props.textValue;if(s instanceof Array)return s.map(Q).join(" ");const d=(t=s.props)==null?void 0:t.children;return d instanceof Array?d.map(Q).join(" "):Q(d)}const Ee=(s,d,r=[])=>{var t;for(const i of s)if(i.props){if(((t=i.props.value)==null?void 0:t.toString())===d.toString()&&!r.includes(i.props.value))return i;if(i.props.children){const p=Ee(l.Children.toArray(i.props.children),d);if(p)return p}}return null},io=(s,d,r=[])=>{if(!r.length)return null;const t=r.filter(p=>p.visibility);if(t.length){const p=t.findIndex(m=>m.value.toString()===s.toString());if(p!==-1){const m=t[p-1]??t[t.length-1];if(m)return ee(m.value,d)}}return Te(d,r)},ro=(s,d,r=[])=>{if(!r.length)return null;const t=r.filter(p=>p.visibility);if(t.length){const p=t.findIndex(m=>m.value.toString()===s.toString());if(p!==-1){const m=t[p+1]??t[0];if(m)return ee(m.value,d)}}return Ve(d,r)},Ve=(s,d=[])=>{if(!d.length)return null;let r=null;for(const t of d)if(t.visibility){r=ee(t.value,s);break}return r},Te=(s,d=[])=>{if(!d.length)return null;let r=null;for(let t=d.length-1;t>=0;t--){const i=d[t];if(i!=null&&i.visibility){r=ee(i.value,s);break}}return r},ee=(s,d)=>{const{rest:r}=Ne(d,ge);return l.Children.toArray(r).length?Ee(l.Children.toArray(d),s)??null:null},so=(s,d)=>{const r=p=>{const{top:m}=p.getBoundingClientRect();return m},t=r(s),i=r(d);return Math.hypot(t-i)},Se=l.forwardRef((s,d)=>{const{children:r,value:t="",checkmark:i="checkbox",css:p={},...m}=s,{textValue:w,...q}=m,{isPositioned:f,disabledKeys:M=[],searchValue:v,focusKey:b,selectedItems:_,setDropdownItemKeys:L,onItemClick:x}=l.useContext(ae),D=A(d),k=l.useMemo(()=>(_==null?void 0:_.findIndex(C=>C.value.toString()===t.toString()))!==-1,[_,t]),V=l.useMemo(()=>(b==null?void 0:b.toString())===t.toString(),[b,t]),T=l.useMemo(()=>M.findIndex(C=>C.toString()===t.toString())!==-1,[M,t]),P=l.useMemo(()=>!v||Q(r).toLocaleLowerCase().includes(v.toLocaleLowerCase()),[v,r]);l.useEffect(()=>{T||L==null||L(C=>{const S=C.findIndex(j=>j.value.toString()===t.toString());return S===-1?C.push({value:t,visibility:!0}):C[S]={value:t,visibility:P},C})},[t,T,P,L]),l.useEffect(()=>{f&&b&&b.toString()===t.toString()&&D.current&&setTimeout(()=>{D.current.scrollIntoView({block:"nearest"})})},[b,t,f,D]),l.useEffect(()=>{k&&f&&D.current&&setTimeout(()=>{D.current.scrollIntoView({block:"nearest"})})},[f,k,D]);const te=()=>{T||x({value:t.toString(),displayValue:w||r})},F=u(n.multipleDropdownOption,V&&!k&&n.multipleDropdownItemIsFocused,k&&!V&&n.multipleDropdownItemIsSelected,k&&V&&n.multipleDropdownItemIsSelectedFocused,T&&n.multipleDropdownItemIsDisabled,"cdg-multiple-dropdown-item"),W=u(n.multipleDropdownItemRightIcon,k&&n.multipleDropdownItemRightIconSelected,i==="checkbox"&&n.multipleDropdownItemRightIconCheckMarkCheckbox,i==="tick"&&n.multipleDropdownItemRightIconCheckMarkTick,"cdg-multiple-dropdown-item-icon");return P?e.jsx(pe,{css:p,childrenRef:D,children:e.jsxs("li",{...q,role:"option",className:F,onClick:te,ref:D,"aria-selected":k,children:[e.jsx("div",{className:u(n.multipleDropdownItemContent,"cdg-multiple-dropdown-item-content"),children:r}),e.jsx("div",{className:W,children:i==="checkbox"?e.jsx("div",{className:u(n.multipleDropdownItemRightIconContent,"cdg-multiple-dropdown-item-icon-content"),children:e.jsx(co,{})}):i==="tick"?e.jsx(po,{}):null})]})}):null}),co=()=>e.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",children:e.jsx("path",{d:"M9.39158 1.86239C9.64736 2.12284 9.64736 2.54372 9.39158 2.80416L4.15319 8.13808C3.89741 8.39853 3.48407 8.39853 3.22829 8.13808L0.608522 5.47112C0.352823 5.21068 0.352823 4.7898 0.608522 4.52935C0.864262 4.26891 1.27883 4.26891 1.53461 4.52935L3.67232 6.72334L8.46668 1.86239C8.72246 1.60153 9.1358 1.60153 9.39158 1.86239Z",fill:"currentColor"})}),po=()=>e.jsx("svg",{width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",children:e.jsx("path",{d:"M15.0265 3.47966C15.4357 3.89637 15.4357 4.56978 15.0265 4.98649L6.64506 13.5208C6.23581 13.9375 5.57446 13.9375 5.16521 13.5208L0.973587 9.25363C0.564469 8.83691 0.564469 8.16351 0.973587 7.74679C1.38277 7.33008 2.04608 7.33008 2.45533 7.74679L5.87567 11.2572L13.5466 3.47966C13.9559 3.06228 14.6172 3.06228 15.0265 3.47966Z",fill:"currentColor"})});Se.__docgenInfo={description:"",methods:[],displayName:"MultipleDropdownItem"};function ao(s){const[d,r]=y.useState(!1),t=y.useMemo(()=>new IntersectionObserver(([i])=>r(!!(i!=null&&i.isIntersecting))),[]);return y.useEffect(()=>(s.current&&t.observe(s.current),()=>{t.disconnect()}),[s,t]),d}function Pe(){return e.jsx("div",{className:u(n.multipleDropdownLoading,"cdg-multiple-dropdown-loading"),children:e.jsxs("div",{className:u(n.multipleDropdownLoadingSpinner,"cdg-multiple-dropdown-loading-spinner"),children:[e.jsx("div",{className:u(n.multipleDropdownLoadingSpinnerItem,n.multipleDropdownLoadingSpinnerItem1,"cdg-multiple-dropdown-loading-spinner-item-1")}),e.jsx("div",{className:u(n.multipleDropdownLoadingSpinnerItem,n.multipleDropdownLoadingSpinnerItem2,"cdg-multiple-dropdown-loading-spinner-item-2")}),e.jsx("div",{className:u(n.multipleDropdownLoadingSpinnerItem,n.multipleDropdownLoadingSpinnerItem3,"cdg-multiple-dropdown-loading-spinner-item-3")}),e.jsx("div",{})]})})}Pe.__docgenInfo={description:"",methods:[],displayName:"DropdownLoading"};const Ke=s=>{const{children:d,isLoading:r,css:t={},noDataMessage:i,onLoadMore:p}=s,m=A(null),w=A(null),q=ao(m),{searchValue:f,labelId:M,isLoadingMore:v}=l.useContext(ae),{child:b,rest:_}=Ne(d,ge),L=y.useMemo(()=>{let x=0;return l.Children.map(_,D=>{Q(D).toLocaleLowerCase().includes(f.toLocaleLowerCase())&&x++}),x},[_,f]);return l.useEffect(()=>{if(m.current&&w.current){const x=so(m.current,w.current);q&&x>=0&&x<4&&!v&&(p==null||p())}},[q,v,m,p,w]),e.jsxs(pe,{css:t,children:[b&&b,e.jsxs("ul",{role:"listbox","aria-labelledby":M,className:u(n.multipleDropdownList,"cdg-multiple-dropdown-list"),children:[r?e.jsx(Pe,{}):L===0?e.jsx("div",{className:u(n.multipleDropdownListEmptyData,"cdg-multiple-dropdown-list-empty"),children:i||"No data"}):_,l.Children.toArray(_).length>0&&e.jsx("div",{className:u(n.multipleDropdownListItem,"cdg-multiple-dropdown-list-item"),ref:m}),e.jsx("div",{className:u(n.multipleDropdownListItem,"cdg-multiple-dropdown-list-item"),ref:w})]})]})};Ke.__docgenInfo={description:"",methods:[],displayName:"MultipleDropdownList",props:{searchValue:{required:!1,tsType:{name:"string"},description:""},isLoading:{required:!1,tsType:{name:"boolean"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},noDataMessage:{required:!1,tsType:{name:"string"},description:""},css:{required:!1,tsType:{name:"intersection",raw:`{
  [K in keyof CSSProperties]?: ValueByPropertyName<K> | Values
} & {
  // unknown css declaration styles
  [K: string]: Values | CSS
}`,elements:[{name:"signature",type:"object",raw:`{
  [K in keyof CSSProperties]?: ValueByPropertyName<K> | Values
}`,signature:{properties:[{key:{name:"CSSProperties",required:!1},value:{name:"union",raw:"ValueByPropertyName<K> | Values",elements:[{name:"unknown"},{name:"Values"}]}}]}},{name:"signature",type:"object",raw:`{
  // unknown css declaration styles
  [K: string]: Values | CSS
}`,signature:{properties:[{key:{name:"string"},value:{name:"union",raw:"Values | CSS",elements:[{name:"Values"},{name:"CSS"}],required:!0}}]}}]},description:""},onLoadMore:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const _e=l.forwardRef((s,d)=>{const{id:r,children:t,title:i,isClickable:p,css:m={},checkmark:w="checkbox",isChecked:q,index:f=-1,onClick:M,onSectionClick:v,...b}=s,_=Me(r),{onSectionClick:L,selectedSectionIndexes:x,setSelectedSectionIndexes:D,selectedItems:k}=y.useContext(ae),[V,T]=l.useState(q??x.includes(f)),P=A(d);l.useEffect(()=>{const C=l.Children.toArray(t).some(S=>{const j=S;return k.findIndex(Ie=>{var oe;return Ie.value.toString()===((oe=j.props.value)==null?void 0:oe.toString())})===-1});T(!C),D(S=>{const j=new Set(S);return C?j.delete(f):j.add(f),[...j]})},[k,t,D,f]);const te=()=>{if(!p)return;M==null||M(i);const W=l.Children.toArray(t).map(C=>{var j;const S=C;return{value:((j=S.props.value)==null?void 0:j.toString())??"",displayValue:S.props.textValue??S.props.children}});L(W,!V,_,f),v==null||v(W,!V,_,f),T(!V)},F=u(n.multipleDropdownRightIcon,V&&n.multipleDropdownRightIconSelected,w==="checkbox"&&n.multipleDropdownRightIconCheckbox,w==="tick"&&n.multipleDropdownRightIconTick,"cdg-multiple-dropdown-section");return e.jsx(pe,{css:m,childrenRef:P,children:e.jsxs("div",{...b,ref:P,className:u(n.multipleDropdownSection,"cdg-multiple-dropdown-section"),children:[i&&e.jsxs("div",{className:u(n.multipleDropdownSectionContent,p&&n.IsClickable,"cdg-multiple-dropdown-section-content"),onClick:te,children:[i,e.jsx("div",{className:F,children:w==="checkbox"?e.jsx("div",{className:u(n.multipleDropdownSectionCheckbox,p&&n.IsClickable,"cdg-multiple-dropdown-section-checkbox"),children:e.jsx(uo,{})}):w==="tick"?e.jsx(mo,{}):null})]}),t]})})}),uo=()=>e.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",children:e.jsx("path",{d:"M9.39158 1.86239C9.64736 2.12284 9.64736 2.54372 9.39158 2.80416L4.15319 8.13808C3.89741 8.39853 3.48407 8.39853 3.22829 8.13808L0.608522 5.47112C0.352823 5.21068 0.352823 4.7898 0.608522 4.52935C0.864262 4.26891 1.27883 4.26891 1.53461 4.52935L3.67232 6.72334L8.46668 1.86239C8.72246 1.60153 9.1358 1.60153 9.39158 1.86239Z",fill:"currentColor"})}),mo=()=>e.jsx("svg",{width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",children:e.jsx("path",{d:"M15.0265 3.47966C15.4357 3.89637 15.4357 4.56978 15.0265 4.98649L6.64506 13.5208C6.23581 13.9375 5.57446 13.9375 5.16521 13.5208L0.973587 9.25363C0.564469 8.83691 0.564469 8.16351 0.973587 7.74679C1.38277 7.33008 2.04608 7.33008 2.45533 7.74679L5.87567 11.2572L13.5466 3.47966C13.9559 3.06228 14.6172 3.06228 15.0265 3.47966Z",fill:"currentColor"})});_e.__docgenInfo={description:"",methods:[],displayName:"MultipleDropdownSection"};const Be=()=>e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",className:u(n.dropdownButtonIcon,"cdg-dropdown-button-icon"),children:e.jsx("path",{d:"M8.33276 12.3334C8.02004 12.3334 7.70717 12.2125 7.46885 11.9707L1.35805 5.78022C0.880649 5.29658 0.880649 4.5131 1.35805 4.02947C1.83546 3.54584 2.60886 3.54584 3.08626 4.02947L8.33276 9.34651L13.5804 4.03044C14.0578 3.54681 14.8312 3.54681 15.3086 4.03044C15.786 4.51407 15.786 5.29755 15.3086 5.78118L9.19782 11.9717C8.95912 12.2135 8.64594 12.3334 8.33276 12.3334Z",fill:"currentColor"})}),ue=l.forwardRef((s,d)=>{const{id:r,css:t={},popoverCSS:i={},isOpen:p,children:m,isErrored:w,isDisabled:q,isRequired:f,isReadOnly:M,helperText:v,defaultOpen:b,errorMessage:_,selectedKeys:L,values:x,numberOfRows:D,displayedValue:k="chip",icon:V=e.jsx(Be,{}),disabledKeys:T=[],disabledValues:P=[],isLoading:te=!1,variant:F="combobox",customDisplayValue:W,defaultSelectedKeys:C,defaultValues:S,label:j,placeholder:Ie,erroredKeys:oe,erroredValues:ne,noDataMessage:He="",isLoadingMore:Ae=!1,className:Fe="",isFloatingPortal:We=!0,onLoadMore:Oe=()=>{},onBlur:$e=()=>{},onFocus:Ze=()=>{},onSelectionChange:O=()=>{},onValuesChange:$=()=>{},onOpenChange:H=()=>{},onKeyDown:xe=()=>{},...Ue}=s,[R,Z]=l.useState(p??b??!1),[ze,Ge]=l.useState(!1),[Je,ke]=l.useState(!1),[fe,Qe]=l.useState(""),[me,U]=l.useState(),[ye,be]=l.useState([]),[N,le]=l.useState([]),[X,Xe]=l.useState([]),[K,Ye]=l.useState(null),[et,tt]=y.useState("100%"),ve=A(d),z=A(null),Y=A(null),Le=l.useRef(!1),we=Me(r),je=l.useMemo(()=>P.length?P:T,[P,T]),E=l.useMemo(()=>S!=null&&S.length?S:C,[S,C]),G=l.useMemo(()=>x!=null&&x.length?x:L,[x,L]),De=l.useMemo(()=>E&&(E==null?void 0:E.length)>0||!E&&!L,[E,L]),he=l.useMemo(()=>ne!=null&&ne.length?ne:oe,[ne,oe]),Ce=l.useCallback(o=>{if(typeof o=="string")return o;let a=-1;return l.Children.map(o,c=>{if(!c)return c;if(l.isValidElement(c)){if(c.type===Se){const g=c;if(!("value"in g.props))return l.cloneElement(g,{value:`${c.key}`||""})}const h=c;if(h.props.children){const g={children:Ce(h.props.children)};return h.type===_e&&(a++,g.index=a),l.cloneElement(h,{...g})}}return c})},[]);y.useEffect(()=>{var o;R&&tt(i.width??((o=z==null?void 0:z.current)==null?void 0:o.clientWidth)??"100%")},[R,i.width,z]),y.useEffect(()=>{Ye(Ce(m))},[m,Ce]),l.useEffect(()=>{if(!Le.current){Le.current=!0;return}Z(!!p),p||U("")},[p]),l.useEffect(()=>{R||U("")},[R]),l.useEffect(()=>{if(!K||!(G&&(G==null?void 0:G.length)>0||E&&E.length>0)){le([]);return}const o=E??G??[];let a="";const c=[];for(const h of o){const g=ee(h,K);g&&(c.push({value:h.toString(),displayValue:g}),a=h.toString())}le(c),U(h=>h??a)},[K,G,E]);const ie=l.useCallback(o=>{var a;if(!M){const c=[...N],h=c.findIndex(B=>B.value.toString()===o.value.toString());h===-1?c.push(o):c.splice(h,1),De&&le([...c]);const g=c.map(B=>B.value);O==null||O(g),$==null||$(g),(a=Y.current)==null||a.focus()}},[M,N,De,O,$,Y]),ot=l.useCallback(o=>{var c,h,g,B,re,se,J,de;if(xe(o),!R)return;const a=(me||(N.length?(c=N[0])==null?void 0:c.value:""))??"";switch(o.key){case"ArrowUp":case"ArrowLeft":if(o.preventDefault(),a){const I=io(a,K,X),ce=(I==null?void 0:I.props.value)??((h=I==null?void 0:I.key)==null?void 0:h.toString().replace(".$",""))??"";ce&&U(ce)}else U(((B=(g=Te(K,X))==null?void 0:g.props.value)==null?void 0:B.toString())??"");break;case"ArrowDown":case"ArrowRight":if(o.preventDefault(),a){const I=ro(a,K,X),ce=(I==null?void 0:I.props.value)??((re=I==null?void 0:I.key)==null?void 0:re.toString().replace(".$",""))??"";ce&&U(ce)}else U(((J=(se=Ve(K,X))==null?void 0:se.props.value)==null?void 0:J.toString())??"");break;case"Enter":if(o.preventDefault(),Z(!0),a){const I=ee(a,K);I&&ie({value:((de=I.props.value)==null?void 0:de.toString())||"",displayValue:I.props.textValue||I.props.children})}break;case"Escape":case"Tab":o.preventDefault(),Z(!1),H(!1);break}},[R,me,K,N,X,ie,H,xe]),Re=()=>{var o;q||(Z(!0),H(!0),(o=Y.current)==null||o.focus())},nt=o=>{if(z.current){const a=o.target.value;if(Qe(a),Z(!0),H(!0),a!==""){const c=document.createElement("div");c.style.position="absolute",c.style.top="0",c.style.left="-9999px",c.style.overflow="hidden",c.style.visibility="hidden",c.style.whiteSpace="nowrap",c.style.height="0",c.style.width="fit-content",c.style.maxWidth=`${z.current.clientWidth-62}px`,c.innerHTML=a.replace(/\s/g,"&nbsp;"),document.body.appendChild(c),o.target.focus(),o.target.style.width=`${c.clientWidth+4}px`,c.remove()}else o.target.style.width="4px"}},lt=()=>{const o=N.map(a=>Q(a.displayValue));return o.length>0?e.jsx(e.Fragment,{children:o.join(", ")}):""},it=y.useCallback(o=>a=>{a.stopPropagation(),a.preventDefault(),ie(o)},[ie]),rt=y.useCallback(o=>!!(he!=null&&he.some(a=>a.toString()===o)),[he]),st=(o,a,c,h)=>{var se;if(h===-1)return;const g=[...N];o.forEach(J=>{if(!M){const de=g.findIndex(I=>I.value.toString()===J.value.toString());de===-1?a&&g.push(J):a||g.splice(de,1)}});const B=new Set(ye);a?B.add(h):B.delete(h),be([...B]),De&&le([...g]);const re=g.map(J=>J.value);O==null||O(re),$==null||$(re),(se=Y.current)==null||se.focus()},dt=y.useCallback(()=>{Z(!1)},[]),ct=y.useCallback(o=>{if(!R)switch(o.stopPropagation(),o.key){case"ArrowUp":case"ArrowDown":o.preventDefault(),Z(!0),H==null||H(!0);break}},[H,R]),qe=()=>{setTimeout(()=>{var o;(o=Y.current)==null||o.focus()},0)},pt=y.useCallback(o=>{Ge(o)},[]),at=u(n.multipleDropdownControl,R&&n.multipleDropdownControlIsOpen,w&&n.multipleDropdownControlIsErrored,q&&n.multipleDropdownControlIsDisabled,"cdg-multiple-dropdown-popover"),ut=u(n.multipleDropdownWrapper,k==="string"&&n.displayedValueString,k==="chip"&&n.displayedValueChip,F==="select"&&n.variantSelect,F==="combobox"&&n.variantCombobox,Fe,"cdg-multiple-dropdown");return e.jsx(pe,{css:t,childrenRef:ve,children:e.jsxs("div",{...Ue,ref:ve,className:ut,onKeyDown:ot,children:[e.jsxs(ae.Provider,{value:{isLoadingMore:Ae,open:R,focusKey:me??"",selectedKeys:G??[],defaultSelectedKeys:E??[],disabledKeys:je,searchValue:fe,selectedItems:N,labelId:`${we}-label`,setSelectedItems:le,dropdownItemKeys:X,setDropdownItemKeys:Xe,selectedSectionIndexes:ye,setSelectedSectionIndexes:be,onItemClick:ie,onSectionClick:st,onHeaderClick:qe,isPositioned:ze},children:[j&&e.jsxs("label",{onClick:Re,htmlFor:we,id:`${we}-label`,children:[j,f&&e.jsx("span",{children:"*"})]}),e.jsx(wt,{isOpen:R,onPositionedChange:pt,isFloatingPortal:We,anchor:e.jsxs("div",{role:"button",ref:z,onBlur:$e,onFocus:Ze,onClick:Re,className:at,children:[e.jsxs("div",{className:u(n.multipleDropdownSelectedItemWrapper,"cdg-multiple-dropdown-seleted"),children:[N.length===0&&fe===""&&!R&&!Je&&e.jsx("p",{className:u(n.placeholderSelectedItemWrapper,"cdg-multiple-dropdown-seleted-placeholder"),children:Ie}),k==="chip"&&N.length>0&&N.map(o=>e.jsx(mt,{hasCloseButton:je.findIndex(a=>a.toString()===o.value.toString())===-1,onCloseClick:it(o),isErrored:rt(o.value.toString()),children:o.displayValue instanceof Array?o.displayValue:Q(o.displayValue)},o.value)),k==="string"&&N.length>0?e.jsx("div",{className:u(n.itemListString,"cdg-multiple-dropdown-seleted-display"),children:W??lt()}):null,!q&&F==="combobox"&&e.jsx("input",{id:we,type:"text",ref:Y,value:fe,onKeyDown:ct,onChange:nt,onBlur:()=>ke(!1),onFocus:()=>ke(!0),"aria-autocomplete":"list",role:"combobox","aria-required":f,"aria-invalid":w,"aria-expanded":R})]}),e.jsx("div",{className:u(n.multipleDropdownControlIcon,"cdg-multiple-dropdown-item-icon"),children:V})]}),css:{width:"100%"},direction:"bottom-left",onClose:dt,children:e.jsx("div",{className:u(n.dropdownPopover,"cdg-multiple-dropdown-list-wrapper"),onClick:qe,style:{...i,width:i.width??et},children:e.jsx(Ke,{searchValue:"",isLoading:te,css:{maxHeight:D?`${D*40}px`:"16rem"},onLoadMore:Oe,noDataMessage:He,children:K})})})]}),w&&_&&e.jsx("div",{className:u(n.dropdownHelperText,w&&n.dropdownHelperIsErrored,"cdg-multiple-dropdown-error-message"),children:_}),v&&e.jsx("div",{className:u(n.dropdownHelperText,"cdg-multiple-dropdown-helper-text"),children:v})]})})});Be.__docgenInfo={description:"",methods:[],displayName:"Icon"};ue.__docgenInfo={description:"",methods:[],displayName:"MultipleDropdown"};ue.Item=Se;ue.Header=ge;ue.Section=_e;ue.displayName="MultipleDropdown";export{ue as M};

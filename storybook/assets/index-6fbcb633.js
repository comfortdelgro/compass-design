import{j as _}from"./jsx-runtime-9ef10904.js";import{r as o}from"./index-6c164b11.js";import"./Row-7065e1c2.js";import"./useKeyboardNavigation-fc00b2dd.js";import"./_getTag-831c42c2.js";import"./_equalByTag-6cd86198.js";import"./isObjectLike-c4ff7b99.js";import{c as w,C as b}from"./objectToCSS-e90bd687.js";import{u as N}from"./use-dom-ref-7c72e1a5.js";const q="data-cdg-drawer-scalable-bg",Y=16,m={ROOT:"cdg-drawer",HEADER:"cdg-drawer-header",FOOTER:"cdg-drawer-footer",CONTENT:"cdg-drawer-content",SCALE_DOCUMENT:"cdg-webpage-drawer-scale",SCALE_TARGET:"cdg-drawer-bg-scale",SCALE_DRAWER_OPENED:"cdg-drawer-opened-bg-scale"},C={BACKDROP_BG:"--cdg-drawer-backdrop-bg",BACKDROP_BLUR:"--cdg-drawer-backdrop-blur",BACKDROP_OPACITY:"--cdg-drawer-backdrop-opacity",SCALE:"--cdg-drawer-scale",SCALE_OFFSET:"--cdg-drawer-scale-offset"},z="_drawer_o3rm8_6",J="_modal_o3rm8_1",Q="_drawerHeader_o3rm8_10",X="_drawerContent_o3rm8_19",Z="_drawerFooter_o3rm8_28",k="_left_o3rm8_79",P="_slideOutLeft_o3rm8_1",ee="_slideInLeft_o3rm8_1",re="_right_o3rm8_88",te="_slideOutRight_o3rm8_1",ne="_slideInRight_o3rm8_1",ae="_bottom_o3rm8_97",de="_slideOutUp_o3rm8_1",oe="_slideInUp_o3rm8_1",D={drawer:z,modal:J,drawerHeader:Q,drawerContent:X,drawerFooter:Z,default:"_default_o3rm8_68","non-modal":"_non-modal_o3rm8_73",left:k,slideOutLeft:P,slideInLeft:ee,right:re,slideOutRight:te,slideInRight:ne,bottom:ae,slideOutUp:de,slideInUp:oe},S=o.forwardRef(({children:n,className:r="",css:t,...d},l)=>{const e=N(l),u=_.jsx("footer",{...d,ref:e,className:w(D.drawerFooter,m.FOOTER,r),children:n});return t?_.jsx(b,{css:t,childrenRef:e,children:u}):u});S.__docgenInfo={description:"",methods:[],displayName:"DrawerFooter",props:{className:{defaultValue:{value:"''",computed:!1},required:!1}}};const x=o.forwardRef(({children:n,className:r="",css:t,...d},l)=>{const e=N(l),u=_.jsx("header",{...d,ref:e,className:w(D.drawerHeader,m.HEADER,r),children:n});return t?_.jsx(b,{css:t,childrenRef:e,children:u}):u});x.__docgenInfo={description:"",methods:[],displayName:"DrawerHeader",props:{className:{defaultValue:{value:"''",computed:!1},required:!1}}};function W(n,r){for(const[t,d]of Object.entries(r))d&&n.style.setProperty(t,d)}const le=n=>{var t;return o.isValidElement(n)&&n.type.toString()===Symbol.for("react.fragment").toString()&&((t=n.props)==null?void 0:t.children)||n},p=(n,r,t)=>{const d=[],l=o.Children.map(le(n),e=>{var u;return!o.isValidElement(e)||e.type!==r?e:t?(d.push(o.cloneElement(e,{...e.props,...t,className:w(((u=e.props)==null?void 0:u.className)??"",(t==null?void 0:t.className)??""),style:e.props.style??t.style})),null):(d.push(o.cloneElement(e,e.props)),null)});return{child:d.length>0?d[0]:void 0,rest:l}},G=(n,r)=>{const t=n.current;o.useEffect(()=>{if(typeof document>"u"||!t)return;const d=r==null?void 0:r.blur;W(t,{[C.BACKDROP_OPACITY]:r==null?void 0:r.opacity,[C.BACKDROP_BLUR]:typeof d=="number"?`${d}px`:d,[C.BACKDROP_BG]:r==null?void 0:r.background})},[t,r==null?void 0:r.background,r==null?void 0:r.blur,r==null?void 0:r.opacity])},se=({drawerOpened:n,enableScaleBg:r,scaleBgClassName:t="",scaleBgOffset:d=16}={})=>{const l=o.useCallback(()=>{if(!r||typeof document>"u")return;const e=document.querySelector(`[${q}]`)||document.body;if(e){if(e.classList.add(m.SCALE_TARGET),n){document.documentElement.classList.add(m.SCALE_DOCUMENT,t),W(e,{[C.SCALE]:`${((window.innerWidth-d*2)/window.innerWidth).toFixed(2)}`,[C.SCALE_OFFSET]:`${d}px`}),e.classList.add(m.SCALE_DRAWER_OPENED);return}document.documentElement.classList.remove(m.SCALE_DOCUMENT,t),e.classList.remove(m.SCALE_DRAWER_OPENED)}},[r,n,t,d]);o.useEffect(()=>{l()},[l]),o.useEffect(()=>l,[])},K=o.forwardRef((n,r)=>{const{drawerMode:t="modal",open:d=!1,onMouseDown:l,classNames:e,className:u="",styles:a,backdropProps:f,css:F,children:I,preventFocus:R=!1,preventClose:E=!1,variant:T="default",position:y="right",...A}=n,H=y,h=N(r),i=h.current,s=o.useCallback(c=>{typeof document>"u"||!i||i.close(c)},[i]),v=o.useCallback(c=>{i&&(l==null||l(c),!(!(c.target instanceof HTMLDialogElement)||E)&&c.target.nodeName==="DIALOG"&&s("dismiss"))},[i,E,l,s]),j=o.useCallback(c=>{E&&c.preventDefault()},[E]),{child:U,rest:M}=p(I,x,{className:e==null?void 0:e.header,style:a==null?void 0:a.header}),{child:O,rest:$}=p(M,S,{className:e==null?void 0:e.footer,style:a==null?void 0:a.footer});return G(h,f),o.useEffect(()=>{if(!(typeof document>"u"||!i)){if(d){R&&i.setAttribute("inert",""),t==="modal"?i.showModal():i.show(),i.removeAttribute("inert");return}s()}},[d,i,R,s,t]),_.jsx(b,{css:F,childrenRef:h,children:_.jsxs("dialog",{...A,ref:h,className:w(D.drawer,D[t],D[T],D[H],m.ROOT,(e==null?void 0:e.root)??"",u),onMouseDown:v,onCancel:j,style:A.style||(a==null?void 0:a.root),children:[U,_.jsx("article",{className:w(D.drawerContent,m.CONTENT,(e==null?void 0:e.content)??""),style:a==null?void 0:a.content,children:$}),O]})})});K.__docgenInfo={description:"",methods:[],displayName:"DrawerDefault"};const ie="_drawerExpander_jh9cy_5",ce="_expanderLine_jh9cy_20",B={drawerExpander:ie,expanderLine:ce},fe="_drawer_105n8_39",_e="_modal_105n8_1",ue="_drawerHeader_105n8_1",me="_drawerContent_105n8_1",we="_drawerFooter_105n8_1",Ee="_slideOutUp_105n8_1",he="_slideInUp_105n8_1",De="_slideInLeft_105n8_1",Re="_slideOutLeft_105n8_1",Oe="_slideInRight_105n8_1",ge="_slideOutRight_105n8_1",L={drawer:fe,modal:_e,drawerHeader:ue,drawerContent:me,drawerFooter:we,slideOutUp:Ee,slideInUp:he,"non-modal":"_non-modal_105n8_75",slideInLeft:De,slideOutLeft:Re,slideInRight:Oe,slideOutRight:ge},V=o.forwardRef((n,r)=>{const{drawerMode:t="modal",variant:d,open:l=!1,onMouseDown:e,className:u="",classNames:a,styles:f,backdropProps:F,disableResize:I,preventClose:R=!1,preventFocus:E=!1,enableScaleBg:T=!1,scaleBgOffset:y=Y,scaleBgClassName:A=m.SCALE_DOCUMENT,children:H,...h}=n,i=N(r),s=i.current,{child:v,rest:j}=p(H,x,{className:a==null?void 0:a.header,style:f==null?void 0:f.header}),{child:U,rest:M}=p(j,S,{className:a==null?void 0:a.footer,style:f==null?void 0:f.footer}),O=o.useCallback(c=>{typeof document>"u"||!s||s.close(c)},[s]),$=o.useCallback(c=>{s&&(e==null||e(c),!(!(c.target instanceof HTMLDialogElement)||R)&&c.target.nodeName==="DIALOG"&&O("dismiss"))},[s,R,e,O]);return G(i,F),se({drawerOpened:l,enableScaleBg:T&&t==="modal",scaleBgClassName:A,scaleBgOffset:y}),o.useEffect(()=>{if(!(typeof document>"u"||!s)){if(!l){O();return}E&&s.setAttribute("inert",""),t==="modal"?s.showModal():s.show(),s.removeAttribute("inert")}},[l,s,E,O,t]),_.jsxs("dialog",{ref:i,...h,className:w(L.drawer,L[t],L[d],m.ROOT,(a==null?void 0:a.root)??"",u),onMouseDown:$,onCancel:R?c=>c.preventDefault():void 0,style:h.style||(f==null?void 0:f.root),children:[!I&&_.jsx("div",{className:w(B.drawerExpander,"cdg-drawer-expander"),children:_.jsx("div",{className:w(B.expanderLine,"cdg-drawer-expander-line")})}),v,_.jsx("article",{className:w(L.drawerContent,m.CONTENT,(a==null?void 0:a.content)??""),style:f==null?void 0:f.content,children:M}),U]})});V.__docgenInfo={description:"",methods:[],displayName:"DrawerMobile"};const g=o.forwardRef((n,r)=>n.variant==="mobile"?_.jsx(V,{ref:r,...n}):_.jsx(K,{ref:r,...n}));g.__docgenInfo={description:"",methods:[],displayName:"Drawer"};g.Header=x;g.Footer=S;g.Header.displayName="Drawer.Header";g.Footer.displayName="Drawer.Footer";g.displayName="Drawer";export{g as D};

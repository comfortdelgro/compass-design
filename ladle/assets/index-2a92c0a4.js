import{s as d,j as a,F as p,R as l,k as w,a as g}from"./index-07284770.js";import{p as x}from"./pick-child-2ef85ca7.js";const A=d("div",{width:"100%",label:{fontSize:"$label1",fontWeight:"$semibold",marginBottom:"$2",display:"inline-block",width:"100%",span:{marginLeft:"$1",color:"$danger"}}}),H=d("div",{width:"100%",border:"1px solid #E6E6E6",background:"#FFFFFF",overflow:"hidden",borderRadius:"$md",zIndex:1,button:{padding:"$3 $4",width:"100%",height:"$11",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",border:"none",gap:"$1",background:"transparent",fontSize:"$label1",fontWeight:"$semibold",svg:{flexShrink:0,width:"$4",height:"$4"},span:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",flexGrow:1,textAlign:"start"}},variants:{isEmpty:{true:{button:{span:{color:"#B4B4B4"}}}},isDisabled:{true:{cursor:"not-allowed !important","& > *":{cursor:"not-allowed !important"}}},isErrored:{true:{borderColor:"$danger",borderWidth:1,button:{"&:focus":{borderColor:"$danger",outlineColor:"$danger"},"&:focus-within":{borderColor:"$danger",outlineColor:"$danger"}}}}}}),P=d("div",{width:"100%",border:"1px solid #E6E6E6",background:"#FFFFFF",overflow:"hidden",borderRadius:"$md",position:"relative",display:"flex",alignItems:"center",zIndex:1,input:{boxSizing:"border-box",background:"#FFFFFF",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",fontSize:"$label1",fontWeight:"$semibold",width:"100%",height:"$11",flexGrow:1,border:"none",padding:"$3 $11 $3 $4",margin:0},button:{position:"absolute",cursor:"pointer",top:"50%",right:"$3",transform:"translateY(-50%)",width:"$6",height:"$6",display:"flex",justifyContent:"center",alignItems:"center",padding:0,border:"none",background:"transparent",svg:{width:"$4",height:"$4"}},variants:{isEmpty:{true:{input:{"&::placeholder":{color:"#B4B4B4",fontSize:"$label1",fontWeight:"$semibold"}}}},isDisabled:{true:{color:"#b7b7b7 !important",input:{color:"#b7b7b7 !important"},cursor:"not-allowed !important","& > *":{cursor:"not-allowed !important"}}},isErrored:{true:{borderColor:"$danger",borderWidth:1,input:{"&:focus":{borderColor:"$danger",outlineColor:"$danger"},"&:focus-within":{borderColor:"$danger",outlineColor:"$danger"}}}}}}),O=d("div",{width:"100%",border:"1px solid #E6E6E6",background:"#FFFFFF",overflow:"hidden",borderRadius:"$md",position:"relative",display:"flex",alignItems:"center",zIndex:1,input:{boxSizing:"border-box",background:"#FFFFFF",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",fontSize:"$label1",fontWeight:"$semibold",width:"100%",height:"$11",flexGrow:1,border:"none",padding:"$3 $11 $3 $12",margin:0},button:{position:"absolute",cursor:"pointer",top:"50%",right:"$3",transform:"translateY(-50%)",width:"$6",height:"$6",display:"flex",justifyContent:"center",alignItems:"center",padding:0,border:"none",background:"transparent",svg:{width:"$4",height:"$4"}},variants:{isEmpty:{true:{input:{padding:"$3 $11 $3 $4","&::placeholder":{color:"#B4B4B4",fontSize:"$label1",fontWeight:"$semibold"}}}},isDisabled:{true:{color:"#b7b7b7 !important",input:{color:"#b7b7b7 !important"},cursor:"not-allowed !important","& > *":{cursor:"not-allowed !important"}}},isErrored:{true:{borderColor:"$danger",borderWidth:1,input:{"&:focus":{borderColor:"$danger",outlineColor:"$danger"},"&:focus-within":{borderColor:"$danger",outlineColor:"$danger"}}}}}}),V=d("div",{display:"flex",alignItems:"center",justifyContent:"center",left:"$3",flexShrink:0,width:"$6",height:"$6",overflow:"hidden",position:"absolute",svg:{width:"$6",height:"$6"}}),N=d("div",{marginTop:"$2",position:"relative",minWidth:"100%"});d("div",{position:"relative",zIndex:2,marginTop:"$1"});const M=d("div",{fontSize:"$label2",fontWeight:"$medium",transition:"$default",marginTop:"$1",color:"$gray70",variants:{error:{true:{color:"$danger"},false:{color:"$gray70"}}}}),v=o=>a(p,{children:o.children}),F=v,C=o=>a(p,{children:o.children}),I=C,G=d("li",{fontSize:"$label1",fontWeight:"$medium",padding:"$2 $4",outline:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"$2",color:"333333","&:hover":{backgroundColor:"#F3F2F1"},variants:{isFocused:{true:{backgroundColor:"#F3F2F1"}},isSelected:{true:{backgroundColor:"#F3F2F1"}},isDisabled:{true:{opacity:.4,cursor:"not-allowed"}}}}),T=d("div",{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:"$4",height:"$4",overflow:"hidden"}),_=d("div",{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:"$6",height:"$6",overflow:"hidden",svg:{width:"$6",height:"$6"}}),X=d("div",{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:"$6",height:"$6",borderRadius:"$md",background:"$$bg"}),Y=d("div",{display:"flex",alignItems:"center",flexGrow:1}),k=o=>a(p,{children:o.children}),m=k,S=2147483600,E=2147483641,Z=()=>a("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:a("path",{d:"M8.33276 12.3334C8.02004 12.3334 7.70717 12.2125 7.46885 11.9707L1.35805 5.78022C0.880649 5.29658 0.880649 4.5131 1.35805 4.02947C1.83546 3.54584 2.60886 3.54584 3.08626 4.02947L8.33276 9.34651L13.5804 4.03044C14.0578 3.54681 14.8312 3.54681 15.3086 4.03044C15.786 4.51407 15.786 5.29755 15.3086 5.78118L9.19782 11.9717C8.95912 12.2135 8.64594 12.3334 8.33276 12.3334Z",fill:"#201F1E"})}),q=(o,e)=>{const t=[];return l.Children.forEach(o,n=>{if(!l.isValidElement(n))return n;if(n.type===e&&t.push(n),n.type===m){const s=n.props.children;l.Children.forEach(s,r=>(l.isValidElement(r)&&r.type===e&&t.push(r),r))}return n}),t.length>=0?t:[]},J=o=>{const e=[];return l.Children.forEach(o,i=>{if(!l.isValidElement(i))return i;if(i.type===m){const n=l.cloneElement(i),s=[];l.Children.forEach(n.props.children,r=>{const c=l.cloneElement(r);c.key&&s.push(c.key)}),e.push({title:n.props.title,keys:s})}if(i.type===F){const n=l.cloneElement(i);n.key&&e.push({title:void 0,keys:[n.key]})}return i}),e.length>=0?e:[]},B=(o,e)=>{const t=[];return o.forEach((i,n)=>{i.title===void 0&&t.push({id:n,type:"component",children:i.keys.map(s=>e.find(r=>s===r.key)).filter(s=>s)}),i.title&&t.push({id:n,type:"group",title:i.title,children:i.keys.map(s=>e.find(r=>s===r.key)).filter(s=>s)})}),t};function K(o){const[e,t]=l.useState(!1),i=l.useMemo(()=>new IntersectionObserver(([n])=>t(!!(n!=null&&n.isIntersecting))),[o.current]);return l.useEffect(()=>(o.current&&i.observe(o.current),()=>{i.disconnect()}),[o,i]),e}const z=(o,e)=>{const t=s=>{const{top:r,left:c,width:u,height:h}=s.getBoundingClientRect();return{x:c+u/2,y:r+h/2}},i=t(o),n=t(e);return Math.hypot(i.x-n.x,i.y-n.y)};class Q{constructor(e,t){this.getKeyIndex=i=>{const n=this.collection.findIndex(s=>s.key===i);return n!==-1?n:null},this.getKeyAfter=i=>{var r;const n=this.getKeyIndex(i);if(n===null)return null;const s=(r=this.collection[n+1])==null?void 0:r.key;return s||null},this.getKeyBefore=i=>{var r;const n=this.getKeyIndex(i);if(n===null)return null;const s=(r=this.collection[n-1])==null?void 0:r.key;return s||null},this.collection=e,this.disabledKeys=t}getKeyBelow(e){let t=this.getKeyAfter(e);for(;t!=null;){if(![...this.disabledKeys].includes(t))return t;t=this.getKeyAfter(t)}return null}getKeyAbove(e){let t=this.getKeyBefore(e);for(;t!=null;){if(![...this.disabledKeys].includes(t))return t;t=this.getKeyBefore(t)}return null}getFirstKey(){var t;let e=(t=this.collection[0])==null?void 0:t.key;for(;e!=null;){if(![...this.disabledKeys].includes(e))return e;e=this.getKeyAfter(e)}return null}getLastKey(){var t;let e=(t=this.collection[this.collection.length-1])==null?void 0:t.key;for(;e!=null;){if(![...this.disabledKeys].includes(e))return e;e=this.getKeyBefore(e)}return null}}function y(o){if(!o)return"";if(typeof o=="string")return o;const e=o.props&&o.props.children;return e instanceof Array?e.map(y).join(" "):y(e)}function U(o,e){let t;return o!=null&&(t=o),e!=null&&(t=e),t}const W=w({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),D=d("div",{display:"flex",justifyContent:"center",margin:"$4 auto",".spinner":{display:"inline-block",position:"relative",width:"$4",height:"$4",div:{boxSizing:"border-box",display:"block",position:"absolute",width:"$4",height:"$4",border:"2px solid #757575",borderRadius:"50%",animation:`${W} 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite`,borderColor:"#757575 transparent transparent transparent"},".spinner-1":{animationDelay:"-0.45s"},".spinner-2":{animationDelay:"-0.3s"},".spinner-3":{animationDelay:"-0.15s"}}}),ee=d("div",{backgroundColor:"$cdgBlue10",padding:"$2 $4",fontSize:"$label2",fontWeight:"$semibold",color:"#333333"});function te(o){const e=l.useRef(null),{listBoxRef:t=e,collection:i,rootChildren:n,sectionCollection:s,renderOptions:r}=o,c=l.useRef(null),u=l.useRef(null),h=K(c),f=l.useMemo(()=>B(s,i),[s,i]);l.useEffect(()=>{if(c.current&&u.current){const $=z(c.current,u.current);h&&$>0&&$<=1&&o.onLoadMore()}},[h]);const{child:b}=x(n,I);return g(p,{children:[b,a("ul",{ref:t,children:o.isLoading?a(D,{children:g("div",{className:"spinner",children:[a("div",{className:"spinner-1"}),a("div",{className:"spinner-2"}),a("div",{className:"spinner-3"}),a("div",{})]})}):g(p,{children:[r==null?void 0:r(f),[...i].length>0&&a("div",{style:{height:1},ref:c})]})}),a("div",{style:{height:1},ref:u})]})}const L=d("div",{position:"absolute",zIndex:"$$zIndex",margin:0,padding:"$2 0",borderRadius:"$md",width:"fit-content",minWidth:"100%",background:"#FFFFFF",boxShadow:"0px 0.6px 1.8px rgba(0, 0, 0, 0.1), 0px 3.2px 7.2px rgba(0, 0, 0, 0.13)",ul:{maxHeight:"$64",overflowY:"auto",listStyle:"none",marginBlockStart:0,marginBlockEnd:0,marginInlineStart:0,marginInlineEnd:0,paddingInlineStart:0,"&:focus":{outline:"none"}}});function ne({children:o,triggerRef:e,close:t,handleKeyDown:i,...n}){var c;const s=l.useRef(null),{popoverRef:r=s}=n;return l.useEffect(()=>{var h,f;const u=(h=r.current)==null?void 0:h.getBoundingClientRect();u&&!(u.top>=0&&u.left>=0&&u.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&u.right<=(window.innerWidth||document.documentElement.clientWidth))&&r.current&&(r.current.style.bottom=`${(((f=e.current)==null?void 0:f.clientHeight)??42)+18}px`)},[]),l.useEffect(()=>(document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i)})),g(p,{children:[a("div",{onClick:t,style:{position:"fixed",inset:0,zIndex:S}}),a(L,{ref:r,style:{minWidth:(c=e.current)!=null&&c.clientWidth?e.current.clientWidth+2:"100%"},css:{$$zIndex:E},children:o})]})}export{te as B,F as D,Z as I,Q as L,ne as P,G as S,Y as a,ee as b,J as c,N as d,M as e,I as f,m as g,_ as h,T as i,X as j,U as k,A as l,H as m,P as n,O as o,q as p,V as q,y as t};

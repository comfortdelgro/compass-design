import{r as g,d as Rt,a as Et,j as te,F as Xt,f as Tt}from"./index-97de903f.js";function Re(e){return e.split("-")[1]}function et(e){return e==="y"?"height":"width"}function ce(e){return e.split("-")[0]}function Ee(e){return["top","bottom"].includes(ce(e))?"x":"y"}function ot(e,t,n){let{reference:r,floating:o}=e;const i=r.x+r.width/2-o.width/2,s=r.y+r.height/2-o.height/2,u=Ee(t),c=et(u),f=r[c]/2-o[c]/2,v=u==="x";let l;switch(ce(t)){case"top":l={x:i,y:r.y-o.height};break;case"bottom":l={x:i,y:r.y+r.height};break;case"right":l={x:r.x+r.width,y:s};break;case"left":l={x:r.x-o.width,y:s};break;default:l={x:r.x,y:r.y}}switch(Re(t)){case"start":l[u]-=f*(n&&v?-1:1);break;case"end":l[u]+=f*(n&&v?-1:1)}return l}const zt=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,u=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let f=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:v,y:l}=ot(f,r,c),d=r,a={},b=0;for(let p=0;p<u.length;p++){const{name:y,fn:h}=u[p],{x,y:k,data:R,reset:A}=await h({x:v,y:l,initialPlacement:r,placement:d,strategy:o,middlewareData:a,rects:f,platform:s,elements:{reference:e,floating:t}});v=x??v,l=k??l,a={...a,[y]:{...a[y],...R}},A&&b<=50&&(b++,typeof A=="object"&&(A.placement&&(d=A.placement),A.rects&&(f=A.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):A.rects),{x:v,y:l}=ot(f,d,c)),p=-1)}return{x:v,y:l,placement:d,strategy:o,middlewareData:a}};function Pt(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function Fe(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function St(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:u,strategy:c}=e,{boundary:f="clippingAncestors",rootBoundary:v="viewport",elementContext:l="floating",altBoundary:d=!1,padding:a=0}=t,b=Pt(a),p=u[d?l==="floating"?"reference":"floating":l],y=Fe(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(p)))==null||n?p:p.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:f,rootBoundary:v,strategy:c})),h=l==="floating"?{...s.floating,x:r,y:o}:s.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),k=await(i.isElement==null?void 0:i.isElement(x))&&await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1},R=Fe(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:h,offsetParent:x,strategy:c}):h);return{top:(y.top-R.top+b.top)/k.y,bottom:(R.bottom-y.bottom+b.bottom)/k.y,left:(y.left-R.left+b.left)/k.x,right:(R.right-y.right+b.right)/k.x}}const Ut=Math.min,Gt=Math.max;function Ge(e,t,n){return Gt(e,Ut(t,n))}const it=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:r=0}=e||{},{x:o,y:i,placement:s,rects:u,platform:c,elements:f}=t;if(n==null)return{};const v=Pt(r),l={x:o,y:i},d=Ee(s),a=et(d),b=await c.getDimensions(n),p=d==="y",y=p?"top":"left",h=p?"bottom":"right",x=p?"clientHeight":"clientWidth",k=u.reference[a]+u.reference[d]-l[d]-u.floating[a],R=l[d]-u.reference[d],A=await(c.getOffsetParent==null?void 0:c.getOffsetParent(n));let T=A?A[x]:0;T&&await(c.isElement==null?void 0:c.isElement(A))||(T=f.floating[x]||u.floating[a]);const $=k/2-R/2,V=v[y],W=T-b[a]-v[h],N=T/2-b[a]/2+$,P=Ge(V,N,W),M=Re(s)!=null&&N!=P&&u.reference[a]/2-(N<V?v[y]:v[h])-b[a]/2<0;return{[d]:l[d]-(M?N<V?V-N:W-N:0),data:{[d]:P,centerOffset:N-P}}}}),Zt=["top","right","bottom","left"];Zt.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const Jt={left:"right",right:"left",bottom:"top",top:"bottom"};function De(e){return e.replace(/left|right|bottom|top/g,t=>Jt[t])}function Qt(e,t,n){n===void 0&&(n=!1);const r=Re(e),o=Ee(e),i=et(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=De(s)),{main:s,cross:De(s)}}const en={start:"end",end:"start"};function qe(e){return e.replace(/start|end/g,t=>en[t])}const tr=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:o,rects:i,initialPlacement:s,platform:u,elements:c}=t,{mainAxis:f=!0,crossAxis:v=!0,fallbackPlacements:l,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:a="none",flipAlignment:b=!0,...p}=e,y=ce(r),h=ce(s)===s,x=await(u.isRTL==null?void 0:u.isRTL(c.floating)),k=l||(h||!b?[De(s)]:function(P){const M=De(P);return[qe(P),M,qe(M)]}(s));l||a==="none"||k.push(...function(P,M,w,m){const S=Re(P);let E=function(I,D,C){const L=["left","right"],F=["right","left"],O=["top","bottom"],H=["bottom","top"];switch(I){case"top":case"bottom":return C?D?F:L:D?L:F;case"left":case"right":return D?O:H;default:return[]}}(ce(P),w==="start",m);return S&&(E=E.map(I=>I+"-"+S),M&&(E=E.concat(E.map(qe)))),E}(s,b,a,x));const R=[s,...k],A=await St(t,p),T=[];let $=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&T.push(A[y]),v){const{main:P,cross:M}=Qt(r,i,x);T.push(A[P],A[M])}if($=[...$,{placement:r,overflows:T}],!T.every(P=>P<=0)){var V,W;const P=(((V=o.flip)==null?void 0:V.index)||0)+1,M=R[P];if(M)return{data:{index:P,overflows:$},reset:{placement:M}};let w=(W=$.filter(m=>m.overflows[0]<=0).sort((m,S)=>m.overflows[1]-S.overflows[1])[0])==null?void 0:W.placement;if(!w)switch(d){case"bestFit":{var N;const m=(N=$.map(S=>[S.placement,S.overflows.filter(E=>E>0).reduce((E,I)=>E+I,0)]).sort((S,E)=>S[1]-E[1])[0])==null?void 0:N[0];m&&(w=m);break}case"initialPlacement":w=s}if(r!==w)return{reset:{placement:w}}}return{}}}},nr=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await async function(i,s){const{placement:u,platform:c,elements:f}=i,v=await(c.isRTL==null?void 0:c.isRTL(f.floating)),l=ce(u),d=Re(u),a=Ee(u)==="x",b=["left","top"].includes(l)?-1:1,p=v&&a?-1:1,y=typeof s=="function"?s(i):s;let{mainAxis:h,crossAxis:x,alignmentAxis:k}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...y};return d&&typeof k=="number"&&(x=d==="end"?-1*k:k),a?{x:x*p,y:h*b}:{x:h*b,y:x*p}}(t,e);return{x:n+o.x,y:r+o.y,data:o}}}};function tn(e){return e==="x"?"y":"x"}const rr=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:u={fn:y=>{let{x:h,y:x}=y;return{x:h,y:x}}},...c}=e,f={x:n,y:r},v=await St(t,c),l=Ee(ce(o)),d=tn(l);let a=f[l],b=f[d];if(i){const y=l==="y"?"bottom":"right";a=Ge(a+v[l==="y"?"top":"left"],a,a-v[y])}if(s){const y=d==="y"?"bottom":"right";b=Ge(b+v[d==="y"?"top":"left"],b,b-v[y])}const p=u.fn({...t,[l]:a,[d]:b});return{...p,data:{x:p.x-n,y:p.y-r}}}}};function X(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function J(e){return X(e).getComputedStyle(e)}function Ct(e){return e instanceof X(e).Node}function oe(e){return Ct(e)?(e.nodeName||"").toLowerCase():""}let Te;function At(){if(Te)return Te;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(Te=e.brands.map(t=>t.brand+"/"+t.version).join(" "),Te):navigator.userAgent}function Q(e){return e instanceof X(e).HTMLElement}function z(e){return e instanceof X(e).Element}function st(e){return typeof ShadowRoot>"u"?!1:e instanceof X(e).ShadowRoot||e instanceof ShadowRoot}function we(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=J(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function nn(e){return["table","td","th"].includes(oe(e))}function Ze(e){const t=/firefox/i.test(At()),n=J(e),r=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!r&&r!=="none"||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(o=>n.willChange.includes(o))||["paint","layout","strict","content"].some(o=>{const i=n.contain;return i!=null&&i.includes(o)})}function Je(){return/^((?!chrome|android).)*safari/i.test(At())}function Ve(e){return["html","body","#document"].includes(oe(e))}const ut=Math.min,he=Math.max,ke=Math.round;function Lt(e){const t=J(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Q(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,u=ke(n)!==i||ke(r)!==s;return u&&(n=i,r=s),{width:n,height:r,fallback:u}}function Ft(e){return z(e)?e:e.contextElement}const Dt={x:1,y:1};function me(e){const t=Ft(e);if(!Q(t))return Dt;const n=t.getBoundingClientRect(),{width:r,height:o,fallback:i}=Lt(t);let s=(i?ke(n.width):n.width)/r,u=(i?ke(n.height):n.height)/o;return s&&Number.isFinite(s)||(s=1),u&&Number.isFinite(u)||(u=1),{x:s,y:u}}function ae(e,t,n,r){var o,i;t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),u=Ft(e);let c=Dt;t&&(r?z(r)&&(c=me(r)):c=me(e));const f=u?X(u):window,v=Je()&&n;let l=(s.left+(v&&((o=f.visualViewport)==null?void 0:o.offsetLeft)||0))/c.x,d=(s.top+(v&&((i=f.visualViewport)==null?void 0:i.offsetTop)||0))/c.y,a=s.width/c.x,b=s.height/c.y;if(u){const p=X(u),y=r&&z(r)?X(r):r;let h=p.frameElement;for(;h&&r&&y!==p;){const x=me(h),k=h.getBoundingClientRect(),R=getComputedStyle(h);k.x+=(h.clientLeft+parseFloat(R.paddingLeft))*x.x,k.y+=(h.clientTop+parseFloat(R.paddingTop))*x.y,l*=x.x,d*=x.y,a*=x.x,b*=x.y,l+=k.x,d+=k.y,h=X(h).frameElement}}return Fe({width:a,height:b,x:l,y:d})}function ne(e){return((Ct(e)?e.ownerDocument:e.document)||window.document).documentElement}function He(e){return z(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function kt(e){return ae(ne(e)).left+He(e).scrollLeft}function ve(e){if(oe(e)==="html")return e;const t=e.assignedSlot||e.parentNode||st(e)&&e.host||ne(e);return st(t)?t.host:t}function Mt(e){const t=ve(e);return Ve(t)?t.ownerDocument.body:Q(t)&&we(t)?t:Mt(t)}function re(e,t){var n;t===void 0&&(t=[]);const r=Mt(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),i=X(r);return o?t.concat(i,i.visualViewport||[],we(r)?r:[]):t.concat(r,re(r))}function lt(e,t,n){let r;if(t==="viewport")r=function(s,u){const c=X(s),f=ne(s),v=c.visualViewport;let l=f.clientWidth,d=f.clientHeight,a=0,b=0;if(v){l=v.width,d=v.height;const p=Je();(!p||p&&u==="fixed")&&(a=v.offsetLeft,b=v.offsetTop)}return{width:l,height:d,x:a,y:b}}(e,n);else if(t==="document")r=function(s){const u=ne(s),c=He(s),f=s.ownerDocument.body,v=he(u.scrollWidth,u.clientWidth,f.scrollWidth,f.clientWidth),l=he(u.scrollHeight,u.clientHeight,f.scrollHeight,f.clientHeight);let d=-c.scrollLeft+kt(s);const a=-c.scrollTop;return J(f).direction==="rtl"&&(d+=he(u.clientWidth,f.clientWidth)-v),{width:v,height:l,x:d,y:a}}(ne(e));else if(z(t))r=function(s,u){const c=ae(s,!0,u==="fixed"),f=c.top+s.clientTop,v=c.left+s.clientLeft,l=Q(s)?me(s):{x:1,y:1};return{width:s.clientWidth*l.x,height:s.clientHeight*l.y,x:v*l.x,y:f*l.y}}(t,n);else{const s={...t};if(Je()){var o,i;const u=X(e);s.x-=((o=u.visualViewport)==null?void 0:o.offsetLeft)||0,s.y-=((i=u.visualViewport)==null?void 0:i.offsetTop)||0}r=s}return Fe(r)}function It(e,t){const n=ve(e);return!(n===t||!z(n)||Ve(n))&&(J(n).position==="fixed"||It(n,t))}function ct(e,t){return Q(e)&&J(e).position!=="fixed"?t?t(e):e.offsetParent:null}function at(e,t){const n=X(e);if(!Q(e))return n;let r=ct(e,t);for(;r&&nn(r)&&J(r).position==="static";)r=ct(r,t);return r&&(oe(r)==="html"||oe(r)==="body"&&J(r).position==="static"&&!Ze(r))?n:r||function(o){let i=ve(o);for(;Q(i)&&!Ve(i);){if(Ze(i))return i;i=ve(i)}return null}(e)||n}function rn(e,t,n){const r=Q(t),o=ne(t),i=ae(e,!0,n==="fixed",t);let s={scrollLeft:0,scrollTop:0};const u={x:0,y:0};if(r||!r&&n!=="fixed")if((oe(t)!=="body"||we(o))&&(s=He(t)),Q(t)){const c=ae(t,!0);u.x=c.x+t.clientLeft,u.y=c.y+t.clientTop}else o&&(u.x=kt(o));return{x:i.left+s.scrollLeft-u.x,y:i.top+s.scrollTop-u.y,width:i.width,height:i.height}}const on={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=n==="clippingAncestors"?function(f,v){const l=v.get(f);if(l)return l;let d=re(f).filter(y=>z(y)&&oe(y)!=="body"),a=null;const b=J(f).position==="fixed";let p=b?ve(f):f;for(;z(p)&&!Ve(p);){const y=J(p),h=Ze(p);h||y.position!=="fixed"||(a=null),(b?!h&&!a:!h&&y.position==="static"&&a&&["absolute","fixed"].includes(a.position)||we(p)&&!h&&It(f,p))?d=d.filter(x=>x!==p):a=y,p=ve(p)}return v.set(f,d),d}(t,this._c):[].concat(n),s=[...i,r],u=s[0],c=s.reduce((f,v)=>{const l=lt(t,v,o);return f.top=he(l.top,f.top),f.right=ut(l.right,f.right),f.bottom=ut(l.bottom,f.bottom),f.left=he(l.left,f.left),f},lt(t,u,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=Q(n),i=ne(n);if(n===i)return t;let s={scrollLeft:0,scrollTop:0},u={x:1,y:1};const c={x:0,y:0};if((o||!o&&r!=="fixed")&&((oe(n)!=="body"||we(i))&&(s=He(n)),Q(n))){const f=ae(n);u=me(n),c.x=f.x+n.clientLeft,c.y=f.y+n.clientTop}return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-s.scrollLeft*u.x+c.x,y:t.y*u.y-s.scrollTop*u.y+c.y}},isElement:z,getDimensions:function(e){return Lt(e)},getOffsetParent:at,getDocumentElement:ne,getScale:me,async getElementRects(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||at,i=this.getDimensions;return{reference:rn(t,await o(n),r),floating:{x:0,y:0,...await i(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>J(e).direction==="rtl"};function or(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=!0,animationFrame:u=!1}=r,c=o||i?[...z(e)?re(e):e.contextElement?re(e.contextElement):[],...re(t)]:[];c.forEach(d=>{const a=!z(d)&&d.toString().includes("V");!o||u&&!a||d.addEventListener("scroll",n,{passive:!0}),i&&d.addEventListener("resize",n)});let f,v=null;s&&(v=new ResizeObserver(()=>{n()}),z(e)&&!u&&v.observe(e),z(e)||!e.contextElement||u||v.observe(e.contextElement),v.observe(t));let l=u?ae(e):null;return u&&function d(){const a=ae(e);!l||a.x===l.x&&a.y===l.y&&a.width===l.width&&a.height===l.height||n(),l=a,f=requestAnimationFrame(d)}(),n(),()=>{var d;c.forEach(a=>{o&&a.removeEventListener("scroll",n),i&&a.removeEventListener("resize",n)}),(d=v)==null||d.disconnect(),v=null,u&&cancelAnimationFrame(f)}}const sn=(e,t,n)=>{const r=new Map,o={platform:on,...n},i={...o.platform,_c:r};return zt(e,t,{...o,platform:i})},ir=e=>{const{element:t,padding:n}=e;function r(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){return t&&r(t)?t.current!=null?it({element:t.current,padding:n}).fn(o):{}:t?it({element:t,padding:n}).fn(o):{}}}};var Ce=typeof document<"u"?g.useLayoutEffect:g.useEffect;function Me(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Me(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Me(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Ot(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ft(e,t){const n=Ot(e);return Math.round(t*n)/n}function dt(e){const t=g.useRef(e);return Ce(()=>{t.current=e}),t}function un(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:u=!0,whileElementsMounted:c,open:f}=e,[v,l]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[d,a]=g.useState(r);Me(d,r)||a(r);const[b,p]=g.useState(null),[y,h]=g.useState(null),x=g.useCallback(E=>{E!=T.current&&(T.current=E,p(E))},[p]),k=g.useCallback(E=>{E!==$.current&&($.current=E,h(E))},[h]),R=i||b,A=s||y,T=g.useRef(null),$=g.useRef(null),V=g.useRef(v),W=dt(c),N=dt(o),P=g.useCallback(()=>{if(!T.current||!$.current)return;const E={placement:t,strategy:n,middleware:d};N.current&&(E.platform=N.current),sn(T.current,$.current,E).then(I=>{const D={...I,isPositioned:!0};M.current&&!Me(V.current,D)&&(V.current=D,Rt.flushSync(()=>{l(D)}))})},[d,t,n,N]);Ce(()=>{f===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,l(E=>({...E,isPositioned:!1})))},[f]);const M=g.useRef(!1);Ce(()=>(M.current=!0,()=>{M.current=!1}),[]),Ce(()=>{if(R&&(T.current=R),A&&($.current=A),R&&A){if(W.current)return W.current(R,A,P);P()}},[R,A,P,W]);const w=g.useMemo(()=>({reference:T,floating:$,setReference:x,setFloating:k}),[x,k]),m=g.useMemo(()=>({reference:R,floating:A}),[R,A]),S=g.useMemo(()=>{const E={position:n,left:0,top:0};if(!m.floating)return E;const I=ft(m.floating,v.x),D=ft(m.floating,v.y);return u?{...E,transform:"translate("+I+"px, "+D+"px)",...Ot(m.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:D}},[n,u,m.floating,v.x,v.y]);return g.useMemo(()=>({...v,update:P,refs:w,elements:m,floatingStyles:S}),[v,P,w,m,S])}var ln=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},de=new WeakMap,Pe=new WeakMap,Se={},je=0,Nt=function(e){return e&&(e.host||Nt(e.parentNode))},cn=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Nt(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},an=function(e,t,n,r){var o=cn(t,Array.isArray(e)?e:[e]);Se[n]||(Se[n]=new WeakMap);var i=Se[n],s=[],u=new Set,c=new Set(o),f=function(l){!l||u.has(l)||(u.add(l),f(l.parentNode))};o.forEach(f);var v=function(l){!l||c.has(l)||Array.prototype.forEach.call(l.children,function(d){if(u.has(d))v(d);else{var a=d.getAttribute(r),b=a!==null&&a!=="false",p=(de.get(d)||0)+1,y=(i.get(d)||0)+1;de.set(d,p),i.set(d,y),s.push(d),p===1&&b&&Pe.set(d,!0),y===1&&d.setAttribute(n,"true"),b||d.setAttribute(r,"true")}})};return v(t),u.clear(),je++,function(){s.forEach(function(l){var d=de.get(l)-1,a=i.get(l)-1;de.set(l,d),i.set(l,a),d||(Pe.has(l)||l.removeAttribute(r),Pe.delete(l)),a||l.removeAttribute(n)}),je--,je||(de=new WeakMap,de=new WeakMap,Pe=new WeakMap,Se={})}},fn=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=t||ln(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),an(r,o,n,"aria-hidden")):function(){return null}};/*!
* tabbable 6.1.2
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var dn=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Qe=dn.join(","),$t=typeof Element>"u",xe=$t?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Ie=!$t&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},Oe=function e(t,n){var r;n===void 0&&(n=!0);var o=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),i=o===""||o==="true",s=i||n&&t&&e(t.parentNode);return s},mn=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},pn=function(t,n,r){if(Oe(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(Qe));return n&&xe.call(t,Qe)&&o.unshift(t),o=o.filter(r),o},vn=function e(t,n,r){for(var o=[],i=Array.from(t);i.length;){var s=i.shift();if(!Oe(s,!1))if(s.tagName==="SLOT"){var u=s.assignedElements(),c=u.length?u:s.children,f=e(c,!0,r);r.flatten?o.push.apply(o,f):o.push({scopeParent:s,candidates:f})}else{var v=xe.call(s,Qe);v&&r.filter(s)&&(n||!t.includes(s))&&o.push(s);var l=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),d=!Oe(l,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(l&&d){var a=e(l===!0?s.children:l.children,!0,r);r.flatten?o.push.apply(o,a):o.push({scopeParent:s,candidates:a})}else i.unshift.apply(i,s.children)}}return o},Bt=function(t,n){return t.tabIndex<0&&(n||/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||mn(t))&&isNaN(parseInt(t.getAttribute("tabindex"),10))?0:t.tabIndex},gn=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},Wt=function(t){return t.tagName==="INPUT"},hn=function(t){return Wt(t)&&t.type==="hidden"},bn=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},yn=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},wn=function(t){if(!t.name)return!0;var n=t.form||Ie(t),r=function(u){return n.querySelectorAll('input[type="radio"][name="'+u+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(t.name));else try{o=r(t.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var i=yn(o,t.form);return!i||i===t},xn=function(t){return Wt(t)&&t.type==="radio"},Rn=function(t){return xn(t)&&!wn(t)},En=function(t){var n,r=t&&Ie(t),o=(n=r)===null||n===void 0?void 0:n.host,i=!1;if(r&&r!==t){var s,u,c;for(i=!!((s=o)!==null&&s!==void 0&&(u=s.ownerDocument)!==null&&u!==void 0&&u.contains(o)||t!=null&&(c=t.ownerDocument)!==null&&c!==void 0&&c.contains(t));!i&&o;){var f,v,l;r=Ie(o),o=(f=r)===null||f===void 0?void 0:f.host,i=!!((v=o)!==null&&v!==void 0&&(l=v.ownerDocument)!==null&&l!==void 0&&l.contains(o))}}return i},mt=function(t){var n=t.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},Tn=function(t,n){var r=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var i=xe.call(t,"details>summary:first-of-type"),s=i?t.parentElement:t;if(xe.call(s,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var u=t;t;){var c=t.parentElement,f=Ie(t);if(c&&!c.shadowRoot&&o(c)===!0)return mt(t);t.assignedSlot?t=t.assignedSlot:!c&&f!==t.ownerDocument?t=f.host:t=c}t=u}if(En(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return mt(t);return!1},Pn=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return xe.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},Sn=function(t,n){return!(n.disabled||Oe(n)||hn(n)||Tn(n,t)||bn(n)||Pn(n))},pt=function(t,n){return!(Rn(n)||Bt(n)<0||!Sn(t,n))},Cn=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},An=function e(t){var n=[],r=[];return t.forEach(function(o,i){var s=!!o.scopeParent,u=s?o.scopeParent:o,c=Bt(u,s),f=s?e(o.candidates):u;c===0?s?n.push.apply(n,f):n.push(u):r.push({documentOrder:i,tabIndex:c,item:o,isScope:s,content:f})}),r.sort(gn).reduce(function(o,i){return i.isScope?o.push.apply(o,i.content):o.push(i.content),o},[]).concat(n)},Ne=function(t,n){n=n||{};var r;return n.getShadowRoot?r=vn([t],n.includeContainer,{filter:pt.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Cn}):r=pn(t,n.includeContainer,pt.bind(null,n)),An(r)},G=typeof document<"u"?g.useLayoutEffect:g.useEffect;let Ye=!1,Ln=0;const vt=()=>"floating-ui-"+Ln++;function Fn(){const[e,t]=g.useState(()=>Ye?vt():void 0);return G(()=>{e==null&&t(vt())},[]),g.useEffect(()=>{Ye||(Ye=!0)},[]),e}const Dn=Tt["useId".toString()],tt=Dn||Fn;function kn(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const Mn=g.createContext(null),In=g.createContext(null),Vt=()=>{var e;return((e=g.useContext(Mn))==null?void 0:e.id)||null},Ke=()=>g.useContext(In);function Y(e){return(e==null?void 0:e.ownerDocument)||document}function On(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function Nn(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function _e(e){return Y(e).defaultView||window}function Z(e){return e?e instanceof _e(e).Element:!1}function ge(e){return e?e instanceof _e(e).HTMLElement:!1}function $n(e){if(typeof ShadowRoot>"u")return!1;const t=_e(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Bn(e){if(e.mozInputSource===0&&e.isTrusted)return!0;const t=/Android/i;return(t.test(On())||t.test(Nn()))&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Wn(e){return e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType!=="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0}function Vn(){return/apple/i.test(navigator.vendor)}function $e(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function q(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&$n(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function be(e){const t=g.useRef(e);return G(()=>{t.current=e}),t}const gt="data-floating-ui-safe-polygon";function Xe(e,t,n){return n&&!$e(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function sr(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,elements:{domReference:s,floating:u},refs:c}=e,{enabled:f=!0,delay:v=0,handleClose:l=null,mouseOnly:d=!1,restMs:a=0,move:b=!0}=t,p=Ke(),y=Vt(),h=be(l),x=be(v),k=g.useRef(),R=g.useRef(),A=g.useRef(),T=g.useRef(),$=g.useRef(!0),V=g.useRef(!1),W=g.useRef(()=>{}),N=g.useCallback(()=>{var m;const S=(m=o.current.openEvent)==null?void 0:m.type;return(S==null?void 0:S.includes("mouse"))&&S!=="mousedown"},[o]);g.useEffect(()=>{if(!f)return;function m(){clearTimeout(R.current),clearTimeout(T.current),$.current=!0}return i.on("dismiss",m),()=>{i.off("dismiss",m)}},[f,i]),g.useEffect(()=>{if(!f||!h.current||!n)return;function m(){N()&&r(!1)}const S=Y(u).documentElement;return S.addEventListener("mouseleave",m),()=>{S.removeEventListener("mouseleave",m)}},[u,n,r,f,h,o,N]);const P=g.useCallback(function(m){m===void 0&&(m=!0);const S=Xe(x.current,"close",k.current);S&&!A.current?(clearTimeout(R.current),R.current=setTimeout(()=>r(!1),S)):m&&(clearTimeout(R.current),r(!1))},[x,r]),M=g.useCallback(()=>{W.current(),A.current=void 0},[]),w=g.useCallback(()=>{if(V.current){const m=Y(c.floating.current).body;m.style.pointerEvents="",m.removeAttribute(gt),V.current=!1}},[c]);return g.useEffect(()=>{if(!f)return;function m(){return o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1}function S(D){if(clearTimeout(R.current),$.current=!1,d&&!$e(k.current)||a>0&&Xe(x.current,"open")===0)return;o.current.openEvent=D;const C=Xe(x.current,"open",k.current);C?R.current=setTimeout(()=>{r(!0)},C):r(!0)}function E(D){if(m())return;W.current();const C=Y(u);if(clearTimeout(T.current),h.current){n||clearTimeout(R.current),A.current=h.current({...e,tree:p,x:D.clientX,y:D.clientY,onClose(){w(),M(),P()}});const F=A.current;C.addEventListener("mousemove",F),W.current=()=>{C.removeEventListener("mousemove",F)};return}(k.current==="touch"?!q(u,D.relatedTarget):!0)&&P()}function I(D){m()||h.current==null||h.current({...e,tree:p,x:D.clientX,y:D.clientY,onClose(){w(),M(),P()}})(D)}if(Z(s)){const D=s;return n&&D.addEventListener("mouseleave",I),u==null||u.addEventListener("mouseleave",I),b&&D.addEventListener("mousemove",S,{once:!0}),D.addEventListener("mouseenter",S),D.addEventListener("mouseleave",E),()=>{n&&D.removeEventListener("mouseleave",I),u==null||u.removeEventListener("mouseleave",I),b&&D.removeEventListener("mousemove",S),D.removeEventListener("mouseenter",S),D.removeEventListener("mouseleave",E)}}},[s,u,f,e,d,a,b,P,M,w,r,n,p,x,h,o]),G(()=>{var m;if(f&&n&&(m=h.current)!=null&&m.__options.blockPointerEvents&&N()){const I=Y(u).body;if(I.setAttribute(gt,""),I.style.pointerEvents="none",V.current=!0,Z(s)&&u){var S,E;const D=s,C=p==null||(S=p.nodesRef.current.find(L=>L.id===y))==null||(E=S.context)==null?void 0:E.elements.floating;return C&&(C.style.pointerEvents=""),D.style.pointerEvents="auto",u.style.pointerEvents="auto",()=>{D.style.pointerEvents="",u.style.pointerEvents=""}}}},[f,n,y,u,s,p,h,o,N]),G(()=>{n||(k.current=void 0,M(),w())},[n,M,w]),g.useEffect(()=>()=>{M(),clearTimeout(R.current),clearTimeout(T.current),w()},[f,M,w]),g.useMemo(()=>{if(!f)return{};function m(S){k.current=S.pointerType}return{reference:{onPointerDown:m,onPointerEnter:m,onMouseMove(){n||a===0||(clearTimeout(T.current),T.current=setTimeout(()=>{$.current||r(!0)},a))}},floating:{onMouseEnter(){clearTimeout(R.current)},onMouseLeave(){i.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),P(!1)}}}},[i,f,a,n,r,P])}function le(e){let t=e.activeElement;for(;((n=t)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;t=t.shadowRoot.activeElement}return t}let ht=0;function ue(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(ht);const i=()=>e==null?void 0:e.focus({preventScroll:n});o?i():ht=requestAnimationFrame(i)}function Hn(e,t){var n;let r=[],o=(n=e.find(i=>i.id===t))==null?void 0:n.parentId;for(;o;){const i=e.find(s=>s.id===o);o=i==null?void 0:i.parentId,i&&(r=r.concat(i))}return r}function pe(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(s=>{var u;return o.parentId===s.id&&((u=o.context)==null?void 0:u.open)})}),n=n.concat(r);return n}function nt(e){return"composedPath"in e?e.composedPath()[0]:e.target}const Kn="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Ht(e){return ge(e)&&e.matches(Kn)}function ze(e){e.preventDefault(),e.stopPropagation()}const Be=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Kt(e,t){const n=Ne(e,Be());t==="prev"&&n.reverse();const r=n.indexOf(le(Y(e)));return n.slice(r+1)[0]}function _t(){return Kt(document.body,"next")}function qt(){return Kt(document.body,"prev")}function ye(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!q(n,r)}function _n(e){Ne(e,Be()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function qn(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const rt={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let jn;function bt(e){e.key==="Tab"&&(e.target,clearTimeout(jn))}const We=g.forwardRef(function(t,n){const[r,o]=g.useState();return G(()=>(Vn()&&o("button"),document.addEventListener("keydown",bt),()=>{document.removeEventListener("keydown",bt)}),[]),te("span",{...t,ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,"data-floating-ui-focus-guard":"",style:rt})}),jt=g.createContext(null);function Yn(e){let{id:t,root:n}=e===void 0?{}:e;const[r,o]=g.useState(null),i=tt(),s=Yt(),u=g.useMemo(()=>({id:t,root:n,portalContext:s,uniqueId:i}),[t,n,s,i]),c=g.useRef();return G(()=>()=>{r==null||r.remove()},[r,u]),G(()=>{if(c.current===u)return;c.current=u;const{id:f,root:v,portalContext:l,uniqueId:d}=u,a=f?document.getElementById(f):null,b="data-floating-ui-portal";if(a){const p=document.createElement("div");p.id=d,p.setAttribute(b,""),a.appendChild(p),o(p)}else{let p=(l==null?void 0:l.portalNode)||v||document.body,y=null;f&&(y=document.createElement("div"),y.id=f,p.appendChild(y));const h=document.createElement("div");h.id=d,h.setAttribute(b,""),p=y||p,p.appendChild(h),o(h)}},[u]),r}function ur(e){let{children:t,id:n,root:r=null,preserveTabOrder:o=!0}=e;const i=Yn({id:n,root:r}),[s,u]=g.useState(null),c=g.useRef(null),f=g.useRef(null),v=g.useRef(null),l=g.useRef(null),d=!!s&&!s.modal&&s.open&&o&&!!(r||i);return g.useEffect(()=>{if(!i||!o||s!=null&&s.modal)return;function a(b){i&&ye(b)&&(b.type==="focusin"?qn:_n)(i)}return i.addEventListener("focusin",a,!0),i.addEventListener("focusout",a,!0),()=>{i.removeEventListener("focusin",a,!0),i.removeEventListener("focusout",a,!0)}},[i,o,s==null?void 0:s.modal]),Et(jt.Provider,{value:g.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:c,afterOutsideRef:f,beforeInsideRef:v,afterInsideRef:l,portalNode:i,setFocusManagerState:u}),[o,i]),children:[d&&i&&te(We,{"data-type":"outside",ref:c,onFocus:a=>{if(ye(a,i)){var b;(b=v.current)==null||b.focus()}else{const p=qt()||(s==null?void 0:s.refs.domReference.current);p==null||p.focus()}}}),d&&i&&te("span",{"aria-owns":i.id,style:rt}),i&&Rt.createPortal(t,i),d&&i&&te(We,{"data-type":"outside",ref:f,onFocus:a=>{if(ye(a,i)){var b;(b=l.current)==null||b.focus()}else{const p=_t()||(s==null?void 0:s.refs.domReference.current);p==null||p.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1))}}})]})}const Yt=()=>g.useContext(jt),Xn=g.forwardRef(function(t,n){return te("button",{...t,type:"button",ref:n,tabIndex:-1,style:rt})});function lr(e){const{context:t,children:n,order:r=["content"],guards:o=!0,initialFocus:i=0,returnFocus:s=!0,modal:u=!0,visuallyHiddenDismiss:c=!1,closeOnFocusOut:f=!0}=e,{open:v,refs:l,nodeId:d,onOpenChange:a,events:b,dataRef:p,elements:{domReference:y,floating:h}}=t,x=be(r),k=be(i),R=be(s),A=Ke(),T=Yt(),$=typeof i=="number"&&i<0,V=g.useRef(null),W=g.useRef(null),N=g.useRef(!1),P=g.useRef(null),M=g.useRef(!1),w=T!=null,m=y&&y.getAttribute("role")==="combobox"&&Ht(y),S=g.useCallback(function(C){return C===void 0&&(C=h),C?Ne(C,Be()):[]},[h]),E=g.useCallback(C=>{const L=S(C);return x.current.map(F=>y&&F==="reference"?y:h&&F==="floating"?h:L).filter(Boolean).flat()},[y,h,x,S]);g.useEffect(()=>{if(!u)return;function C(F){if(F.key==="Tab"){q(h,le(Y(h)))&&S().length===0&&!m&&ze(F);const O=E(),H=nt(F);x.current[0]==="reference"&&H===y&&(ze(F),F.shiftKey?ue(O[O.length-1]):ue(O[1])),x.current[1]==="floating"&&H===h&&F.shiftKey&&(ze(F),ue(O[0]))}}const L=Y(h);return L.addEventListener("keydown",C),()=>{L.removeEventListener("keydown",C)}},[y,h,u,x,l,m,S,E]),g.useEffect(()=>{if(!f)return;function C(){M.current=!0,setTimeout(()=>{M.current=!1})}function L(F){const O=F.relatedTarget;queueMicrotask(()=>{const H=!(q(y,O)||q(h,O)||q(O,h)||q(T==null?void 0:T.portalNode,O)||O!=null&&O.hasAttribute("data-floating-ui-focus-guard")||A&&(pe(A.nodesRef.current,d).find(B=>{var K,U;return q((K=B.context)==null?void 0:K.elements.floating,O)||q((U=B.context)==null?void 0:U.elements.domReference,O)})||Hn(A.nodesRef.current,d).find(B=>{var K,U;return((K=B.context)==null?void 0:K.elements.floating)===O||((U=B.context)==null?void 0:U.elements.domReference)===O})));O&&H&&!M.current&&O!==P.current&&(N.current=!0,a(!1))})}if(h&&ge(y))return y.addEventListener("focusout",L),y.addEventListener("pointerdown",C),!u&&h.addEventListener("focusout",L),()=>{y.removeEventListener("focusout",L),y.removeEventListener("pointerdown",C),!u&&h.removeEventListener("focusout",L)}},[y,h,u,d,A,T,a,f]),g.useEffect(()=>{var C;const L=Array.from((T==null||(C=T.portalNode)==null?void 0:C.querySelectorAll("[data-floating-ui-portal]"))||[]);function F(){return[V.current,W.current].filter(Boolean)}if(h&&u){const O=[h,...L,...F()],H=fn(x.current.includes("reference")||m?O.concat(y||[]):O);return()=>{H()}}},[y,h,u,x,T,m]),g.useEffect(()=>{if(u&&!o&&h){const C=[],L=Be(),F=Ne(Y(h).body,L),O=E(),H=F.filter(B=>!O.includes(B));return H.forEach((B,K)=>{C[K]=B.getAttribute("tabindex"),B.setAttribute("tabindex","-1")}),()=>{H.forEach((B,K)=>{const U=C[K];U==null?B.removeAttribute("tabindex"):B.setAttribute("tabindex",U)})}}},[h,u,o,E]),G(()=>{if(!h)return;const C=Y(h),L=le(C);queueMicrotask(()=>{const F=E(h),O=k.current,H=(typeof O=="number"?F[O]:O.current)||h,B=q(h,L);!$&&!B&&v&&ue(H,{preventScroll:H===h})})},[v,h,$,E,k]),G(()=>{if(!h)return;let C=!1;const L=Y(h),F=le(L),O=p.current;P.current=F;function H(B){if(B.type==="escapeKey"&&l.domReference.current&&(P.current=l.domReference.current),["referencePress","escapeKey"].includes(B.type))return;const K=B.data.returnFocus;typeof K=="object"?(N.current=!1,C=K.preventScroll):N.current=!K}return b.on("dismiss",H),()=>{b.off("dismiss",H);const B=le(L);(q(h,B)||A&&pe(A.nodesRef.current,d).some(U=>{var ee;return q((ee=U.context)==null?void 0:ee.elements.floating,B)})||O.openEvent&&["click","mousedown"].includes(O.openEvent.type))&&l.domReference.current&&(P.current=l.domReference.current),R.current&&ge(P.current)&&!N.current&&ue(P.current,{cancelPrevious:!1,preventScroll:C})}},[h,R,p,l,b,A,d]),G(()=>{if(T)return T.setFocusManagerState({...t,modal:u,closeOnFocusOut:f,open:v}),()=>{T.setFocusManagerState(null)}},[T,u,v,f,t]),G(()=>{if(h&&typeof MutationObserver=="function"){const C=()=>{const F=h.getAttribute("tabindex");x.current.includes("floating")||le(Y(h))!==l.domReference.current&&S().length===0?F!=="0"&&h.setAttribute("tabindex","0"):F!=="-1"&&h.setAttribute("tabindex","-1")};C();const L=new MutationObserver(C);return L.observe(h,{childList:!0,subtree:!0,attributes:!0}),()=>{L.disconnect()}}},[h,l,x,S]);function I(C){return c&&u?te(Xn,{ref:C==="start"?V:W,onClick:()=>a(!1),children:typeof c=="string"?c:"Dismiss"}):null}const D=o&&!m&&(w||u);return Et(Xt,{children:[D&&te(We,{"data-type":"inside",ref:T==null?void 0:T.beforeInsideRef,onFocus:C=>{if(u){const F=E();ue(r[0]==="reference"?F[0]:F[F.length-1])}else if(T!=null&&T.preserveTabOrder&&T.portalNode)if(N.current=!1,ye(C,T.portalNode)){const F=_t()||y;F==null||F.focus()}else{var L;(L=T.beforeOutsideRef.current)==null||L.focus()}}}),!m&&I("start"),n,I("end"),D&&te(We,{"data-type":"inside",ref:T==null?void 0:T.afterInsideRef,onFocus:C=>{if(u)ue(E()[0]);else if(T!=null&&T.preserveTabOrder&&T.portalNode)if(f&&(N.current=!0),ye(C,T.portalNode)){const F=qt()||y;F==null||F.focus()}else{var L;(L=T.afterOutsideRef.current)==null||L.focus()}}})]})}function yt(e){return ge(e.target)&&e.target.tagName==="BUTTON"}function wt(e){return Ht(e)}function cr(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,elements:{domReference:i}}=e,{enabled:s=!0,event:u="click",toggle:c=!0,ignoreMouse:f=!1,keyboardHandlers:v=!0}=t,l=g.useRef(),d=g.useRef(!1);return g.useMemo(()=>s?{reference:{onPointerDown(a){l.current=a.pointerType},onMouseDown(a){a.button===0&&($e(l.current,!0)&&f||u!=="click"&&(n?c&&(!o.current.openEvent||o.current.openEvent.type==="mousedown")&&r(!1):(a.preventDefault(),r(!0)),o.current.openEvent=a.nativeEvent))},onClick(a){if(u==="mousedown"&&l.current){l.current=void 0;return}$e(l.current,!0)&&f||(n?c&&(!o.current.openEvent||o.current.openEvent.type==="click")&&r(!1):r(!0),o.current.openEvent=a.nativeEvent)},onKeyDown(a){l.current=void 0,!(a.defaultPrevented||!v||yt(a))&&(a.key===" "&&!wt(i)&&(a.preventDefault(),d.current=!0),a.key==="Enter"&&(n?c&&r(!1):r(!0)))},onKeyUp(a){a.defaultPrevented||!v||yt(a)||wt(i)||a.key===" "&&d.current&&(d.current=!1,n?c&&r(!1):r(!0))}}}:{},[s,o,u,f,v,i,c,n,r])}const zn=Tt["useInsertionEffect".toString()],Un=zn||(e=>e());function Ae(e){const t=g.useRef(()=>{});return Un(()=>{t.current=e}),g.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function Le(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const Gn={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Zn={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Jn=e=>{var t,n;return{escapeKeyBubbles:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePressBubbles:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function ar(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,nodeId:i,elements:{reference:s,domReference:u,floating:c},dataRef:f}=e,{enabled:v=!0,escapeKey:l=!0,outsidePress:d=!0,outsidePressEvent:a="pointerdown",referencePress:b=!1,referencePressEvent:p="pointerdown",ancestorScroll:y=!1,bubbles:h}=t,x=Ke(),k=Vt()!=null,R=Ae(typeof d=="function"?d:()=>!1),A=typeof d=="function"?R:d,T=g.useRef(!1),{escapeKeyBubbles:$,outsidePressBubbles:V}=Jn(h),W=Ae(P=>{if(!n||!v||!l||P.key!=="Escape")return;const M=x?pe(x.nodesRef.current,i):[];if(!$&&(P.stopPropagation(),M.length>0)){let w=!0;if(M.forEach(m=>{var S;if((S=m.context)!=null&&S.open&&!m.context.dataRef.current.__escapeKeyBubbles){w=!1;return}}),!w)return}o.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1)}),N=Ae(P=>{const M=T.current;if(T.current=!1,M||typeof A=="function"&&!A(P))return;const w=nt(P);if(ge(w)&&c){const E=w.clientWidth>0&&w.scrollWidth>w.clientWidth,I=w.clientHeight>0&&w.scrollHeight>w.clientHeight;let D=I&&P.offsetX>w.clientWidth;if(I&&_e(c).getComputedStyle(w).direction==="rtl"&&(D=P.offsetX<=w.offsetWidth-w.clientWidth),D||E&&P.offsetY>w.clientHeight)return}const m=x&&pe(x.nodesRef.current,i).some(E=>{var I;return Le(P,(I=E.context)==null?void 0:I.elements.floating)});if(Le(P,c)||Le(P,u)||m)return;const S=x?pe(x.nodesRef.current,i):[];if(S.length>0){let E=!0;if(S.forEach(I=>{var D;if((D=I.context)!=null&&D.open&&!I.context.dataRef.current.__outsidePressBubbles){E=!1;return}}),!E)return}o.emit("dismiss",{type:"outsidePress",data:{returnFocus:k?{preventScroll:!0}:Bn(P)||Wn(P)}}),r(!1)});return g.useEffect(()=>{if(!n||!v)return;f.current.__escapeKeyBubbles=$,f.current.__outsidePressBubbles=V;function P(){r(!1)}const M=Y(c);l&&M.addEventListener("keydown",W),A&&M.addEventListener(a,N);let w=[];return y&&(Z(u)&&(w=re(u)),Z(c)&&(w=w.concat(re(c))),!Z(s)&&s&&s.contextElement&&(w=w.concat(re(s.contextElement)))),w=w.filter(m=>{var S;return m!==((S=M.defaultView)==null?void 0:S.visualViewport)}),w.forEach(m=>{m.addEventListener("scroll",P,{passive:!0})}),()=>{l&&M.removeEventListener("keydown",W),A&&M.removeEventListener(a,N),w.forEach(m=>{m.removeEventListener("scroll",P)})}},[f,c,u,s,l,A,a,n,r,y,v,$,V,W,N]),g.useEffect(()=>{T.current=!1},[A,a]),g.useMemo(()=>v?{reference:{onKeyDown:W,[Gn[p]]:()=>{b&&(o.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1))}},floating:{onKeyDown:W,[Zn[a]]:()=>{T.current=!0}}}:{},[v,o,b,a,p,r,W])}function fr(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,refs:s,elements:{floating:u,domReference:c}}=e,{enabled:f=!0,keyboardOnly:v=!0}=t,l=g.useRef(""),d=g.useRef(!1),a=g.useRef();return g.useEffect(()=>{if(!f)return;const p=Y(u).defaultView||window;function y(){!n&&ge(c)&&c===le(Y(c))&&(d.current=!0)}return p.addEventListener("blur",y),()=>{p.removeEventListener("blur",y)}},[u,c,n,f]),g.useEffect(()=>{if(!f)return;function b(p){(p.type==="referencePress"||p.type==="escapeKey")&&(d.current=!0)}return i.on("dismiss",b),()=>{i.off("dismiss",b)}},[i,f]),g.useEffect(()=>()=>{clearTimeout(a.current)},[]),g.useMemo(()=>f?{reference:{onPointerDown(b){let{pointerType:p}=b;l.current=p,d.current=!!(p&&v)},onMouseLeave(){d.current=!1},onFocus(b){var p;d.current||b.type==="focus"&&((p=o.current.openEvent)==null?void 0:p.type)==="mousedown"&&o.current.openEvent&&Le(o.current.openEvent,c)||(o.current.openEvent=b.nativeEvent,r(!0))},onBlur(b){d.current=!1;const p=b.relatedTarget,y=Z(p)&&p.hasAttribute("data-floating-ui-focus-guard")&&p.getAttribute("data-type")==="outside";a.current=setTimeout(()=>{q(s.floating.current,p)||q(c,p)||y||r(!1)})}}}:{},[f,v,c,s,o,r])}function dr(e){return g.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}function mr(e,t){t===void 0&&(t={});const{open:n,floatingId:r}=e,{enabled:o=!0,role:i="dialog"}=t,s=tt();return g.useMemo(()=>{const u={id:r,role:i};return o?i==="tooltip"?{reference:{"aria-describedby":n?r:void 0},floating:u}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?r:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:s}},floating:{...u,...i==="menu"&&{"aria-labelledby":s}}}:{}},[o,i,n,r,s])}function xt(e,t){const[n,r]=e;let o=!1;const i=t.length;for(let s=0,u=i-1;s<i;u=s++){const[c,f]=t[s]||[0,0],[v,l]=t[u]||[0,0];f>=r!=l>=r&&n<=(v-c)*(r-f)/(l-f)+c&&(o=!o)}return o}function Qn(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function pr(e){e===void 0&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e;let o,i=!1,s=null,u=null,c=performance.now();function f(l,d){const a=performance.now(),b=a-c;if(s===null||u===null||b===0)return s=l,u=d,c=a,null;const p=l-s,y=d-u,x=Math.sqrt(p*p+y*y)/b;return s=l,u=d,c=a,x}const v=l=>{let{x:d,y:a,placement:b,elements:p,onClose:y,nodeId:h,tree:x}=l;return function(R){function A(){clearTimeout(o),y()}if(clearTimeout(o),!p.domReference||!p.floating||b==null||d==null||a==null)return;const{clientX:T,clientY:$}=R,V=[T,$],W=nt(R),N=R.type==="mouseleave",P=q(p.floating,W),M=q(p.domReference,W),w=p.domReference.getBoundingClientRect(),m=p.floating.getBoundingClientRect(),S=b.split("-")[0],E=d>m.right-m.width/2,I=a>m.bottom-m.height/2,D=Qn(V,w),C=m.width>w.width,L=m.height>w.height,F=(C?w:m).left,O=(C?w:m).right,H=(L?w:m).top,B=(L?w:m).bottom;if(P&&(i=!0,!N))return;if(M&&(i=!1),M&&!N){i=!0;return}if(N&&Z(R.relatedTarget)&&q(p.floating,R.relatedTarget)||x&&pe(x.nodesRef.current,h).some(ee=>{let{context:_}=ee;return _==null?void 0:_.open}))return;if(S==="top"&&a>=w.bottom-1||S==="bottom"&&a<=w.top+1||S==="left"&&d>=w.right-1||S==="right"&&d<=w.left+1)return A();let K=[];switch(S){case"top":K=[[F,w.top+1],[F,m.bottom-1],[O,m.bottom-1],[O,w.top+1]];break;case"bottom":K=[[F,m.top+1],[F,w.bottom-1],[O,w.bottom-1],[O,m.top+1]];break;case"left":K=[[m.right-1,B],[m.right-1,H],[w.left+1,H],[w.left+1,B]];break;case"right":K=[[w.right-1,B],[w.right-1,H],[m.left+1,H],[m.left+1,B]];break}function U(ee){let[_,j]=ee;switch(S){case"top":{const ie=[C?_+t/2:E?_+t*4:_-t*4,j+t+1],se=[C?_-t/2:E?_+t*4:_-t*4,j+t+1],fe=[[m.left,E||C?m.bottom-t:m.top],[m.right,E?C?m.bottom-t:m.top:m.bottom-t]];return[ie,se,...fe]}case"bottom":{const ie=[C?_+t/2:E?_+t*4:_-t*4,j-t],se=[C?_-t/2:E?_+t*4:_-t*4,j-t],fe=[[m.left,E||C?m.top+t:m.bottom],[m.right,E?C?m.top+t:m.bottom:m.top+t]];return[ie,se,...fe]}case"left":{const ie=[_+t+1,L?j+t/2:I?j+t*4:j-t*4],se=[_+t+1,L?j-t/2:I?j+t*4:j-t*4];return[...[[I||L?m.right-t:m.left,m.top],[I?L?m.right-t:m.left:m.right-t,m.bottom]],ie,se]}case"right":{const ie=[_-t,L?j+t/2:I?j+t*4:j-t*4],se=[_-t,L?j-t/2:I?j+t*4:j-t*4],fe=[[I||L?m.left+t:m.right,m.top],[I?L?m.left+t:m.right:m.left+t,m.bottom]];return[ie,se,...fe]}}}if(!xt([T,$],K)){if(i&&!D)return A();if(!N&&r){const ee=f(R.clientX,R.clientY);if(ee!==null&&ee<.1)return A()}xt([T,$],U([d,a]))?!i&&r&&(o=window.setTimeout(A,40)):A()}}};return v.__options={blockPointerEvents:n},v}function vr(e){var t;e===void 0&&(e={});const{open:n=!1,onOpenChange:r,nodeId:o}=e,[i,s]=g.useState(null),u=((t=e.elements)==null?void 0:t.reference)||i,c=un(e),f=Ke(),v=Ae(r),l=g.useRef(null),d=g.useRef({}),a=g.useState(()=>kn())[0],b=tt(),p=g.useCallback(R=>{const A=Z(R)?{getBoundingClientRect:()=>R.getBoundingClientRect(),contextElement:R}:R;c.refs.setReference(A)},[c.refs]),y=g.useCallback(R=>{(Z(R)||R===null)&&(l.current=R,s(R)),(Z(c.refs.reference.current)||c.refs.reference.current===null||R!==null&&!Z(R))&&c.refs.setReference(R)},[c.refs]),h=g.useMemo(()=>({...c.refs,setReference:y,setPositionReference:p,domReference:l}),[c.refs,y,p]),x=g.useMemo(()=>({...c.elements,domReference:u}),[c.elements,u]),k=g.useMemo(()=>({...c,refs:h,elements:x,dataRef:d,nodeId:o,floatingId:b,events:a,open:n,onOpenChange:v}),[c,o,b,a,n,v,h,x]);return G(()=>{const R=f==null?void 0:f.nodesRef.current.find(A=>A.id===o);R&&(R.context=k)}),g.useMemo(()=>({...c,context:k,refs:h,elements:x}),[c,h,x,k])}function Ue(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(o=>o?o[n]:null).concat(e).reduce((o,i)=>(i&&Object.entries(i).forEach(s=>{let[u,c]=s;if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof c=="function"){var f;(f=r.get(u))==null||f.push(c),o[u]=function(){for(var v,l=arguments.length,d=new Array(l),a=0;a<l;a++)d[a]=arguments[a];return(v=r.get(u))==null?void 0:v.map(b=>b(...d)).find(b=>b!==void 0)}}}else o[u]=c}),o),{})}}function gr(e){e===void 0&&(e=[]);const t=e,n=g.useCallback(i=>Ue(i,e,"reference"),t),r=g.useCallback(i=>Ue(i,e,"floating"),t),o=g.useCallback(i=>Ue(i,e,"item"),e.map(i=>i==null?void 0:i.item));return g.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:o}),[n,r,o])}export{nr as D,ur as F,sr as a,cr as b,ar as c,mr as d,gr as e,tr as f,tt as g,lr as h,dr as i,fr as j,rr as k,ir as l,pr as s,vr as u,or as z};

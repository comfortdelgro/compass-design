import{s as u,r as l,a as h,j as c,t as te}from"./index-5f8fa73a.js";import{C as W}from"./components-deb831a9.js";import{F as K}from"./index.es-eb432d66.js";import{f as ae,g as ie,i as x,b as oe,d as se}from"./isObjectLike-d2b61942.js";import{f as de}from"./faPlus-8ccf1391.js";var O={},F={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var r="fas",t="xmark",i=384,o=512,a=[128473,10005,10006,10060,215,"close","multiply","remove","times"],d="f00d",f="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z";e.definition={prefix:r,iconName:t,icon:[i,o,a,d,f]},e.faXmark=e.definition,e.prefix=r,e.iconName=t,e.width=i,e.height=o,e.ligatures=a,e.unicode=d,e.svgPathData=f,e.aliases=a})(F);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var r=F;e.definition={prefix:r.prefix,iconName:r.iconName,icon:[r.width,r.height,r.aliases,r.unicode,r.svgPathData]},e.faClose=e.definition,e.prefix=r.prefix,e.iconName=r.iconName,e.width=r.width,e.height=r.height,e.ligatures=r.aliases,e.unicode=r.unicode,e.svgPathData=r.svgPathData,e.aliases=r.aliases})(O);var le=ae,ce=ie,ue="[object Symbol]";function fe(e){return typeof e=="symbol"||ce(e)&&le(e)==ue}var k=fe,ge=x,pe=k,he=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,be=/^\w*$/;function me(e,r){if(ge(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||pe(e)?!0:be.test(e)||!he.test(e)||r!=null&&e in Object(r)}var ye=me,L=oe,ve="Expected a function";function C(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(ve);var t=function(){var i=arguments,o=r?r.apply(this,i):i[0],a=t.cache;if(a.has(o))return a.get(o);var d=e.apply(this,i);return t.cache=a.set(o,d)||a,d};return t.cache=new(C.Cache||L),t}C.Cache=L;var Se=C,we=Se,$e=500;function xe(e){var r=we(e,function(i){return t.size===$e&&t.clear(),i}),t=r.cache;return r}var ke=xe,Ce=ke,Te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pe=/\\(\\)?/g,Ne=Ce(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(Te,function(t,i,o,a){r.push(o?a.replace(Pe,"$1"):i||t)}),r}),ze=Ne;function Ie(e,r){for(var t=-1,i=e==null?0:e.length,o=Array(i);++t<i;)o[t]=r(e[t],t,e);return o}var _e=Ie,D=se,Ee=_e,De=x,Me=k,Be=1/0,M=D?D.prototype:void 0,B=M?M.toString:void 0;function A(e){if(typeof e=="string")return e;if(De(e))return Ee(e,A)+"";if(Me(e))return B?B.call(e):"";var r=e+"";return r=="0"&&1/e==-Be?"-0":r}var We=A,Ke=We;function Oe(e){return e==null?"":Ke(e)}var Fe=Oe,Le=x,Ae=ye,je=ze,Ge=Fe;function Ve(e,r){return Le(e)?e:Ae(e,r)?[e]:je(Ge(e))}var Xe=Ve,He=k,Ue=1/0;function Ye(e){if(typeof e=="string"||He(e))return e;var r=e+"";return r=="0"&&1/e==-Ue?"-0":r}var Ze=Ye,qe=Xe,Je=Ze;function Qe(e,r){r=qe(r,e);for(var t=0,i=r.length;e!=null&&t<i;)e=e[Je(r[t++])];return t&&t==i?e:void 0}var Re=Qe,er=Re;function rr(e,r,t){var i=e==null?void 0:er(e,r);return i===void 0?t:i}var nr=rr;const tr=u(K,{appearance:"none",border:"none",boxSizing:"border-box",margin:"0px",overflow:"hidden",background:"transparent",color:"$black",cursor:"pointer",fontWeight:"bold",padding:"0.125rem 0",marginLeft:"1em"}),ar=u("div",{appearance:"none",border:"none",boxSizing:"border-box",margin:"0px",padding:"0px",overflow:"hidden",background:"transparent",fontWeight:"$bold",color:"$primaryText"}),ir=u("input",{appearance:"none",outline:"none",border:"none",boxSizing:"border-box",margin:"0px",padding:"0px",overflow:"hidden",background:"transparent",color:"$black",fontWeight:"$bold"}),or=u("div",{appearance:"none",border:"none",boxSizing:"border-box",overflow:"hidden",background:"transparent",display:"inline-flex",alignItems:"center",fontWeight:"bold",borderRadius:"$lg",padding:"0.5rem 1rem",margin:"0.5em",backgroundColor:"$divider",width:"fit-content",height:"2rem",variants:{isErrored:{true:{border:"1px solid $danger"}}}}),sr=u("div",{appearance:"none",border:"none",boxSizing:"border-box",margin:"0px",padding:"0px",overflow:"hidden",background:"transparent",width:"fit-content",height:"fit-content",display:"inline-flex",justifyContent:"center"}),dr=u("button",{appearance:"none",boxSizing:"border-box",overflow:"hidden",background:"transparent",backgroundColor:"$background",border:"1px dashed $divider",margin:"0.5em",padding:"0.5rem 1rem",borderRadius:"$lg",fontSize:"1em",fontWeight:"500",display:"inline-block",height:"2rem",color:"$primaryText"}),lr=u("input",{appearance:"none",outline:"none",border:"none",boxSizing:"border-box",margin:"0px",padding:"0px 5px",overflow:"hidden",background:"transparent",height:"2rem",maxWidth:"90%","&::placeholder":{color:"$primaryBg"},"&:focus":{border:"2px solid $cdgblue120",borderRadius:"$md",color:"$typeHeading"},fontSize:"0.875rem",resize:"none",variants:{isEmpty:{false:{},true:{}}}}),cr=u("label",{appearance:"none",border:"none",boxSizing:"border-box",margin:"0px",padding:"0px",overflow:"hidden",background:"transparent",cursor:"pointer",fontWeight:"$semibold",textAlign:"left",fontSize:"$label1",lineHeight:"$normal"}),v=u("div",{appearance:"none",border:"none",boxSizing:"border-box",margin:"0px",overflow:"hidden",background:"transparent",fontSize:"0.75rem",borderRadius:"4px",width:"100%",padding:"0.5em 1em",borderWidth:"1px",borderStyle:"solid",borderColor:"$divider",minHeight:"7.75rem"}),ur=u("div",{appearance:"none",border:"none",boxSizing:"border-box",margin:"0px",padding:"0px",overflow:"hidden",background:"transparent",variants:{isErrored:{true:{[`${v}`]:{borderColor:"$danger"}},false:{}},isDisabled:{true:{[`${v}`]:{opacity:.5,pointerEvents:"none",backgroundColor:"$gray20"}},false:{}},focused:{true:{[`${v}`]:{borderWidth:"2px",borderStyle:"solid",borderColor:"$cdgBlue100"}}}}}),fr=l.forwardRef(({isRequired:e,tagBoxLabel:r,tags:t,onAddTag:i,onEditTag:o,onRemoveTag:a,isDisabled:d=!1,isEditable:f,isErrored:g=!1,customValidationHandler:P,addTagPlaceholder:j,canRemoveOnDeleteAndBackspaceKey:G,...V},X)=>{const[N,S]=l.useState(!1),[H,z]=l.useState(!1),[U,w]=l.useState(""),[p,b]=l.useState(null),m=l.useRef(null),$=l.useRef(null);l.useImperativeHandle(X,()=>({focus(){var n;(n=m.current)==null||n.focus()},blur(){var n;(n=m.current)==null||n.blur()}}));const Y=n=>!!n&&n.trim()!=="",y=n=>{const s=Y(n);return P?s&&P(n):s},I=()=>{var n;(n=m.current)==null||n.focus()},Z=()=>{S(!0),setTimeout(()=>{var n;return(n=m.current)==null?void 0:n.focus()})},q=()=>{$.current&&!g&&z(!0)},J=n=>{w(n.target.value)},Q=n=>{switch(n.key){case"Enter":case"Escape":{y(n.currentTarget.value)&&(i==null||i(n.currentTarget.value.trim())),w(""),S(!1);break}case"Backspace":case"Delete":{n.currentTarget.value===""&&G&&t&&t.length&&(a==null||a(t.at(-1)));break}}},_=n=>{$.current&&!g&&z(!1),y(n.currentTarget.value)&&(i==null||i(n.currentTarget.value.trim())),w(""),S(!1)},R=(n,s)=>{b({id:s.id,value:n.target.value})},ee=(n,s)=>{n.preventDefault(),y(n.currentTarget.value)?(o==null||o({id:s.id,value:n.currentTarget.value.trim()}),b(null)):a==null||a(s)},re=(n,s)=>{switch(n.key){case"Enter":{n.preventDefault(),y(n.currentTarget.value)&&(o==null||o({id:s.id,value:n.currentTarget.value.trim()}),b(null));break}case"Escape":{n.preventDefault(),y(n.currentTarget.value)?(o==null||o({id:s.id,value:n.currentTarget.value.trim()}),b(null)):a==null||a(s);break}}},E=(n,s)=>{n.stopPropagation(),!d&&f&&b(s)},ne=(n,s)=>{n.stopPropagation(),a==null||a(s)};return h(ur,{...V,isErrored:g,isDisabled:d,focused:H,children:[h(cr,{"aria-label":r,onClick:I,children:[r,e&&c("span",{style:{color:te.colors.danger.value},children:"*"})]}),h(v,{ref:$,onClick:I,onFocus:q,onBlur:_,children:[(t??[]).map(n=>h(or,{onClick:s=>E(s,n),onDoubleClick:s=>E(s,n),isErrored:!!n.isErrored,children:[c(ar,{title:f?"Click to edit":void 0,className:"tag-content",children:p&&p.id===n.id?c(ir,{type:"text",autoFocus:!0,size:nr(p,"value.length",0)+1,value:p.value,onChange:s=>R(s,n),onBlur:s=>ee(s,n),onKeyDown:s=>re(s,n)}):n.value}),!d&&c(tr,{icon:O.faClose,onClick:s=>ne(s,n),style:{display:p&&p.id===n.id?"none":"inline-block"}})]},n.id)),!d&&h(sr,{children:[!N&&h(dr,{onClick:Z,children:[c(K,{icon:de.faPlus}),"Â New Tag"]}),c(lr,{type:"text",isEmpty:(t??[]).length===0,style:{display:N?"inline-block":"none"},placeholder:j,ref:m,value:U,onClick:n=>n.stopPropagation(),onChange:J,onKeyDown:Q,onBlur:_})]})]})]})}),T=fr;T.displayName="Tag-Box-V2";const gr=()=>new Promise(e=>{setTimeout(()=>{const r=[{id:`cdg-id-${Math.random().toString(36).substring(2)}`,value:"Driver 1",isErrored:!1},{id:`cdg-id-${Math.random().toString(36).substring(2)}`,value:"Driver 2",isErrored:!1},{id:`cdg-id-${Math.random().toString(36).substring(2)}`,value:"Driver 3",isErrored:!0},{id:`cdg-id-${Math.random().toString(36).substring(2)}`,value:"Driver 4",isErrored:!1},{id:`cdg-id-${Math.random().toString(36).substring(2)}`,value:"Driver 5",isErrored:!0},{id:`cdg-id-${Math.random().toString(36).substring(2)}`,value:"Driver 6",isErrored:!1}];e(r)},1500)}),vr=e=>{const[r,t]=l.useState([]);return l.useEffect(()=>{(async()=>{try{const o=await gr();t(o)}catch(o){console.error("Error fetching tags:",o)}})()},[]),c(W,{children:c(T,{tagBoxLabel:"Attribute values",addTagPlaceholder:"Please enter to add tag",tags:r,isErrored:!0})})},Sr=()=>{const[e,r]=l.useState([]),t=a=>{const d={id:`cdg-id-${Math.random().toString(36).substring(2)}`,value:a.trim()};r([...e,d])},i=a=>{const d=e.filter(f=>f.id!==a);r(d)},o=(a,d)=>{const f=e.map(g=>g.id===a?{id:a,value:d}:g);r(f)};return c(W,{children:c(T,{tagBoxLabel:"Attribute values",addTagPlaceholder:"Please enter to add tag",tags:e,isErrored:!1,isEditable:!0,onAddTag:t,onRemoveTag:a=>i(a.id),onEditTag:a=>o(a.id,a.value),css:{width:"70%"}})})};typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{Sr as Basic,vr as WithErroredItems};

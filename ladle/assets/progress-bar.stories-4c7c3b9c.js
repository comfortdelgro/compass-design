import{k as z,s as v,R as I,r as l,a as n,j as e,F as E}from"./index-d6bb7a09.js";import"./index-255baae9.js";import{D as j}from"./index-1f145174.js";import{T as w}from"./index-ea6d885e.js";import{C as $,R as A}from"./components-ac652b21.js";import{t as D}from"./toNumber-14be18d4.js";import{u as T}from"./use-dom-ref-3f2db4fc.js";import{B as P}from"./button-964d312c.js";import"./isObjectLike-f02cd049.js";import"./isSymbol-2db59722.js";function X(t,a,r){return t===t&&(r!==void 0&&(t=t<=r?t:r),a!==void 0&&(t=t>=a?t:a)),t}var F=X,U=F,x=D;function W(t,a,r){return r===void 0&&(r=a,a=void 0),r!==void 0&&(r=x(r),r=r===r?r:0),a!==void 0&&(a=x(a),a=a===a?a:0),U(x(t),a,r)}var H=W;const O=z({from:{backgroundPositionX:"200%"},to:{backgroundPositionX:0}}),q=z({"0%":{left:"0%",right:"100%",width:"0%"},"10%":{left:"0%",right:"75%",width:"25%"},"90%":{right:"0%",left:"75%",width:"25%"},"100%":{left:"100%",right:"0%",width:"0%"}}),G=v("div",{width:"100%",".progress-bar-label":{display:"flex",justifyContent:"space-between",marginBottom:"$2","& span":{fontWeight:"$normal",fontSize:"$label1"}},variants:{variant:{normal:{},rounded:{".progress-bar":{borderRadius:"$full","& div":{borderRadius:"$full"}}}},size:{sm:{".progress-bar":{height:"$0_5"}},md:{".progress-bar":{height:"$1"}},lg:{".progress-bar":{height:"$2"}},xl:{".progress-bar":{height:"$3"}}}},defaultVariants:{size:"lg",variant:"normal"}}),J=v("div",{position:"relative"}),K=v("div",{height:"100%",transition:"width .2s linear",variants:{loading:{true:{},slide:{},false:{}}}}),Q=v("div",{position:"absolute",inset:0,height:"100%",variants:{loading:{stripes:{width:"100%",backgroundSize:"200% 100%",animation:`${O} 10s linear infinite`,willChange:"background-position"},true:{animation:`${q} 2s linear infinite`},false:{display:"none"}}}}),Y=I.forwardRef((t,a)=>{const{css:r={},loading:d=!1,label:c,rightLabel:u,size:y="lg",barColor:h="$gray30",color:o="blue",variant:M="normal",value:R=0,minValue:B=0,maxValue:k=100,onComplete:f,...L}=t,b=l.useMemo(()=>o==="blue"?"$info":o==="green"?"$success":o,[o]),i=B<0?0:B,g=k<i?i:k,p=H(R,i,g),_=T(a),C={role:"progressbar","aria-label":c??"","aria-valuemin":i,"aria-valuenow":p,"aria-valuemax":g},S=l.useMemo(()=>{if(g-i===0||p===g)return 100;const N=(p-i)/(g-i);return Math.round(N*100)},[p,i,g]);return l.useEffect(()=>{S===100&&(f==null||f())},[S,f]),n(G,{className:"progress-bar-wrapper",css:r,ref:_,size:y,variant:M,...C,...L,children:[(!!c||!!u)&&n("div",{className:"progress-bar-label",children:[e("span",{...C,children:c??""}),u&&e("span",{...C,children:u??""})]}),n(J,{className:"progress-bar",css:{backgroundColor:h},children:[!d&&e(K,{className:"progress-bar__current-state",css:{width:`${S}%`,backgroundColor:b}}),e(Q,{className:"progress-bar__loading",css:{...d==="stripes"?{backgroundImage:`repeating-linear-gradient(-45deg,transparent 0 1.5%,${b} 1.5% 3%)`,"@sm":{backgroundImage:`repeating-linear-gradient(-45deg,transparent 0 .8%,${b} .8% 1.6%)`}}:{backgroundColor:b}},loading:d})]})]})}),s=Y;s.displayName="ProgressBar";const de=()=>n($,{children:[e("div",{style:{width:"100%",marginBottom:"10px"},children:e(s,{value:20,size:"sm",label:"sm"})}),e("div",{style:{width:"100%",marginBottom:"10px"},children:e(s,{value:20,size:"md",label:"md"})}),e("div",{style:{width:"100%",marginBottom:"10px"},children:e(s,{value:20,size:"lg",label:"lg"})}),e("div",{style:{width:"100%",marginBottom:"10px"},children:e(s,{value:20,size:"xl",label:"xl"})})]}),ce=()=>n($,{children:[e("div",{style:{width:"100%",marginBottom:"10px"},children:e(s,{value:20,color:"blue",label:"blue"})}),e("div",{style:{width:"100%",marginBottom:"10px"},children:e(s,{value:40,color:"green",label:"green"})}),e(s,{value:60,label:"color: $cdgBlue | barColor: $blueShades10",color:"$cdgBlue",barColor:"$blueShades10"})]}),V=5,m=100,ue=()=>{const[t,a]=l.useState(!1),[r,d]=l.useState(V),[c,u]=l.useState(!1),y=()=>{a(!1),d(V),u(!1)};return l.useEffect(()=>{if(!t)return;const h=setInterval(()=>{d(o=>o===m?(clearInterval(h),m):Math.min(o+Math.floor(Math.random()*(m/4)),m))},200);return()=>{clearInterval(h)}},[t]),n($,{children:[e(s,{value:20,variant:"normal",label:"normal"}),e(s,{css:{marginBlock:"$4"},value:20,variant:"rounded",label:"rounded"}),e(j,{}),e(s,{css:{marginBlock:"$4"},value:r,maxValue:m,size:"md",label:"H5",color:"$blueShades80",barColor:"$blueShades10",onComplete:()=>u(!0)}),n(A,{children:[c?n(E,{children:[e(w.Label,{children:"Completed"}),e(P,{type:"button",onClick:()=>y(),children:"Reset"})]}):n(w.Label,{children:[Math.round(r/m*100),"%"]}),c||t||e(P,{type:"button",variant:"secondary",onClick:()=>a(!0),children:"Start"})]})]})},ge=()=>n($,{children:[e(s,{variant:"rounded",label:"Loading",loading:!0}),e(s,{variant:"rounded",label:"Stripes",barColor:"$blueShades10",loading:"stripes"})]});typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{ce as Color,ge as LoadingState,de as Size,ue as Variant};

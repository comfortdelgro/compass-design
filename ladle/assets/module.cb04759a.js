import{r as p,R as ue}from"./index.1e35a2af.js";import{l as Ve,g as _e,m as Ge,n as Fe,o as je,i as O,p as Q,c as H,q as ze,r as De,s as Re,t as Ke,j as Ye}from"./module.188dab80.js";function It(t,e,r){let[n,a]=p.exports.useState(t||e),o=p.exports.useRef(t!==void 0),f=o.current,u=t!==void 0,b=p.exports.useRef(n);f!==u&&console.warn(`WARN: A component changed from ${f?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}.`),o.current=u;let m=p.exports.useCallback((h,...x)=>{let $=(d,...v)=>{r&&(Object.is(b.current,d)||r(d,...v)),u||(b.current=d)};typeof h=="function"?(console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),a((v,...S)=>{let D=h(u?b.current:v,...S);return $(D,...x),u?v:D})):(u||a(h),$(h,...x))},[u,r]);return u?b.current=t:t=n,[t,m]}function Ht(t,e=-1/0,r=1/0){return Math.min(Math.max(t,e),r)}function At(t,e,r,n){let a=(t-(isNaN(e)?0:e))%n,o=Math.abs(a)*2>=n?t+Math.sign(a)*(n-Math.abs(a)):t-a;isNaN(e)?!isNaN(r)&&o>r&&(o=Math.floor(r/n)*n):o<e?o=e:!isNaN(r)&&o>r&&(o=e+Math.floor((r-e)/n)*n);let f=n.toString(),u=f.indexOf("."),b=u>=0?f.length-u:0;if(b>0){let m=Math.pow(10,b);o=Math.round(o*m)/m}return o}class Xe{getStringForLocale(e,r){let n=this.strings[r];n||(n=qe(r,this.strings,this.defaultLocale),this.strings[r]=n);let a=n[e];if(!a)throw new Error(`Could not find intl message ${e} in ${r} locale`);return a}constructor(e,r="en-US"){this.strings={...e},this.defaultLocale=r}}function qe(t,e,r="en-US"){if(e[t])return e[t];let n=Ze(t);if(e[n])return e[n];for(let a in e)if(a.startsWith(n+"-"))return e[a];return e[r]}function Ze(t){return Intl.Locale?new Intl.Locale(t).language:t.split("-")[0]}const be=new Map,$e=new Map;class Je{format(e,r){let n=this.strings.getStringForLocale(e,this.locale);return typeof n=="function"?n(r,this):n}plural(e,r,n="cardinal"){let a=r["="+e];if(a)return typeof a=="function"?a():a;let o=this.locale+":"+n,f=be.get(o);f||(f=new Intl.PluralRules(this.locale,{type:n}),be.set(o,f));let u=f.select(e);return a=r[u]||r.other,typeof a=="function"?a():a}number(e){let r=$e.get(this.locale);return r||(r=new Intl.NumberFormat(this.locale),$e.set(this.locale,r)),r.format(e)}select(e,r){let n=e[r]||e.other;return typeof n=="function"?n():n}constructor(e,r){this.locale=e,this.strings=r}}function ee(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}let z=new Map,te=!1;try{te=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let _=!1;try{_=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const Ne={degree:{narrow:{default:"\xB0","ja-JP":" \u5EA6","zh-TW":"\u5EA6","sl-SI":" \xB0"}}};class Qe{format(e){let r="";if(!te&&this.options.signDisplay!=null?r=tt(this.numberFormatter,this.options.signDisplay,e):r=this.numberFormatter.format(e),this.options.style==="unit"&&!_){var n;let{unit:a,unitDisplay:o="short",locale:f}=this.resolvedOptions(),u=(n=Ne[a])===null||n===void 0?void 0:n[o];r+=u[f]||u.default}return r}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,r){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,r);if(r<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} \u2013 ${this.format(r)}`}formatRangeToParts(e,r){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,r);if(r<e)throw new RangeError("End date must be >= start date");let n=this.numberFormatter.formatToParts(e),a=this.numberFormatter.formatToParts(r);return[...n.map(o=>({...o,source:"startRange"})),{type:"literal",value:" \u2013 ",source:"shared"},...a.map(o=>({...o,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!te&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!_&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,r={}){this.numberFormatter=et(e,r),this.options=r}}function et(t,e={}){let{numberingSystem:r}=e;if(r&&t.indexOf("-u-nu-")===-1&&(t=`${t}-u-nu-${r}`),e.style==="unit"&&!_){var n;let{unit:f,unitDisplay:u="short"}=e;if(!f)throw new Error('unit option must be provided with style: "unit"');if(!(!((n=Ne[f])===null||n===void 0)&&n[u]))throw new Error(`Unsupported unit ${f} with unitDisplay = ${u}`);e={...e,style:"decimal"}}let a=t+(e?Object.entries(e).sort((f,u)=>f[0]<u[0]?-1:1).join():"");if(z.has(a))return z.get(a);let o=new Intl.NumberFormat(t,e);return z.set(a,o),o}function tt(t,e,r){if(e==="auto")return t.format(r);if(e==="never")return t.format(Math.abs(r));{let n=!1;if(e==="always"?n=r>0||Object.is(r,0):e==="exceptZero"&&(Object.is(r,-0)||Object.is(r,0)?r=Math.abs(r):n=r>0),n){let a=t.format(-r),o=t.format(r),f=a.replace(o,"").replace(/\u200e|\u061C/,"");return[...f].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),a.replace(o,"!!!").replace(f,"+").replace("!!!",o)}else return t.format(r)}}const rt=new RegExp("^.*\\(.*\\).*$"),nt=["latn","arab","hanidec"];class Ut{parse(e){return Y(this.locale,this.options,e).parse(e)}isValidPartialNumber(e,r,n){return Y(this.locale,this.options,e).isValidPartialNumber(e,r,n)}getNumberingSystem(e){return Y(this.locale,this.options,e).options.numberingSystem}constructor(e,r={}){this.locale=e,this.options=r}}const ge=new Map;function Y(t,e,r){let n=he(t,e);if(!t.includes("-nu-")&&!n.isValidPartialNumber(r)){for(let a of nt)if(a!==n.options.numberingSystem){let o=he(t+(t.includes("-u-")?"-nu-":"-u-nu-")+a,e);if(o.isValidPartialNumber(r))return o}}return n}function he(t,e){let r=t+(e?Object.entries(e).sort((a,o)=>a[0]<o[0]?-1:1).join():""),n=ge.get(r);return n||(n=new st(t,e),ge.set(r,n)),n}class st{parse(e){let r=this.sanitize(e);r=W(r,this.symbols.group,"").replace(this.symbols.decimal,".").replace(this.symbols.minusSign,"-").replace(this.symbols.numeral,this.symbols.index);let n=r?+r:NaN;if(isNaN(n))return NaN;if(this.options.currencySign==="accounting"&&rt.test(e)&&(n=-1*n),this.options.style==="percent"){n/=100;var a;n=+n.toFixed(((a=this.options.maximumFractionDigits)!==null&&a!==void 0?a:0)+2)}return n}sanitize(e){return e=e.replace(this.symbols.literals,""),e=e.replace("-",this.symbols.minusSign),this.options.numberingSystem==="arab"&&(e=e.replace(",",this.symbols.decimal),e=e.replace(String.fromCharCode(1548),this.symbols.decimal),e=W(e,".",this.symbols.group)),this.options.locale==="fr-FR"&&(e=W(e,".",String.fromCharCode(8239))),e}isValidPartialNumber(e,r=-1/0,n=1/0){return e=this.sanitize(e),e.startsWith(this.symbols.minusSign)&&r<0?e=e.slice(this.symbols.minusSign.length):this.symbols.plusSign&&e.startsWith(this.symbols.plusSign)&&n>0&&(e=e.slice(this.symbols.plusSign.length)),e.startsWith(this.symbols.group)?!1:(e=W(e,this.symbols.group,"").replace(this.symbols.numeral,"").replace(this.symbols.decimal,""),e.length===0)}constructor(e,r={}){this.formatter=new Intl.NumberFormat(e,r),this.options=this.formatter.resolvedOptions(),this.symbols=at(this.formatter,this.options,r)}}const me=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]);function at(t,e,r){var n,a,o,f;let u=t.formatToParts(-10000.111),b=t.formatToParts(10000.111),m=t.formatToParts(1);var h;let x=(h=(n=u.find(g=>g.type==="minusSign"))===null||n===void 0?void 0:n.value)!==null&&h!==void 0?h:"-",$=(a=b.find(g=>g.type==="plusSign"))===null||a===void 0?void 0:a.value;!$&&((r==null?void 0:r.signDisplay)==="exceptZero"||(r==null?void 0:r.signDisplay)==="always")&&($="+");let d=(o=u.find(g=>g.type==="decimal"))===null||o===void 0?void 0:o.value,v=(f=u.find(g=>g.type==="group"))===null||f===void 0?void 0:f.value,S=u.filter(g=>!me.has(g.type)).map(g=>ve(g.value)),D=m.filter(g=>!me.has(g.type)).map(g=>ve(g.value)),w=[...new Set([...D,...S])].sort((g,E)=>E.length-g.length),F=w.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${w.join("|")}|[\\p{White_Space}]`,"gu"),A=[...new Intl.NumberFormat(e.locale,{useGrouping:!1}).format(9876543210)].reverse(),s=new Map(A.map((g,E)=>[g,E])),L=new RegExp(`[${A.join("")}]`,"g");return{minusSign:x,plusSign:$,decimal:d,group:v,literals:F,numeral:L,index:g=>String(s.get(g))}}function W(t,e,r){return t.replaceAll?t.replaceAll(e,r):t.split(e).join(r)}function ve(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}const ot=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),it=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function lt(t){if(Intl.Locale){let r=new Intl.Locale(t).maximize().script;return ot.has(r)}let e=t.split("-")[0];return it.has(e)}function Oe(){let t=typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([t])}catch{t="en-US"}return{locale:t,direction:lt(t)?"rtl":"ltr"}}let re=Oe(),I=new Set;function ye(){re=Oe();for(let t of I)t(re)}function ut(){let t=Ve(),[e,r]=p.exports.useState(re);return p.exports.useEffect(()=>(I.size===0&&window.addEventListener("languagechange",ye),I.add(r),()=>{I.delete(r),I.size===0&&window.removeEventListener("languagechange",ye)}),[]),t?{locale:"en-US",direction:"ltr"}:e}const ct=ue.createContext(null);function ce(){let t=ut();return p.exports.useContext(ct)||t}const Pe=new WeakMap;function ft(t){let e=Pe.get(t);return e||(e=new Xe(t),Pe.set(t,e)),e}function Wt(t){let{locale:e}=ce(),r=p.exports.useMemo(()=>ft(t),[t]);return p.exports.useMemo(()=>new Je(e,r),[e,r])}function Bt(t={}){let{locale:e}=ce();return p.exports.useMemo(()=>new Qe(e,t),[e,t])}let X=new Map;function Vt(t){let{locale:e}=ce(),r=e+(t?Object.entries(t).sort((a,o)=>a[0]<o[0]?-1:1).join():"");if(X.has(r))return X.get(r);let n=new Intl.Collator(e,t);return X.set(r,n),n}let k="default",ne="",V=new WeakMap;function Te(t){De()?(k==="default"&&(ne=document.documentElement.style.webkitUserSelect,document.documentElement.style.webkitUserSelect="none"),k="disabled"):(t instanceof HTMLElement||t instanceof SVGElement)&&(V.set(t,t.style.userSelect),t.style.userSelect="none")}function B(t){if(De()){if(k!=="disabled")return;k="restoring",setTimeout(()=>{Re(()=>{k==="restoring"&&(document.documentElement.style.webkitUserSelect==="none"&&(document.documentElement.style.webkitUserSelect=ne||""),ne="",k="default")})},300)}else if((t instanceof HTMLElement||t instanceof SVGElement)&&t&&V.has(t)){let e=V.get(t);t.style.userSelect==="none"&&(t.style.userSelect=e),t.getAttribute("style")===""&&t.removeAttribute("style"),V.delete(t)}}const ke=ue.createContext(null);ke.displayName="PressResponderContext";function dt(t){let e=p.exports.useContext(ke);if(e){let{register:r,...n}=e;t=H(n,t),r()}return Ke(e,t.ref),t}function pt(t){let{onPress:e,onPressChange:r,onPressStart:n,onPressEnd:a,onPressUp:o,isDisabled:f,isPressed:u,preventFocusOnPress:b,shouldCancelOnPointerExit:m,allowTextSelectionOnPress:h,ref:x,...$}=dt(t),d=p.exports.useRef(null);d.current={onPress:e,onPressChange:r,onPressStart:n,onPressEnd:a,onPressUp:o,isDisabled:f,shouldCancelOnPointerExit:m};let[v,S]=p.exports.useState(!1),D=p.exports.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:w,removeAllGlobalListeners:F}=Fe(),A=p.exports.useMemo(()=>{let s=D.current,L=(l,T)=>{let{onPressStart:i,onPressChange:c,isDisabled:U}=d.current;U||s.didFirePressStart||(i&&i({type:"pressstart",pointerType:T,target:l.currentTarget,shiftKey:l.shiftKey,metaKey:l.metaKey,ctrlKey:l.ctrlKey,altKey:l.altKey}),c&&c(!0),s.didFirePressStart=!0,S(!0))},P=(l,T,i=!0)=>{let{onPressEnd:c,onPressChange:U,onPress:pe,isDisabled:Be}=d.current;!s.didFirePressStart||(s.ignoreClickAfterPress=!0,s.didFirePressStart=!1,c&&c({type:"pressend",pointerType:T,target:l.currentTarget,shiftKey:l.shiftKey,metaKey:l.metaKey,ctrlKey:l.ctrlKey,altKey:l.altKey}),U&&U(!1),S(!1),pe&&i&&!Be&&pe({type:"press",pointerType:T,target:l.currentTarget,shiftKey:l.shiftKey,metaKey:l.metaKey,ctrlKey:l.ctrlKey,altKey:l.altKey}))},g=(l,T)=>{let{onPressUp:i,isDisabled:c}=d.current;c||i&&i({type:"pressup",pointerType:T,target:l.currentTarget,shiftKey:l.shiftKey,metaKey:l.metaKey,ctrlKey:l.ctrlKey,altKey:l.altKey})},E=l=>{s.isPressed&&(s.isOverTarget&&P(M(s.target,l),s.pointerType,!1),s.isPressed=!1,s.isOverTarget=!1,s.activePointerId=null,s.pointerType=null,F(),h||B(s.target))},y={onKeyDown(l){q(l.nativeEvent,l.currentTarget)&&l.currentTarget.contains(l.target)?(xe(l.target,l.key)&&l.preventDefault(),l.stopPropagation(),!s.isPressed&&!l.repeat&&(s.target=l.currentTarget,s.isPressed=!0,L(l,"keyboard"),w(document,"keyup",We,!1))):l.key==="Enter"&&se(l.currentTarget)&&l.stopPropagation()},onKeyUp(l){q(l.nativeEvent,l.currentTarget)&&!l.repeat&&l.currentTarget.contains(l.target)&&g(M(s.target,l),"keyboard")},onClick(l){l&&!l.currentTarget.contains(l.target)||l&&l.button===0&&(l.stopPropagation(),f&&l.preventDefault(),!s.ignoreClickAfterPress&&!s.ignoreEmulatedMouseEvents&&(s.pointerType==="virtual"||Q(l.nativeEvent))&&(!f&&!b&&O(l.currentTarget),L(l,"virtual"),g(l,"virtual"),P(l,"virtual")),s.ignoreEmulatedMouseEvents=!1,s.ignoreClickAfterPress=!1)}},We=l=>{if(s.isPressed&&q(l,s.target)){xe(l.target,l.key)&&l.preventDefault(),l.stopPropagation(),s.isPressed=!1;let T=l.target;P(M(s.target,l),"keyboard",s.target.contains(T)),F(),s.target instanceof HTMLElement&&s.target.contains(T)&&(se(s.target)||s.target.getAttribute("role")==="link")&&s.target.click()}};if(typeof PointerEvent<"u"){y.onPointerDown=c=>{if(!(c.button!==0||!c.currentTarget.contains(c.target))){if(je(c.nativeEvent)){s.pointerType="virtual";return}Z(c.currentTarget)&&c.preventDefault(),s.pointerType=c.pointerType,c.stopPropagation(),s.isPressed||(s.isPressed=!0,s.isOverTarget=!0,s.activePointerId=c.pointerId,s.target=c.currentTarget,!f&&!b&&O(c.currentTarget),h||Te(s.target),L(c,s.pointerType),w(document,"pointermove",l,!1),w(document,"pointerup",T,!1),w(document,"pointercancel",i,!1))}},y.onMouseDown=c=>{!c.currentTarget.contains(c.target)||c.button===0&&(Z(c.currentTarget)&&c.preventDefault(),c.stopPropagation())},y.onPointerUp=c=>{!c.currentTarget.contains(c.target)||s.pointerType==="virtual"||c.button===0&&K(c,c.currentTarget)&&g(c,s.pointerType||c.pointerType)};let l=c=>{c.pointerId===s.activePointerId&&(K(c,s.target)?s.isOverTarget||(s.isOverTarget=!0,L(M(s.target,c),s.pointerType)):s.isOverTarget&&(s.isOverTarget=!1,P(M(s.target,c),s.pointerType,!1),d.current.shouldCancelOnPointerExit&&E(c)))},T=c=>{c.pointerId===s.activePointerId&&s.isPressed&&c.button===0&&(K(c,s.target)?P(M(s.target,c),s.pointerType):s.isOverTarget&&P(M(s.target,c),s.pointerType,!1),s.isPressed=!1,s.isOverTarget=!1,s.activePointerId=null,s.pointerType=null,F(),h||B(s.target))},i=c=>{E(c)};y.onDragStart=c=>{!c.currentTarget.contains(c.target)||E(c)}}else{y.onMouseDown=i=>{i.button!==0||!i.currentTarget.contains(i.target)||(Z(i.currentTarget)&&i.preventDefault(),i.stopPropagation(),!s.ignoreEmulatedMouseEvents&&(s.isPressed=!0,s.isOverTarget=!0,s.target=i.currentTarget,s.pointerType=Q(i.nativeEvent)?"virtual":"mouse",!f&&!b&&O(i.currentTarget),L(i,s.pointerType),w(document,"mouseup",l,!1)))},y.onMouseEnter=i=>{!i.currentTarget.contains(i.target)||(i.stopPropagation(),s.isPressed&&!s.ignoreEmulatedMouseEvents&&(s.isOverTarget=!0,L(i,s.pointerType)))},y.onMouseLeave=i=>{!i.currentTarget.contains(i.target)||(i.stopPropagation(),s.isPressed&&!s.ignoreEmulatedMouseEvents&&(s.isOverTarget=!1,P(i,s.pointerType,!1),d.current.shouldCancelOnPointerExit&&E(i)))},y.onMouseUp=i=>{!i.currentTarget.contains(i.target)||!s.ignoreEmulatedMouseEvents&&i.button===0&&g(i,s.pointerType)};let l=i=>{if(i.button===0){if(s.isPressed=!1,F(),s.ignoreEmulatedMouseEvents){s.ignoreEmulatedMouseEvents=!1;return}K(i,s.target)?P(M(s.target,i),s.pointerType):s.isOverTarget&&P(M(s.target,i),s.pointerType,!1),s.isOverTarget=!1}};y.onTouchStart=i=>{if(!i.currentTarget.contains(i.target))return;i.stopPropagation();let c=bt(i.nativeEvent);!c||(s.activePointerId=c.identifier,s.ignoreEmulatedMouseEvents=!0,s.isOverTarget=!0,s.isPressed=!0,s.target=i.currentTarget,s.pointerType="touch",!f&&!b&&O(i.currentTarget),h||Te(s.target),L(i,s.pointerType),w(window,"scroll",T,!0))},y.onTouchMove=i=>{if(!i.currentTarget.contains(i.target)||(i.stopPropagation(),!s.isPressed))return;let c=Ee(i.nativeEvent,s.activePointerId);c&&K(c,i.currentTarget)?s.isOverTarget||(s.isOverTarget=!0,L(i,s.pointerType)):s.isOverTarget&&(s.isOverTarget=!1,P(i,s.pointerType,!1),d.current.shouldCancelOnPointerExit&&E(i))},y.onTouchEnd=i=>{if(!i.currentTarget.contains(i.target)||(i.stopPropagation(),!s.isPressed))return;let c=Ee(i.nativeEvent,s.activePointerId);c&&K(c,i.currentTarget)?(g(i,s.pointerType),P(i,s.pointerType)):s.isOverTarget&&P(i,s.pointerType,!1),s.isPressed=!1,s.activePointerId=null,s.isOverTarget=!1,s.ignoreEmulatedMouseEvents=!0,h||B(s.target),F()},y.onTouchCancel=i=>{!i.currentTarget.contains(i.target)||(i.stopPropagation(),s.isPressed&&E(i))};let T=i=>{s.isPressed&&i.target.contains(s.target)&&E({currentTarget:s.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};y.onDragStart=i=>{!i.currentTarget.contains(i.target)||E(i)}}return y},[w,f,b,F,h]);return p.exports.useEffect(()=>()=>{h||B(D.current.target)},[h]),{isPressed:u||v,pressProps:H($,A)}}function se(t){return t.tagName==="A"&&t.hasAttribute("href")}function q(t,e){const{key:r,code:n}=t,a=e,o=a.getAttribute("role");return(r==="Enter"||r===" "||r==="Spacebar"||n==="Space")&&!(a instanceof HTMLInputElement&&!Ie(a,r)||a instanceof HTMLTextAreaElement||a.isContentEditable)&&(!se(a)||o==="button"&&r!=="Enter")&&!(o==="link"&&r!=="Enter")}function bt(t){const{targetTouches:e}=t;return e.length>0?e[0]:null}function Ee(t,e){const r=t.changedTouches;for(let n=0;n<r.length;n++){const a=r[n];if(a.identifier===e)return a}return null}function M(t,e){return{currentTarget:t,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey}}function $t(t){let e=t.width/2||t.radiusX||0,r=t.height/2||t.radiusY||0;return{top:t.clientY-r,right:t.clientX+e,bottom:t.clientY+r,left:t.clientX-e}}function gt(t,e){return!(t.left>e.right||e.left>t.right||t.top>e.bottom||e.top>t.bottom)}function K(t,e){let r=e.getBoundingClientRect(),n=$t(t);return gt(r,n)}function Z(t){return!(t instanceof HTMLElement)||!t.draggable}function xe(t,e){return t instanceof HTMLInputElement?!Ie(t,e):t instanceof HTMLButtonElement?t.type!=="submit":!0}const ht=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Ie(t,e){return t.type==="checkbox"||t.type==="radio"?e===" ":ht.has(t.type)}class mt{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,r){this.nativeEvent=r,this.target=r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget,this.bubbles=r.bubbles,this.cancelable=r.cancelable,this.defaultPrevented=r.defaultPrevented,this.eventPhase=r.eventPhase,this.isTrusted=r.isTrusted,this.timeStamp=r.timeStamp,this.type=e}}function He(t){let e=p.exports.useRef({isFocused:!1,onBlur:t,observer:null});return e.current.onBlur=t,Ge(()=>{const r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]),p.exports.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let n=r.target,a=o=>{var f,u;e.current.isFocused=!1,n.disabled&&((u=(f=e.current).onBlur)===null||u===void 0||u.call(f,new mt("blur",o))),e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};n.addEventListener("focusout",a,{once:!0}),e.current.observer=new MutationObserver(()=>{e.current.isFocused&&n.disabled&&(e.current.observer.disconnect(),n.dispatchEvent(new FocusEvent("blur")),n.dispatchEvent(new FocusEvent("focusout",{bubbles:!0})))}),e.current.observer.observe(n,{attributes:!0,attributeFilter:["disabled"]})}},[])}function vt(t){let{isDisabled:e,onFocus:r,onBlur:n,onFocusChange:a}=t;const o=p.exports.useCallback(b=>{if(b.target===b.currentTarget)return n&&n(b),a&&a(!1),!0},[n,a]),f=He(o),u=p.exports.useCallback(b=>{b.target===b.currentTarget&&(r&&r(b),a&&a(!0),f(b))},[a,r,f]);return{focusProps:{onFocus:!e&&(r||a||n)?u:void 0,onBlur:!e&&(n||a)?o:null}}}let C=null,ae=new Set,Se=!1,R=!1,oe=!1;function j(t,e){for(let r of ae)r(t,e)}function yt(t){return!(t.metaKey||!Ye()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function we(t){R=!0,yt(t)&&(C="keyboard",j("keyboard",t))}function N(t){C="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(R=!0,j("pointer",t))}function Pt(t){Q(t)&&(R=!0,C="virtual")}function Tt(t){t.target===window||t.target===document||(!R&&!oe&&(C="virtual",j("virtual",t)),R=!1,oe=!1)}function Et(){R=!1,oe=!0}function ie(){if(typeof window>"u"||Se)return;let t=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(){R=!0,t.apply(this,arguments)},document.addEventListener("keydown",we,!0),document.addEventListener("keyup",we,!0),document.addEventListener("click",Pt,!0),window.addEventListener("focus",Tt,!0),window.addEventListener("blur",Et,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",N,!0),document.addEventListener("pointermove",N,!0),document.addEventListener("pointerup",N,!0)):(document.addEventListener("mousedown",N,!0),document.addEventListener("mousemove",N,!0),document.addEventListener("mouseup",N,!0)),Se=!0}typeof document<"u"&&(document.readyState!=="loading"?ie():document.addEventListener("DOMContentLoaded",ie));function _t(){return C!=="pointer"}function xt(){return C}function Gt(t){C=t,j(t,null)}function jt(){ie();let[t,e]=p.exports.useState(C);return p.exports.useEffect(()=>{let r=()=>{e(C)};return ae.add(r),()=>{ae.delete(r)}},[]),t}function zt(t){let{isDisabled:e,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:a}=t,o=p.exports.useRef({isFocusWithin:!1}),f=p.exports.useCallback(m=>{o.current.isFocusWithin&&!m.currentTarget.contains(m.relatedTarget)&&(o.current.isFocusWithin=!1,r&&r(m),a&&a(!1))},[r,a,o]),u=He(f),b=p.exports.useCallback(m=>{o.current.isFocusWithin||(n&&n(m),a&&a(!0),o.current.isFocusWithin=!0,u(m))},[n,a,u]);return e?{focusWithinProps:{onFocus:null,onBlur:null}}:{focusWithinProps:{onFocus:b,onBlur:f}}}let G=!1,J=0;function le(){G=!0,setTimeout(()=>{G=!1},50)}function Le(t){t.pointerType==="touch"&&le()}function St(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",Le):document.addEventListener("touchend",le),J++,()=>{J--,!(J>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",Le):document.removeEventListener("touchend",le))}}function Yt(t){let{onHoverStart:e,onHoverChange:r,onHoverEnd:n,isDisabled:a}=t,[o,f]=p.exports.useState(!1),u=p.exports.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;p.exports.useEffect(St,[]);let{hoverProps:b,triggerHoverEnd:m}=p.exports.useMemo(()=>{let h=(d,v)=>{if(u.pointerType=v,a||v==="touch"||u.isHovered||!d.currentTarget.contains(d.target))return;u.isHovered=!0;let S=d.currentTarget;u.target=S,e&&e({type:"hoverstart",target:S,pointerType:v}),r&&r(!0),f(!0)},x=(d,v)=>{if(u.pointerType="",u.target=null,v==="touch"||!u.isHovered)return;u.isHovered=!1;let S=d.currentTarget;n&&n({type:"hoverend",target:S,pointerType:v}),r&&r(!1),f(!1)},$={};return typeof PointerEvent<"u"?($.onPointerEnter=d=>{G&&d.pointerType==="mouse"||h(d,d.pointerType)},$.onPointerLeave=d=>{!a&&d.currentTarget.contains(d.target)&&x(d,d.pointerType)}):($.onTouchStart=()=>{u.ignoreEmulatedMouseEvents=!0},$.onMouseEnter=d=>{!u.ignoreEmulatedMouseEvents&&!G&&h(d,"mouse"),u.ignoreEmulatedMouseEvents=!1},$.onMouseLeave=d=>{!a&&d.currentTarget.contains(d.target)&&x(d,"mouse")}),{hoverProps:$,triggerHoverEnd:x}},[e,r,n,a,u]);return p.exports.useEffect(()=>{a&&m({currentTarget:u.target},u.pointerType)},[a]),{hoverProps:b,isHovered:o}}function Me(t){if(!t)return;let e=!0;return r=>{let n={...r,preventDefault(){r.preventDefault()},isDefaultPrevented(){return r.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){e=!1}};t(n),e&&r.stopPropagation()}}function wt(t){return{keyboardProps:t.isDisabled?{}:{onKeyDown:Me(t.onKeyDown),onKeyUp:Me(t.onKeyUp)}}}function Xt(t,e){let{onScroll:r,isDisabled:n}=t,a=p.exports.useCallback(o=>{o.ctrlKey||(o.preventDefault(),o.stopPropagation(),r&&r({deltaX:o.deltaX,deltaY:o.deltaY}))},[r]);_e(e,"wheel",n?null:a)}const Lt=500;function qt(t){let{isDisabled:e,onLongPressStart:r,onLongPressEnd:n,onLongPress:a,threshold:o=Lt,accessibilityDescription:f}=t;const u=p.exports.useRef(null);let{addGlobalListener:b,removeGlobalListener:m}=Fe(),{pressProps:h}=pt({isDisabled:e,onPressStart($){if(($.pointerType==="mouse"||$.pointerType==="touch")&&(r&&r({...$,type:"longpressstart"}),u.current=setTimeout(()=>{$.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),a&&a({...$,type:"longpress"}),u.current=null},o),$.pointerType==="touch")){let d=v=>{v.preventDefault()};b($.target,"contextmenu",d,{once:!0}),b(window,"pointerup",()=>{setTimeout(()=>{m($.target,"contextmenu",d)},30)},{once:!0})}},onPressEnd($){u.current&&clearTimeout(u.current),n&&($.pointerType==="mouse"||$.pointerType==="touch")&&n({...$,type:"longpressend"})}}),x=ze(a&&!e?f:null);return{longPressProps:H(h,x)}}function Mt(t){if(xt()==="virtual"){let e=document.activeElement;Re(()=>{document.activeElement===e&&document.contains(t)&&O(t)})}else O(t)}function Ct(t){if(!(t instanceof HTMLElement)&&!(t instanceof SVGElement))return!1;let{display:e,visibility:r}=t.style,n=e!=="none"&&r!=="hidden"&&r!=="collapse";if(n){const{getComputedStyle:a}=t.ownerDocument.defaultView;let{display:o,visibility:f}=a(t);n=o!=="none"&&f!=="hidden"&&f!=="collapse"}return n}function Ft(t,e){return!t.hasAttribute("hidden")&&(t.nodeName==="DETAILS"&&e&&e.nodeName!=="SUMMARY"?t.hasAttribute("open"):!0)}function Ae(t,e){return t.nodeName!=="#comment"&&Ct(t)&&Ft(t,e)&&(!t.parentElement||Ae(t.parentElement,t))}const fe=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],Dt=fe.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";fe.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const Rt=fe.join(':not([hidden]):not([tabindex="-1"]),');function Ue(t,e){return e.some(r=>r.contains(t))}function Zt(t,e,r){let n=e!=null&&e.tabbable?Rt:Dt,a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode(o){var f;return!(e==null||(f=e.from)===null||f===void 0)&&f.contains(o)?NodeFilter.FILTER_REJECT:o.matches(n)&&Ae(o)&&(!r||Ue(o,r))&&(!(e!=null&&e.accept)||e.accept(o))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return e!=null&&e.from&&(a.currentNode=e.from),a}class de{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,r,n){let a=this.fastMap.get(r!=null?r:null),o=new Ce({scopeRef:e});a.addChild(o),o.parent=a,this.fastMap.set(e,o),n&&(o.nodeToRestore=n)}removeTreeNode(e){if(e===null)return;let r=this.fastMap.get(e),n=r.parent;for(let o of this.traverse())o!==r&&r.nodeToRestore&&o.nodeToRestore&&r.scopeRef.current&&Ue(o.nodeToRestore,r.scopeRef.current)&&(o.nodeToRestore=r.nodeToRestore);let a=r.children;n.removeChild(r),a.length>0&&a.forEach(o=>n.addChild(o)),this.fastMap.delete(r.scopeRef)}*traverse(e=this.root){if(e.scopeRef!=null&&(yield e),e.children.length>0)for(let r of e.children)yield*this.traverse(r)}clone(){let e=new de;for(let r of this.traverse())e.addTreeNode(r.scopeRef,r.parent.scopeRef,r.nodeToRestore);return e}constructor(){ee(this,"fastMap",new Map),this.root=new Ce({scopeRef:null}),this.fastMap.set(null,this.root)}}class Ce{addChild(e){this.children.push(e),e.parent=this}removeChild(e){this.children.splice(this.children.indexOf(e),1),e.parent=void 0}constructor(e){ee(this,"children",[]),ee(this,"contain",!1),this.scopeRef=e.scopeRef}}new de;let Kt=ue.createContext(null);function Nt(t){let e=p.exports.useContext(Kt)||{};Ke(e,t);let{ref:r,...n}=e;return n}function Jt(t,e){let{focusProps:r}=vt(t),{keyboardProps:n}=wt(t),a=H(r,n),o=Nt(e),f=t.isDisabled?{}:o,u=p.exports.useRef(t.autoFocus);return p.exports.useEffect(()=>{u.current&&e.current&&Mt(e.current),u.current=!1},[e]),{focusableProps:H({...a,tabIndex:t.excludeFromTabOrder&&!t.isDisabled?-1:void 0},f)}}export{zt as $,ee as _,Wt as a,qt as b,It as c,Vt as d,Gt as e,jt as f,ce as g,Mt as h,pt as i,Zt as j,Yt as k,_t as l,Jt as m,xt as n,vt as o,Xt as p,Bt as q,Qe as r,Ut as s,At as t,Ht as u};

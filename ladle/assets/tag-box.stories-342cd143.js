import{m as p}from"./index-1156f3dc.js";import{s as b,R as s,j as e,a as g,r as q}from"./index-0ff84398.js";import"./index-d7793a97.js";import{a as f}from"./index-637093dc.js";import{C as O}from"./components-b3bd1011.js";import{a as J}from"./module-1cee17c0.js";import{p as Q}from"./pick-child-d845566a.js";import{u as F}from"./use-dom-ref-38402f1e.js";import{B as y}from"./button-9e6da137.js";import"./module-6b6f4a07.js";import"./module-21928aa1.js";import"./module-63bc1c52.js";import"./_define_property-1764bf98.js";import"./module-dc3e378f.js";const Y=b("div",{width:"100%"}),ee=b("div",{width:"100%",display:"flex",label:{fontSize:"$body3",fontWeight:"$semibold",display:"inline-block"},variants:{labelPosition:{top:{flexDirection:"column",gap:"$2"},left:{flexDirection:"row",gap:"$8",label:{maxWidth:"33%",flexShrink:0,width:"max-content"}}}}}),G=b("div",{marginTop:"$1",width:"$6",height:"$6",display:"flex",justifyContent:"center",alignItems:"center",userSelect:"none",svg:{width:"$4",height:"$4"}}),te=b("div",{flexGrow:1,backgroundColor:"$background",border:"1px solid #EDEBE9",padding:"$2 $4",borderRadius:"$md",display:"flex",gap:"$4",variants:{collaspable:{true:{},false:{minHeight:"$32"}},isErrored:{true:{borderColor:"$danger",borderWidth:2}}}}),oe=b("div",{flexGrow:1,display:"flex",alignItems:"flex-start",height:"fit-content",flexWrap:"wrap",gap:"$4",input:{fontSize:"$body3",border:"none",background:"transparent",outline:"none",width:"25%",height:"$7_5",padding:0}}),V=b("div",{fontSize:"$label2",fontWeight:"$semibold",backgroundColor:"#F5F5F6",padding:"$2",gap:"$3",height:"min-content",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"$md",svg:{width:"$3",height:"$3"},"&:hover":{backgroundColor:"#EAEBEB"},input:{fontSize:"$label2",fontWeight:"$semibold",height:"fit-content",padding:0,margin:0},variants:{isDisabled:{true:{background:"#F0F0F0",cursor:"not-allowed",opacity:.4},false:{"tag-box-x-icon":{cursor:"pointer"}}},isError:{true:{border:"1px solid #A4262C"}}}}),ne=b("div",{width:"100%",marginTop:"$2",fontSize:"$label3",color:"$gray60",fontWeight:"$semibold",display:"flex",alignItems:"center",span:{flexGrow:1}}),le=b("div",{width:"max-content",height:"min-content"}),ie=b("div",{fontSize:"$label2",fontWeight:"$medium",transition:"$default",marginTop:"$1",color:"$gray70",variants:{error:{true:{color:"$danger"},false:{color:"$gray70"}}}}),re=s.forwardRef((t,o)=>{const{css:d={},children:m}=t,h=F(o);return e(le,{css:d,ref:h,children:m})}),Z=re,ce=s.forwardRef((t,o)=>{const d=F(o);return e("input",{ref:d,type:"text",onFocus:t.onFocus,onBlur:t.onBlur,onKeyDown:m=>{const h=m.target.value;h!==""&&m.key==="Enter"&&(t.onEnter(h),d.current&&(d.current.value=""))}})}),ae=ce,se=s.forwardRef((t,o)=>{const{isDisabled:d,isError:m,icon:h,value:x,id:$,wrapperRef:E,onRemove:w,onEdit:v}=t,[T,S]=s.useState(!1),[B,k]=s.useState(x),c=s.useRef(null),H=F(o),R=()=>{d||(S(!0),setTimeout(()=>{var l;(l=c==null?void 0:c.current)==null||l.focus()}))},L=(l,r)=>{const n=document.createElement("div");n.style.position="absolute",n.style.top="0",n.style.left="-9999px",n.style.overflow="hidden",n.style.visibility="hidden",n.style.whiteSpace="nowrap",n.style.height="0",n.style.width="fit-content",n.style.fontSize="12px",n.style.fontWeight="600",n.style.maxWidth=`${E.current.clientWidth-62}px`,n.innerHTML=l.replace(/\s/g,"&nbsp;"),document.body.appendChild(n),r(n.clientWidth),n.remove()},M=l=>{const r=l.target.value;k(r),r!==""?L(r,n=>{l.target.focus(),l.target.style.width=`${n+4}px`}):l.target.style.width="4px"},W=l=>{var n;const r=l.target.value;r!==""&&l.key==="Enter"&&(v==null||v($,r),(n=c==null?void 0:c.current)==null||n.blur()),(l.key=="Escape"||l.keyCode==27)&&A()};s.useEffect(()=>{const l=x;l!==""&&L(l,r=>{c.current&&(c.current.focus(),c.current.style.width=`${r+4}px`,c.current.style.maxWidth=`${E.current.clientWidth-62}px`)})},[x]);const A=()=>{k(x),S(!1),L(x,l=>{c.current&&(c.current.style.width=`${l+4}px`)})};return g(V,{isDisabled:d,isError:m,ref:H,children:[h,e("input",{ref:c,value:B,onKeyDown:W,onClick:R,onChange:M,onBlur:A,style:{display:T?"block":"none"}}),e("span",{onClick:R,style:{display:T?"none":"block",cursor:d?"not-allowed":"text"},children:x}),e("span",{style:{display:"flex",alignItems:"center",justifyContent:"center",cursor:d?"not-allowed":"pointer"},children:e(de,{onClick:()=>w==null?void 0:w($),isDisabled:d})})]})}),de=({...t})=>e("svg",{...t,width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:e("path",{d:"M10.9408 9.45858C11.3509 9.8687 11.3509 10.5331 10.9408 10.9432C10.7373 11.1483 10.4683 11.25 10.1993 11.25C9.93022 11.25 9.66183 11.1475 9.4571 10.9424L5.99959 7.4867L2.54241 10.9416C2.33734 11.1483 2.06863 11.25 1.79992 11.25C1.5312 11.25 1.26282 11.1483 1.05759 10.9416C0.647469 10.5315 0.647469 9.86706 1.05759 9.45694L4.51576 5.99877L1.05759 2.54224C0.647469 2.13212 0.647469 1.46772 1.05759 1.05759C1.46772 0.647469 2.13212 0.647469 2.54224 1.05759L5.99959 4.5174L9.45776 1.05923C9.86788 0.64911 10.5323 0.64911 10.9424 1.05923C11.3525 1.46936 11.3525 2.13376 10.9424 2.54388L7.48424 6.00205L10.9408 9.45858Z",fill:"#201F1E"})}),he=se,ue=s.forwardRef((t,o)=>{const{css:d={},labelPosition:m="top",collaspable:h=!1,typeable:x=!1,items:$,helperText:E,children:w,isErrored:v,errorMessage:T,onRemove:S,onAdd:B,onEdit:k,...c}=t,H=F(o),{child:R}=Q(w,Z),{labelProps:L,fieldProps:M}=J(c),[W,A]=s.useState(0),l=s.useRef(null),r=s.useRef(null),[n,K]=s.useState([]),[D,_]=s.useState(!1),U=()=>{r.current&&(r.current.style.outlineColor=v?"#A4262C":"-webkit-focus-ring-color",r.current.style.outlineStyle="auto")},X=()=>{r.current&&(r.current.style.outline="none")};return s.useEffect(()=>{K(a=>Array($.length).fill(0).map((I,C)=>a[C]||q.createRef()))},[$]),s.useEffect(()=>{var a,I;if(h&&!D){let C=((a=l.current)==null?void 0:a.clientWidth)??0,P=0;for(const z of n){const j=(I=z.current)==null?void 0:I.clientWidth;if(j){const N=C-j-16;N>37?C=N:(z.current.style.display="none",P++)}}A(Math.min(P,99))}else{for(const C of n)C.current&&(C.current.style.display="flex");A(0)}},[n,D,h]),g(Y,{css:d,ref:H,children:[g(ee,{labelPosition:m,children:[t.label&&e("label",{...L,children:t.label}),g("div",{children:[g(te,{...M,ref:r,collaspable:h,isErrored:!!v,children:[t.icon&&e(G,{children:t.icon}),g(oe,{ref:l,children:[$.map((a,I)=>e(he,{isDisabled:!!a.isDisabled,isError:!!a.isError,ref:n[I],wrapperRef:l,icon:a.icon,value:a.value,id:a.id,onRemove:S,onEdit:k},a.id)),W>0&&e(V,{children:g("span",{children:["+",W]})},"remainingCount"),(!h&&x||h&&x&&D)&&e(ae,{onFocus:U,onBlur:X,onEnter:a=>B==null?void 0:B(a)})]}),h&&e(G,{css:{cursor:"pointer"},onClick:()=>_(a=>!a),children:D?e(fe,{}):e(pe,{})})]}),T&&e(ie,{error:!!v,children:T})]})]}),(E||R)&&g(ne,{children:[e("span",{children:E})," ",R]})]})}),pe=({...t})=>e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",...t,children:e("path",{d:"M11.9991 18C11.5301 18 11.0608 17.8186 10.7033 17.4559L1.53708 8.1702C0.820973 7.44475 0.820973 6.26953 1.53708 5.54408C2.25319 4.81864 3.41329 4.81864 4.12939 5.54408L11.9991 13.5196L19.8706 5.54554C20.5867 4.82009 21.7468 4.82009 22.4629 5.54554C23.179 6.27098 23.179 7.44621 22.4629 8.17165L13.2967 17.4574C12.9387 17.8201 12.4689 18 11.9991 18Z",fill:"#201F1E"})}),fe=({...t})=>e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",...t,children:e("path",{d:"M12.0009 5C12.4699 5 12.9392 5.18136 13.2967 5.54409L22.4629 14.8298C23.179 15.5552 23.179 16.7305 22.4629 17.4559C21.7468 18.1814 20.5867 18.1814 19.8706 17.4559L12.0009 9.48036L4.12939 17.4545C3.41329 18.1799 2.25319 18.1799 1.53708 17.4545C0.820973 16.729 0.820973 15.5538 1.53708 14.8284L10.7033 5.54264C11.0613 5.17991 11.5311 5 12.0009 5Z",fill:"#201F1E"})}),i=ue;i.Action=Z;i.displayName="TagBox";i.Action.displayName="TagBox.Action";const u=[{id:1,value:"Item 1",icon:e(f,{icon:p})},{id:2,value:"Item 2",isDisabled:!0},{id:3,value:"Item 3",icon:e(f,{icon:p})},{id:4,value:"Item 4",isDisabled:!0},{id:5,value:"Item 5",icon:e(f,{icon:p}),isError:!0},{id:6,value:"Item 6",isDisabled:!0},{id:7,value:"Item 7",icon:e(f,{icon:p})},{id:8,value:"Item 8",isDisabled:!0},{id:9,value:"Item 9",icon:e(f,{icon:p})},{id:10,value:"Item 10",isDisabled:!0}],Ae=()=>g(O,{children:[e("h3",{children:"Fully Functional"}),e(i,{label:"Text Label",items:u,icon:e(f,{icon:p}),onRemove:t=>console.log(t),onEdit:(t,o)=>console.log(t,o),helperText:"Helper text",children:e(i.Action,{children:e(y,{children:"Call to action"})})}),e("h3",{children:"Typeable"}),e(i,{label:"Text Label",items:u,typeable:!0,icon:e(f,{icon:p}),onAdd:t=>console.log(t),onRemove:t=>console.log(t),onEdit:(t,o)=>console.log(t,o),helperText:"Helper text",children:e(i.Action,{children:e(y,{children:"Call to action"})})}),e("h3",{children:"Error"}),e(i,{label:"Text Label",items:u,icon:e(f,{icon:p}),onRemove:t=>console.log(t),onEdit:(t,o)=>console.log(t,o),isErrored:!0,errorMessage:"Error Message",helperText:"Helper text",children:e(i.Action,{children:e(y,{children:"Call to action"})})}),e("h3",{children:"Positioned Label"}),e(i,{items:u,onRemove:t=>console.log(t),onEdit:(t,o)=>console.log(t,o),labelPosition:"left",label:"Text Label",helperText:"Helper text",children:e(i.Action,{children:e(y,{children:"Call to action"})})}),e("h3",{children:"No Action"}),e(i,{label:"Text Label",items:u,onRemove:t=>console.log(t),helperText:"Helper text"}),e("h3",{children:"No Helper text and Action"}),e(i,{label:"Text Label",items:u,onRemove:t=>console.log(t)})]}),Ie=()=>g(O,{children:[e("h3",{children:"Fully Functional"}),e(i,{label:"Text Label",collaspable:!0,items:u,icon:e(f,{icon:p}),onRemove:t=>console.log(t),onEdit:(t,o)=>console.log(t,o),helperText:"Helper text",children:e(i.Action,{children:e(y,{children:"Call to action"})})}),e("h3",{children:"Typeable"}),e(i,{label:"Text Label",collaspable:!0,typeable:!0,items:u,icon:e(f,{icon:p}),onAdd:t=>console.log(t),onRemove:t=>console.log(t),onEdit:(t,o)=>console.log(t,o),helperText:"Helper text",children:e(i.Action,{children:e(y,{children:"Call to action"})})}),e("h3",{children:"Error"}),e(i,{label:"Text Label",collaspable:!0,items:u,icon:e(f,{icon:p}),onRemove:t=>console.log(t),onEdit:(t,o)=>console.log(t,o),isErrored:!0,errorMessage:"Error Message",helperText:"Helper text",children:e(i.Action,{children:e(y,{children:"Call to action"})})}),e("h3",{children:"Positioned Label"}),e(i,{items:u,collaspable:!0,onRemove:t=>console.log(t),onEdit:(t,o)=>console.log(t,o),labelPosition:"left",label:"Text Label",helperText:"Helper text",children:e(i.Action,{children:e(y,{children:"Call to action"})})}),e("h3",{children:"No Action"}),e(i,{label:"Text Label",collaspable:!0,items:u,onRemove:t=>console.log(t),onEdit:(t,o)=>console.log(t,o),helperText:"Helper text"}),e("h3",{children:"No Helper text and Action"}),e(i,{collaspable:!0,label:"Text Label",items:u,onRemove:t=>console.log(t)})]});typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{Ie as Collaspable,Ae as TagBoxs};

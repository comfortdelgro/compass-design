import{r as h,d as gt,a as ht,j as Q,F as Ht,f as bt}from"./index-6261c28d.js";function xe(e){return e.split("-")[1]}function Ze(e){return e==="y"?"height":"width"}function ue(e){return e.split("-")[0]}function we(e){return["top","bottom"].includes(ue(e))?"x":"y"}function tt(e,t,n){let{reference:r,floating:o}=e;const i=r.x+r.width/2-o.width/2,s=r.y+r.height/2-o.height/2,u=we(t),l=Ze(u),a=r[l]/2-o[l]/2,g=u==="x";let c;switch(ue(t)){case"top":c={x:i,y:r.y-o.height};break;case"bottom":c={x:i,y:r.y+r.height};break;case"right":c={x:r.x+r.width,y:s};break;case"left":c={x:r.x-o.width,y:s};break;default:c={x:r.x,y:r.y}}switch(xe(t)){case"start":c[u]-=a*(n&&g?-1:1);break;case"end":c[u]+=a*(n&&g?-1:1)}return c}const _t=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,u=i.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let a=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:g,y:c}=tt(a,r,l),m=r,d={},b=0;for(let p=0;p<u.length;p++){const{name:y,fn:v}=u[p],{x:w,y:F,data:P,reset:S}=await v({x:g,y:c,initialPlacement:r,placement:m,strategy:o,middlewareData:d,rects:a,platform:s,elements:{reference:e,floating:t}});g=w??g,c=F??c,d={...d,[y]:{...d[y],...P}},S&&b<=50&&(b++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(a=S.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):S.rects),{x:g,y:c}=tt(a,m,l)),p=-1)}return{x:g,y:c,placement:m,strategy:o,middlewareData:d}};function yt(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function Ae(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function xt(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:u,strategy:l}=e,{boundary:a="clippingAncestors",rootBoundary:g="viewport",elementContext:c="floating",altBoundary:m=!1,padding:d=0}=t,b=yt(d),p=u[m?c==="floating"?"reference":"floating":c],y=Ae(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(p)))==null||n?p:p.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:a,rootBoundary:g,strategy:l})),v=c==="floating"?{...s.floating,x:r,y:o}:s.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),F=await(i.isElement==null?void 0:i.isElement(w))&&await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1},P=Ae(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:v,offsetParent:w,strategy:l}):v);return{top:(y.top-P.top+b.top)/F.y,bottom:(P.bottom-y.bottom+b.bottom)/F.y,left:(y.left-P.left+b.left)/F.x,right:(P.right-y.right+b.right)/F.x}}const Kt=Math.min,qt=Math.max;function Xe(e,t,n){return qt(e,Kt(t,n))}const nt=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:r=0}=e||{},{x:o,y:i,placement:s,rects:u,platform:l,elements:a}=t;if(n==null)return{};const g=yt(r),c={x:o,y:i},m=we(s),d=Ze(m),b=await l.getDimensions(n),p=m==="y",y=p?"top":"left",v=p?"bottom":"right",w=p?"clientHeight":"clientWidth",F=u.reference[d]+u.reference[m]-c[m]-u.floating[d],P=c[m]-u.reference[m],S=await(l.getOffsetParent==null?void 0:l.getOffsetParent(n));let R=S?S[w]:0;R&&await(l.isElement==null?void 0:l.isElement(S))||(R=a.floating[w]||u.floating[d]);const N=F/2-P/2,$=g[y],H=R-b[d]-g[v],B=R/2-b[d]/2+N,E=Xe($,B,H),M=xe(s)!=null&&B!=E&&u.reference[d]/2-(B<$?g[y]:g[v])-b[d]/2<0;return{[m]:c[m]-(M?B<$?$-B:H-B:0),data:{[m]:E,centerOffset:B-E}}}}),jt=["top","right","bottom","left"];jt.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const Yt={left:"right",right:"left",bottom:"top",top:"bottom"};function Le(e){return e.replace(/left|right|bottom|top/g,t=>Yt[t])}function Xt(e,t,n){n===void 0&&(n=!1);const r=xe(e),o=we(e),i=Ze(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Le(s)),{main:s,cross:Le(s)}}const zt={start:"end",end:"start"};function He(e){return e.replace(/start|end/g,t=>zt[t])}const Zn=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:o,rects:i,initialPlacement:s,platform:u,elements:l}=t,{mainAxis:a=!0,crossAxis:g=!0,fallbackPlacements:c,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:d="none",flipAlignment:b=!0,...p}=e,y=ue(r),v=ue(s)===s,w=await(u.isRTL==null?void 0:u.isRTL(l.floating)),F=c||(v||!b?[Le(s)]:function(E){const M=Le(E);return[He(E),M,He(M)]}(s));c||d==="none"||F.push(...function(E,M,A,x){const f=xe(E);let T=function(k,C,L){const O=["left","right"],I=["right","left"],W=["top","bottom"],_=["bottom","top"];switch(k){case"top":case"bottom":return L?C?I:O:C?O:I;case"left":case"right":return C?W:_;default:return[]}}(ue(E),A==="start",x);return f&&(T=T.map(k=>k+"-"+f),M&&(T=T.concat(T.map(He)))),T}(s,b,d,w));const P=[s,...F],S=await xt(t,p),R=[];let N=((n=o.flip)==null?void 0:n.overflows)||[];if(a&&R.push(S[y]),g){const{main:E,cross:M}=Xt(r,i,w);R.push(S[E],S[M])}if(N=[...N,{placement:r,overflows:R}],!R.every(E=>E<=0)){var $,H;const E=((($=o.flip)==null?void 0:$.index)||0)+1,M=P[E];if(M)return{data:{index:E,overflows:N},reset:{placement:M}};let A=(H=N.filter(x=>x.overflows[0]<=0).sort((x,f)=>x.overflows[1]-f.overflows[1])[0])==null?void 0:H.placement;if(!A)switch(m){case"bestFit":{var B;const x=(B=N.map(f=>[f.placement,f.overflows.filter(T=>T>0).reduce((T,k)=>T+k,0)]).sort((f,T)=>f[1]-T[1])[0])==null?void 0:B[0];x&&(A=x);break}case"initialPlacement":A=s}if(r!==A)return{reset:{placement:A}}}return{}}}},Jn=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await async function(i,s){const{placement:u,platform:l,elements:a}=i,g=await(l.isRTL==null?void 0:l.isRTL(a.floating)),c=ue(u),m=xe(u),d=we(u)==="x",b=["left","top"].includes(c)?-1:1,p=g&&d?-1:1,y=typeof s=="function"?s(i):s;let{mainAxis:v,crossAxis:w,alignmentAxis:F}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...y};return m&&typeof F=="number"&&(w=m==="end"?-1*F:F),d?{x:w*p,y:v*b}:{x:v*b,y:w*p}}(t,e);return{x:n+o.x,y:r+o.y,data:o}}}};function Gt(e){return e==="x"?"y":"x"}const Qn=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:u={fn:y=>{let{x:v,y:w}=y;return{x:v,y:w}}},...l}=e,a={x:n,y:r},g=await xt(t,l),c=we(ue(o)),m=Gt(c);let d=a[c],b=a[m];if(i){const y=c==="y"?"bottom":"right";d=Xe(d+g[c==="y"?"top":"left"],d,d-g[y])}if(s){const y=m==="y"?"bottom":"right";b=Xe(b+g[m==="y"?"top":"left"],b,b-g[y])}const p=u.fn({...t,[c]:d,[m]:b});return{...p,data:{x:p.x-n,y:p.y-r}}}}};function Y(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Z(e){return Y(e).getComputedStyle(e)}function wt(e){return e instanceof Y(e).Node}function ne(e){return wt(e)?(e.nodeName||"").toLowerCase():""}let Re;function Rt(){if(Re)return Re;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(Re=e.brands.map(t=>t.brand+"/"+t.version).join(" "),Re):navigator.userAgent}function J(e){return e instanceof Y(e).HTMLElement}function X(e){return e instanceof Y(e).Element}function rt(e){return typeof ShadowRoot>"u"?!1:e instanceof Y(e).ShadowRoot||e instanceof ShadowRoot}function he(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=Z(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function Ut(e){return["table","td","th"].includes(ne(e))}function ze(e){const t=/firefox/i.test(Rt()),n=Z(e),r=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!r&&r!=="none"||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(o=>n.willChange.includes(o))||["paint","layout","strict","content"].some(o=>{const i=n.contain;return i!=null&&i.includes(o)})}function Ge(){return/^((?!chrome|android).)*safari/i.test(Rt())}function $e(e){return["html","body","#document"].includes(ne(e))}const ot=Math.min,pe=Math.max,Fe=Math.round;function Et(e){const t=Z(e);let n=parseFloat(t.width),r=parseFloat(t.height);const o=J(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,u=Fe(n)!==i||Fe(r)!==s;return u&&(n=i,r=s),{width:n,height:r,fallback:u}}function Tt(e){return X(e)?e:e.contextElement}const St={x:1,y:1};function fe(e){const t=Tt(e);if(!J(t))return St;const n=t.getBoundingClientRect(),{width:r,height:o,fallback:i}=Et(t);let s=(i?Fe(n.width):n.width)/r,u=(i?Fe(n.height):n.height)/o;return s&&Number.isFinite(s)||(s=1),u&&Number.isFinite(u)||(u=1),{x:s,y:u}}function le(e,t,n,r){var o,i;t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),u=Tt(e);let l=St;t&&(r?X(r)&&(l=fe(r)):l=fe(e));const a=u?Y(u):window,g=Ge()&&n;let c=(s.left+(g&&((o=a.visualViewport)==null?void 0:o.offsetLeft)||0))/l.x,m=(s.top+(g&&((i=a.visualViewport)==null?void 0:i.offsetTop)||0))/l.y,d=s.width/l.x,b=s.height/l.y;if(u){const p=Y(u),y=r&&X(r)?Y(r):r;let v=p.frameElement;for(;v&&r&&y!==p;){const w=fe(v),F=v.getBoundingClientRect(),P=getComputedStyle(v);F.x+=(v.clientLeft+parseFloat(P.paddingLeft))*w.x,F.y+=(v.clientTop+parseFloat(P.paddingTop))*w.y,c*=w.x,m*=w.y,d*=w.x,b*=w.y,c+=F.x,m+=F.y,v=Y(v).frameElement}}return Ae({width:d,height:b,x:c,y:m})}function ee(e){return((wt(e)?e.ownerDocument:e.document)||window.document).documentElement}function Be(e){return X(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Pt(e){return le(ee(e)).left+Be(e).scrollLeft}function me(e){if(ne(e)==="html")return e;const t=e.assignedSlot||e.parentNode||rt(e)&&e.host||ee(e);return rt(t)?t.host:t}function Ct(e){const t=me(e);return $e(t)?t.ownerDocument.body:J(t)&&he(t)?t:Ct(t)}function te(e,t){var n;t===void 0&&(t=[]);const r=Ct(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),i=Y(r);return o?t.concat(i,i.visualViewport||[],he(r)?r:[]):t.concat(r,te(r))}function it(e,t,n){let r;if(t==="viewport")r=function(s,u){const l=Y(s),a=ee(s),g=l.visualViewport;let c=a.clientWidth,m=a.clientHeight,d=0,b=0;if(g){c=g.width,m=g.height;const p=Ge();(!p||p&&u==="fixed")&&(d=g.offsetLeft,b=g.offsetTop)}return{width:c,height:m,x:d,y:b}}(e,n);else if(t==="document")r=function(s){const u=ee(s),l=Be(s),a=s.ownerDocument.body,g=pe(u.scrollWidth,u.clientWidth,a.scrollWidth,a.clientWidth),c=pe(u.scrollHeight,u.clientHeight,a.scrollHeight,a.clientHeight);let m=-l.scrollLeft+Pt(s);const d=-l.scrollTop;return Z(a).direction==="rtl"&&(m+=pe(u.clientWidth,a.clientWidth)-g),{width:g,height:c,x:m,y:d}}(ee(e));else if(X(t))r=function(s,u){const l=le(s,!0,u==="fixed"),a=l.top+s.clientTop,g=l.left+s.clientLeft,c=J(s)?fe(s):{x:1,y:1};return{width:s.clientWidth*c.x,height:s.clientHeight*c.y,x:g*c.x,y:a*c.y}}(t,n);else{const s={...t};if(Ge()){var o,i;const u=Y(e);s.x-=((o=u.visualViewport)==null?void 0:o.offsetLeft)||0,s.y-=((i=u.visualViewport)==null?void 0:i.offsetTop)||0}r=s}return Ae(r)}function At(e,t){const n=me(e);return!(n===t||!X(n)||$e(n))&&(Z(n).position==="fixed"||At(n,t))}function st(e,t){return J(e)&&Z(e).position!=="fixed"?t?t(e):e.offsetParent:null}function ut(e,t){const n=Y(e);if(!J(e))return n;let r=st(e,t);for(;r&&Ut(r)&&Z(r).position==="static";)r=st(r,t);return r&&(ne(r)==="html"||ne(r)==="body"&&Z(r).position==="static"&&!ze(r))?n:r||function(o){let i=me(o);for(;J(i)&&!$e(i);){if(ze(i))return i;i=me(i)}return null}(e)||n}function Zt(e,t,n){const r=J(t),o=ee(t),i=le(e,!0,n==="fixed",t);let s={scrollLeft:0,scrollTop:0};const u={x:0,y:0};if(r||!r&&n!=="fixed")if((ne(t)!=="body"||he(o))&&(s=Be(t)),J(t)){const l=le(t,!0);u.x=l.x+t.clientLeft,u.y=l.y+t.clientTop}else o&&(u.x=Pt(o));return{x:i.left+s.scrollLeft-u.x,y:i.top+s.scrollTop-u.y,width:i.width,height:i.height}}const Jt={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=n==="clippingAncestors"?function(a,g){const c=g.get(a);if(c)return c;let m=te(a).filter(y=>X(y)&&ne(y)!=="body"),d=null;const b=Z(a).position==="fixed";let p=b?me(a):a;for(;X(p)&&!$e(p);){const y=Z(p),v=ze(p);v||y.position!=="fixed"||(d=null),(b?!v&&!d:!v&&y.position==="static"&&d&&["absolute","fixed"].includes(d.position)||he(p)&&!v&&At(a,p))?m=m.filter(w=>w!==p):d=y,p=me(p)}return g.set(a,m),m}(t,this._c):[].concat(n),s=[...i,r],u=s[0],l=s.reduce((a,g)=>{const c=it(t,g,o);return a.top=pe(c.top,a.top),a.right=ot(c.right,a.right),a.bottom=ot(c.bottom,a.bottom),a.left=pe(c.left,a.left),a},it(t,u,o));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=J(n),i=ee(n);if(n===i)return t;let s={scrollLeft:0,scrollTop:0},u={x:1,y:1};const l={x:0,y:0};if((o||!o&&r!=="fixed")&&((ne(n)!=="body"||he(i))&&(s=Be(n)),J(n))){const a=le(n);u=fe(n),l.x=a.x+n.clientLeft,l.y=a.y+n.clientTop}return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-s.scrollLeft*u.x+l.x,y:t.y*u.y-s.scrollTop*u.y+l.y}},isElement:X,getDimensions:function(e){return Et(e)},getOffsetParent:ut,getDocumentElement:ee,getScale:fe,async getElementRects(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||ut,i=this.getDimensions;return{reference:Zt(t,await o(n),r),floating:{x:0,y:0,...await i(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>Z(e).direction==="rtl"};function er(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=!0,animationFrame:u=!1}=r,l=o||i?[...X(e)?te(e):e.contextElement?te(e.contextElement):[],...te(t)]:[];l.forEach(m=>{const d=!X(m)&&m.toString().includes("V");!o||u&&!d||m.addEventListener("scroll",n,{passive:!0}),i&&m.addEventListener("resize",n)});let a,g=null;s&&(g=new ResizeObserver(()=>{n()}),X(e)&&!u&&g.observe(e),X(e)||!e.contextElement||u||g.observe(e.contextElement),g.observe(t));let c=u?le(e):null;return u&&function m(){const d=le(e);!c||d.x===c.x&&d.y===c.y&&d.width===c.width&&d.height===c.height||n(),c=d,a=requestAnimationFrame(m)}(),n(),()=>{var m;l.forEach(d=>{o&&d.removeEventListener("scroll",n),i&&d.removeEventListener("resize",n)}),(m=g)==null||m.disconnect(),g=null,u&&cancelAnimationFrame(a)}}const Qt=(e,t,n)=>{const r=new Map,o={platform:Jt,...n},i={...o.platform,_c:r};return _t(e,t,{...o,platform:i})},tr=e=>{const{element:t,padding:n}=e;function r(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){return t&&r(t)?t.current!=null?nt({element:t.current,padding:n}).fn(o):{}:t?nt({element:t,padding:n}).fn(o):{}}}};var Se=typeof document<"u"?h.useLayoutEffect:h.useEffect;function De(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!De(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!De(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Lt(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function lt(e,t){const n=Lt(e);return Math.round(t*n)/n}function ct(e){const t=h.useRef(e);return Se(()=>{t.current=e}),t}function en(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:u=!0,whileElementsMounted:l,open:a}=e,[g,c]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[m,d]=h.useState(r);De(m,r)||d(r);const[b,p]=h.useState(null),[y,v]=h.useState(null),w=h.useCallback(T=>{T!=R.current&&(R.current=T,p(T))},[p]),F=h.useCallback(T=>{T!==N.current&&(N.current=T,v(T))},[v]),P=i||b,S=s||y,R=h.useRef(null),N=h.useRef(null),$=h.useRef(g),H=ct(l),B=ct(o),E=h.useCallback(()=>{if(!R.current||!N.current)return;const T={placement:t,strategy:n,middleware:m};B.current&&(T.platform=B.current),Qt(R.current,N.current,T).then(k=>{const C={...k,isPositioned:!0};M.current&&!De($.current,C)&&($.current=C,gt.flushSync(()=>{c(C)}))})},[m,t,n,B]);Se(()=>{a===!1&&$.current.isPositioned&&($.current.isPositioned=!1,c(T=>({...T,isPositioned:!1})))},[a]);const M=h.useRef(!1);Se(()=>(M.current=!0,()=>{M.current=!1}),[]),Se(()=>{if(P&&(R.current=P),S&&(N.current=S),P&&S){if(H.current)return H.current(P,S,E);E()}},[P,S,E,H]);const A=h.useMemo(()=>({reference:R,floating:N,setReference:w,setFloating:F}),[w,F]),x=h.useMemo(()=>({reference:P,floating:S}),[P,S]),f=h.useMemo(()=>{const T={position:n,left:0,top:0};if(!x.floating)return T;const k=lt(x.floating,g.x),C=lt(x.floating,g.y);return u?{...T,transform:"translate("+k+"px, "+C+"px)",...Lt(x.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:k,top:C}},[n,u,x.floating,g.x,g.y]);return h.useMemo(()=>({...g,update:E,refs:A,elements:x,floatingStyles:f}),[g,E,A,x,f])}var tn=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ae=new WeakMap,Ee=new WeakMap,Te={},_e=0,Ft=function(e){return e&&(e.host||Ft(e.parentNode))},nn=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Ft(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},rn=function(e,t,n,r){var o=nn(t,Array.isArray(e)?e:[e]);Te[n]||(Te[n]=new WeakMap);var i=Te[n],s=[],u=new Set,l=new Set(o),a=function(c){!c||u.has(c)||(u.add(c),a(c.parentNode))};o.forEach(a);var g=function(c){!c||l.has(c)||Array.prototype.forEach.call(c.children,function(m){if(u.has(m))g(m);else{var d=m.getAttribute(r),b=d!==null&&d!=="false",p=(ae.get(m)||0)+1,y=(i.get(m)||0)+1;ae.set(m,p),i.set(m,y),s.push(m),p===1&&b&&Ee.set(m,!0),y===1&&m.setAttribute(n,"true"),b||m.setAttribute(r,"true")}})};return g(t),u.clear(),_e++,function(){s.forEach(function(c){var m=ae.get(c)-1,d=i.get(c)-1;ae.set(c,m),i.set(c,d),m||(Ee.has(c)||c.removeAttribute(r),Ee.delete(c)),d||c.removeAttribute(n)}),_e--,_e||(ae=new WeakMap,ae=new WeakMap,Ee=new WeakMap,Te={})}},on=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=t||tn(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),rn(r,o,n,"aria-hidden")):function(){return null}};/*!
* tabbable 6.1.2
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var sn=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ue=sn.join(","),Dt=typeof Element>"u",be=Dt?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Ie=!Dt&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},Me=function e(t,n){var r;n===void 0&&(n=!0);var o=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),i=o===""||o==="true",s=i||n&&t&&e(t.parentNode);return s},un=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},ln=function(t,n,r){if(Me(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(Ue));return n&&be.call(t,Ue)&&o.unshift(t),o=o.filter(r),o},cn=function e(t,n,r){for(var o=[],i=Array.from(t);i.length;){var s=i.shift();if(!Me(s,!1))if(s.tagName==="SLOT"){var u=s.assignedElements(),l=u.length?u:s.children,a=e(l,!0,r);r.flatten?o.push.apply(o,a):o.push({scopeParent:s,candidates:a})}else{var g=be.call(s,Ue);g&&r.filter(s)&&(n||!t.includes(s))&&o.push(s);var c=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),m=!Me(c,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(c&&m){var d=e(c===!0?s.children:c.children,!0,r);r.flatten?o.push.apply(o,d):o.push({scopeParent:s,candidates:d})}else i.unshift.apply(i,s.children)}}return o},It=function(t,n){return t.tabIndex<0&&(n||/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||un(t))&&isNaN(parseInt(t.getAttribute("tabindex"),10))?0:t.tabIndex},an=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},Mt=function(t){return t.tagName==="INPUT"},fn=function(t){return Mt(t)&&t.type==="hidden"},dn=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},mn=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},pn=function(t){if(!t.name)return!0;var n=t.form||Ie(t),r=function(u){return n.querySelectorAll('input[type="radio"][name="'+u+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(t.name));else try{o=r(t.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var i=mn(o,t.form);return!i||i===t},vn=function(t){return Mt(t)&&t.type==="radio"},gn=function(t){return vn(t)&&!pn(t)},hn=function(t){var n,r=t&&Ie(t),o=(n=r)===null||n===void 0?void 0:n.host,i=!1;if(r&&r!==t){var s,u,l;for(i=!!((s=o)!==null&&s!==void 0&&(u=s.ownerDocument)!==null&&u!==void 0&&u.contains(o)||t!=null&&(l=t.ownerDocument)!==null&&l!==void 0&&l.contains(t));!i&&o;){var a,g,c;r=Ie(o),o=(a=r)===null||a===void 0?void 0:a.host,i=!!((g=o)!==null&&g!==void 0&&(c=g.ownerDocument)!==null&&c!==void 0&&c.contains(o))}}return i},at=function(t){var n=t.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},bn=function(t,n){var r=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var i=be.call(t,"details>summary:first-of-type"),s=i?t.parentElement:t;if(be.call(s,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var u=t;t;){var l=t.parentElement,a=Ie(t);if(l&&!l.shadowRoot&&o(l)===!0)return at(t);t.assignedSlot?t=t.assignedSlot:!l&&a!==t.ownerDocument?t=a.host:t=l}t=u}if(hn(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return at(t);return!1},yn=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return be.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},xn=function(t,n){return!(n.disabled||Me(n)||fn(n)||bn(n,t)||dn(n)||yn(n))},ft=function(t,n){return!(gn(n)||It(n)<0||!xn(t,n))},wn=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Rn=function e(t){var n=[],r=[];return t.forEach(function(o,i){var s=!!o.scopeParent,u=s?o.scopeParent:o,l=It(u,s),a=s?e(o.candidates):u;l===0?s?n.push.apply(n,a):n.push(u):r.push({documentOrder:i,tabIndex:l,item:o,isScope:s,content:a})}),r.sort(an).reduce(function(o,i){return i.isScope?o.push.apply(o,i.content):o.push(i.content),o},[]).concat(n)},ke=function(t,n){n=n||{};var r;return n.getShadowRoot?r=cn([t],n.includeContainer,{filter:ft.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:wn}):r=ln(t,n.includeContainer,ft.bind(null,n)),Rn(r)},z=typeof document<"u"?h.useLayoutEffect:h.useEffect;let Ke=!1,En=0;const dt=()=>"floating-ui-"+En++;function Tn(){const[e,t]=h.useState(()=>Ke?dt():void 0);return z(()=>{e==null&&t(dt())},[]),h.useEffect(()=>{Ke||(Ke=!0)},[]),e}const Sn=bt["useId".toString()],Je=Sn||Tn;function Pn(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const Cn=h.createContext(null),An=h.createContext(null),kt=()=>{var e;return((e=h.useContext(Cn))==null?void 0:e.id)||null},We=()=>h.useContext(An);function j(e){return(e==null?void 0:e.ownerDocument)||document}function Ln(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function Fn(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function Ve(e){return j(e).defaultView||window}function U(e){return e?e instanceof Ve(e).Element:!1}function ye(e){return e?e instanceof Ve(e).HTMLElement:!1}function Dn(e){if(typeof ShadowRoot>"u")return!1;const t=Ve(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function In(e){if(e.mozInputSource===0&&e.isTrusted)return!0;const t=/Android/i;return(t.test(Ln())||t.test(Fn()))&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Mn(e){return e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType!=="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0}function kn(){return/apple/i.test(navigator.vendor)}function Ot(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function q(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Dn(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function ve(e){const t=h.useRef(e);return z(()=>{t.current=e}),t}const mt="data-floating-ui-safe-polygon";function qe(e,t,n){return n&&!Ot(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function nr(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,elements:{domReference:s,floating:u},refs:l}=e,{enabled:a=!0,delay:g=0,handleClose:c=null,mouseOnly:m=!1,restMs:d=0,move:b=!0}=t,p=We(),y=kt(),v=ve(c),w=ve(g),F=h.useRef(),P=h.useRef(),S=h.useRef(),R=h.useRef(),N=h.useRef(!0),$=h.useRef(!1),H=h.useRef(()=>{}),B=h.useCallback(()=>{var x;const f=(x=o.current.openEvent)==null?void 0:x.type;return(f==null?void 0:f.includes("mouse"))&&f!=="mousedown"},[o]);h.useEffect(()=>{if(!a)return;function x(){clearTimeout(P.current),clearTimeout(R.current),N.current=!0}return i.on("dismiss",x),()=>{i.off("dismiss",x)}},[a,i]),h.useEffect(()=>{if(!a||!v.current||!n)return;function x(){B()&&r(!1)}const f=j(u).documentElement;return f.addEventListener("mouseleave",x),()=>{f.removeEventListener("mouseleave",x)}},[u,n,r,a,v,o,B]);const E=h.useCallback(function(x){x===void 0&&(x=!0);const f=qe(w.current,"close",F.current);f&&!S.current?(clearTimeout(P.current),P.current=setTimeout(()=>r(!1),f)):x&&(clearTimeout(P.current),r(!1))},[w,r]),M=h.useCallback(()=>{H.current(),S.current=void 0},[]),A=h.useCallback(()=>{if($.current){const x=j(l.floating.current).body;x.style.pointerEvents="",x.removeAttribute(mt),$.current=!1}},[l]);return h.useEffect(()=>{if(!a)return;function x(){return o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1}function f(C){if(clearTimeout(P.current),N.current=!1,m&&!Ot(F.current)||d>0&&qe(w.current,"open")===0)return;o.current.openEvent=C;const L=qe(w.current,"open",F.current);L?P.current=setTimeout(()=>{r(!0)},L):r(!0)}function T(C){if(x())return;H.current();const L=j(u);if(clearTimeout(R.current),v.current){n||clearTimeout(P.current),S.current=v.current({...e,tree:p,x:C.clientX,y:C.clientY,onClose(){A(),M(),E()}});const I=S.current;L.addEventListener("mousemove",I),H.current=()=>{L.removeEventListener("mousemove",I)};return}(F.current==="touch"?!q(u,C.relatedTarget):!0)&&E()}function k(C){x()||v.current==null||v.current({...e,tree:p,x:C.clientX,y:C.clientY,onClose(){A(),M(),E()}})(C)}if(U(s)){const C=s;return n&&C.addEventListener("mouseleave",k),u==null||u.addEventListener("mouseleave",k),b&&C.addEventListener("mousemove",f,{once:!0}),C.addEventListener("mouseenter",f),C.addEventListener("mouseleave",T),()=>{n&&C.removeEventListener("mouseleave",k),u==null||u.removeEventListener("mouseleave",k),b&&C.removeEventListener("mousemove",f),C.removeEventListener("mouseenter",f),C.removeEventListener("mouseleave",T)}}},[s,u,a,e,m,d,b,E,M,A,r,n,p,w,v,o]),z(()=>{var x;if(a&&n&&(x=v.current)!=null&&x.__options.blockPointerEvents&&B()){const k=j(u).body;if(k.setAttribute(mt,""),k.style.pointerEvents="none",$.current=!0,U(s)&&u){var f,T;const C=s,L=p==null||(f=p.nodesRef.current.find(O=>O.id===y))==null||(T=f.context)==null?void 0:T.elements.floating;return L&&(L.style.pointerEvents=""),C.style.pointerEvents="auto",u.style.pointerEvents="auto",()=>{C.style.pointerEvents="",u.style.pointerEvents=""}}}},[a,n,y,u,s,p,v,o,B]),z(()=>{n||(F.current=void 0,M(),A())},[n,M,A]),h.useEffect(()=>()=>{M(),clearTimeout(P.current),clearTimeout(R.current),A()},[a,M,A]),h.useMemo(()=>{if(!a)return{};function x(f){F.current=f.pointerType}return{reference:{onPointerDown:x,onPointerEnter:x,onMouseMove(){n||d===0||(clearTimeout(R.current),R.current=setTimeout(()=>{N.current||r(!0)},d))}},floating:{onMouseEnter(){clearTimeout(P.current)},onMouseLeave(){i.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),E(!1)}}}},[i,a,d,n,r,E])}function se(e){let t=e.activeElement;for(;((n=t)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;t=t.shadowRoot.activeElement}return t}let pt=0;function ie(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(pt);const i=()=>e==null?void 0:e.focus({preventScroll:n});o?i():pt=requestAnimationFrame(i)}function On(e,t){var n;let r=[],o=(n=e.find(i=>i.id===t))==null?void 0:n.parentId;for(;o;){const i=e.find(s=>s.id===o);o=i==null?void 0:i.parentId,i&&(r=r.concat(i))}return r}function de(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(s=>{var u;return o.parentId===s.id&&((u=o.context)==null?void 0:u.open)})}),n=n.concat(r);return n}function Qe(e){return"composedPath"in e?e.composedPath()[0]:e.target}const Nn="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function $n(e){return ye(e)&&e.matches(Nn)}function je(e){e.preventDefault(),e.stopPropagation()}const Oe=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Nt(e,t){const n=ke(e,Oe());t==="prev"&&n.reverse();const r=n.indexOf(se(j(e)));return n.slice(r+1)[0]}function $t(){return Nt(document.body,"next")}function Bt(){return Nt(document.body,"prev")}function ge(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!q(n,r)}function Bn(e){ke(e,Oe()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function Wn(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const et={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let Vn;function vt(e){e.key==="Tab"&&(e.target,clearTimeout(Vn))}const Ne=h.forwardRef(function(t,n){const[r,o]=h.useState();return z(()=>(kn()&&o("button"),document.addEventListener("keydown",vt),()=>{document.removeEventListener("keydown",vt)}),[]),Q("span",{...t,ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,"data-floating-ui-focus-guard":"",style:et})}),Wt=h.createContext(null);function Hn(e){let{id:t,root:n}=e===void 0?{}:e;const[r,o]=h.useState(null),i=Je(),s=Vt(),u=h.useMemo(()=>({id:t,root:n,portalContext:s,uniqueId:i}),[t,n,s,i]),l=h.useRef();return z(()=>()=>{r==null||r.remove()},[r,u]),z(()=>{if(l.current===u)return;l.current=u;const{id:a,root:g,portalContext:c,uniqueId:m}=u,d=a?document.getElementById(a):null,b="data-floating-ui-portal";if(d){const p=document.createElement("div");p.id=m,p.setAttribute(b,""),d.appendChild(p),o(p)}else{let p=(c==null?void 0:c.portalNode)||g||document.body,y=null;a&&(y=document.createElement("div"),y.id=a,p.appendChild(y));const v=document.createElement("div");v.id=m,v.setAttribute(b,""),p=y||p,p.appendChild(v),o(v)}},[u]),r}function rr(e){let{children:t,id:n,root:r=null,preserveTabOrder:o=!0}=e;const i=Hn({id:n,root:r}),[s,u]=h.useState(null),l=h.useRef(null),a=h.useRef(null),g=h.useRef(null),c=h.useRef(null),m=!!s&&!s.modal&&s.open&&o&&!!(r||i);return h.useEffect(()=>{if(!i||!o||s!=null&&s.modal)return;function d(b){i&&ge(b)&&(b.type==="focusin"?Wn:Bn)(i)}return i.addEventListener("focusin",d,!0),i.addEventListener("focusout",d,!0),()=>{i.removeEventListener("focusin",d,!0),i.removeEventListener("focusout",d,!0)}},[i,o,s==null?void 0:s.modal]),ht(Wt.Provider,{value:h.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:l,afterOutsideRef:a,beforeInsideRef:g,afterInsideRef:c,portalNode:i,setFocusManagerState:u}),[o,i]),children:[m&&i&&Q(Ne,{"data-type":"outside",ref:l,onFocus:d=>{if(ge(d,i)){var b;(b=g.current)==null||b.focus()}else{const p=Bt()||(s==null?void 0:s.refs.domReference.current);p==null||p.focus()}}}),m&&i&&Q("span",{"aria-owns":i.id,style:et}),i&&gt.createPortal(t,i),m&&i&&Q(Ne,{"data-type":"outside",ref:a,onFocus:d=>{if(ge(d,i)){var b;(b=c.current)==null||b.focus()}else{const p=$t()||(s==null?void 0:s.refs.domReference.current);p==null||p.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1))}}})]})}const Vt=()=>h.useContext(Wt),_n=h.forwardRef(function(t,n){return Q("button",{...t,type:"button",ref:n,tabIndex:-1,style:et})});function or(e){const{context:t,children:n,order:r=["content"],guards:o=!0,initialFocus:i=0,returnFocus:s=!0,modal:u=!0,visuallyHiddenDismiss:l=!1,closeOnFocusOut:a=!0}=e,{open:g,refs:c,nodeId:m,onOpenChange:d,events:b,dataRef:p,elements:{domReference:y,floating:v}}=t,w=ve(r),F=ve(i),P=ve(s),S=We(),R=Vt(),N=typeof i=="number"&&i<0,$=h.useRef(null),H=h.useRef(null),B=h.useRef(!1),E=h.useRef(null),M=h.useRef(!1),A=R!=null,x=y&&y.getAttribute("role")==="combobox"&&$n(y),f=h.useCallback(function(L){return L===void 0&&(L=v),L?ke(L,Oe()):[]},[v]),T=h.useCallback(L=>{const O=f(L);return w.current.map(I=>y&&I==="reference"?y:v&&I==="floating"?v:O).filter(Boolean).flat()},[y,v,w,f]);h.useEffect(()=>{if(!u)return;function L(I){if(I.key==="Tab"){q(v,se(j(v)))&&f().length===0&&!x&&je(I);const W=T(),_=Qe(I);w.current[0]==="reference"&&_===y&&(je(I),I.shiftKey?ie(W[W.length-1]):ie(W[1])),w.current[1]==="floating"&&_===v&&I.shiftKey&&(je(I),ie(W[0]))}}const O=j(v);return O.addEventListener("keydown",L),()=>{O.removeEventListener("keydown",L)}},[y,v,u,w,c,x,f,T]),h.useEffect(()=>{if(!a)return;function L(){M.current=!0,setTimeout(()=>{M.current=!1})}function O(I){const W=I.relatedTarget;queueMicrotask(()=>{const _=!(q(y,W)||q(v,W)||q(W,v)||q(R==null?void 0:R.portalNode,W)||W!=null&&W.hasAttribute("data-floating-ui-focus-guard")||S&&(de(S.nodesRef.current,m).find(D=>{var V,K;return q((V=D.context)==null?void 0:V.elements.floating,W)||q((K=D.context)==null?void 0:K.elements.domReference,W)})||On(S.nodesRef.current,m).find(D=>{var V,K;return((V=D.context)==null?void 0:V.elements.floating)===W||((K=D.context)==null?void 0:K.elements.domReference)===W})));W&&_&&!M.current&&W!==E.current&&(B.current=!0,d(!1))})}if(v&&ye(y))return y.addEventListener("focusout",O),y.addEventListener("pointerdown",L),!u&&v.addEventListener("focusout",O),()=>{y.removeEventListener("focusout",O),y.removeEventListener("pointerdown",L),!u&&v.removeEventListener("focusout",O)}},[y,v,u,m,S,R,d,a]),h.useEffect(()=>{var L;const O=Array.from((R==null||(L=R.portalNode)==null?void 0:L.querySelectorAll("[data-floating-ui-portal]"))||[]);function I(){return[$.current,H.current].filter(Boolean)}if(v&&u){const W=[v,...O,...I()],_=on(w.current.includes("reference")||x?W.concat(y||[]):W);return()=>{_()}}},[y,v,u,w,R,x]),h.useEffect(()=>{if(u&&!o&&v){const L=[],O=Oe(),I=ke(j(v).body,O),W=T(),_=I.filter(D=>!W.includes(D));return _.forEach((D,V)=>{L[V]=D.getAttribute("tabindex"),D.setAttribute("tabindex","-1")}),()=>{_.forEach((D,V)=>{const K=L[V];K==null?D.removeAttribute("tabindex"):D.setAttribute("tabindex",K)})}}},[v,u,o,T]),z(()=>{if(!v)return;const L=j(v),O=se(L);queueMicrotask(()=>{const I=T(v),W=F.current,_=(typeof W=="number"?I[W]:W.current)||v,D=q(v,O);!N&&!D&&g&&ie(_,{preventScroll:_===v})})},[g,v,N,T,F]),z(()=>{if(!v)return;let L=!1;const O=j(v),I=se(O),W=p.current;E.current=I;function _(D){if(D.type==="escapeKey"&&c.domReference.current&&(E.current=c.domReference.current),["referencePress","escapeKey"].includes(D.type))return;const V=D.data.returnFocus;typeof V=="object"?(B.current=!1,L=V.preventScroll):B.current=!V}return b.on("dismiss",_),()=>{b.off("dismiss",_);const D=se(O);(q(v,D)||S&&de(S.nodesRef.current,m).some(K=>{var G;return q((G=K.context)==null?void 0:G.elements.floating,D)})||W.openEvent&&["click","mousedown"].includes(W.openEvent.type))&&c.domReference.current&&(E.current=c.domReference.current),P.current&&ye(E.current)&&!B.current&&ie(E.current,{cancelPrevious:!1,preventScroll:L})}},[v,P,p,c,b,S,m]),z(()=>{if(R)return R.setFocusManagerState({...t,modal:u,closeOnFocusOut:a,open:g}),()=>{R.setFocusManagerState(null)}},[R,u,g,a,t]),z(()=>{if(v&&typeof MutationObserver=="function"){const L=()=>{const I=v.getAttribute("tabindex");w.current.includes("floating")||se(j(v))!==c.domReference.current&&f().length===0?I!=="0"&&v.setAttribute("tabindex","0"):I!=="-1"&&v.setAttribute("tabindex","-1")};L();const O=new MutationObserver(L);return O.observe(v,{childList:!0,subtree:!0,attributes:!0}),()=>{O.disconnect()}}},[v,c,w,f]);function k(L){return l&&u?Q(_n,{ref:L==="start"?$:H,onClick:()=>d(!1),children:typeof l=="string"?l:"Dismiss"}):null}const C=o&&!x&&(A||u);return ht(Ht,{children:[C&&Q(Ne,{"data-type":"inside",ref:R==null?void 0:R.beforeInsideRef,onFocus:L=>{if(u){const I=T();ie(r[0]==="reference"?I[0]:I[I.length-1])}else if(R!=null&&R.preserveTabOrder&&R.portalNode)if(B.current=!1,ge(L,R.portalNode)){const I=$t()||y;I==null||I.focus()}else{var O;(O=R.beforeOutsideRef.current)==null||O.focus()}}}),!x&&k("start"),n,k("end"),C&&Q(Ne,{"data-type":"inside",ref:R==null?void 0:R.afterInsideRef,onFocus:L=>{if(u)ie(T()[0]);else if(R!=null&&R.preserveTabOrder&&R.portalNode)if(a&&(B.current=!0),ge(L,R.portalNode)){const I=Bt()||y;I==null||I.focus()}else{var O;(O=R.afterOutsideRef.current)==null||O.focus()}}})]})}const Kn=bt["useInsertionEffect".toString()],qn=Kn||(e=>e());function Pe(e){const t=h.useRef(()=>{});return qn(()=>{t.current=e}),h.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function Ce(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const jn={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Yn={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Xn=e=>{var t,n;return{escapeKeyBubbles:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePressBubbles:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function ir(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,nodeId:i,elements:{reference:s,domReference:u,floating:l},dataRef:a}=e,{enabled:g=!0,escapeKey:c=!0,outsidePress:m=!0,outsidePressEvent:d="pointerdown",referencePress:b=!1,referencePressEvent:p="pointerdown",ancestorScroll:y=!1,bubbles:v}=t,w=We(),F=kt()!=null,P=Pe(typeof m=="function"?m:()=>!1),S=typeof m=="function"?P:m,R=h.useRef(!1),{escapeKeyBubbles:N,outsidePressBubbles:$}=Xn(v),H=Pe(E=>{if(!n||!g||!c||E.key!=="Escape")return;const M=w?de(w.nodesRef.current,i):[];if(!N&&(E.stopPropagation(),M.length>0)){let A=!0;if(M.forEach(x=>{var f;if((f=x.context)!=null&&f.open&&!x.context.dataRef.current.__escapeKeyBubbles){A=!1;return}}),!A)return}o.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1)}),B=Pe(E=>{const M=R.current;if(R.current=!1,M||typeof S=="function"&&!S(E))return;const A=Qe(E);if(ye(A)&&l){const T=A.clientWidth>0&&A.scrollWidth>A.clientWidth,k=A.clientHeight>0&&A.scrollHeight>A.clientHeight;let C=k&&E.offsetX>A.clientWidth;if(k&&Ve(l).getComputedStyle(A).direction==="rtl"&&(C=E.offsetX<=A.offsetWidth-A.clientWidth),C||T&&E.offsetY>A.clientHeight)return}const x=w&&de(w.nodesRef.current,i).some(T=>{var k;return Ce(E,(k=T.context)==null?void 0:k.elements.floating)});if(Ce(E,l)||Ce(E,u)||x)return;const f=w?de(w.nodesRef.current,i):[];if(f.length>0){let T=!0;if(f.forEach(k=>{var C;if((C=k.context)!=null&&C.open&&!k.context.dataRef.current.__outsidePressBubbles){T=!1;return}}),!T)return}o.emit("dismiss",{type:"outsidePress",data:{returnFocus:F?{preventScroll:!0}:In(E)||Mn(E)}}),r(!1)});return h.useEffect(()=>{if(!n||!g)return;a.current.__escapeKeyBubbles=N,a.current.__outsidePressBubbles=$;function E(){r(!1)}const M=j(l);c&&M.addEventListener("keydown",H),S&&M.addEventListener(d,B);let A=[];return y&&(U(u)&&(A=te(u)),U(l)&&(A=A.concat(te(l))),!U(s)&&s&&s.contextElement&&(A=A.concat(te(s.contextElement)))),A=A.filter(x=>{var f;return x!==((f=M.defaultView)==null?void 0:f.visualViewport)}),A.forEach(x=>{x.addEventListener("scroll",E,{passive:!0})}),()=>{c&&M.removeEventListener("keydown",H),S&&M.removeEventListener(d,B),A.forEach(x=>{x.removeEventListener("scroll",E)})}},[a,l,u,s,c,S,d,n,r,y,g,N,$,H,B]),h.useEffect(()=>{R.current=!1},[S,d]),h.useMemo(()=>g?{reference:{onKeyDown:H,[jn[p]]:()=>{b&&(o.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1))}},floating:{onKeyDown:H,[Yn[d]]:()=>{R.current=!0}}}:{},[g,o,b,d,p,r,H])}function sr(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,refs:s,elements:{floating:u,domReference:l}}=e,{enabled:a=!0,keyboardOnly:g=!0}=t,c=h.useRef(""),m=h.useRef(!1),d=h.useRef();return h.useEffect(()=>{if(!a)return;const p=j(u).defaultView||window;function y(){!n&&ye(l)&&l===se(j(l))&&(m.current=!0)}return p.addEventListener("blur",y),()=>{p.removeEventListener("blur",y)}},[u,l,n,a]),h.useEffect(()=>{if(!a)return;function b(p){(p.type==="referencePress"||p.type==="escapeKey")&&(m.current=!0)}return i.on("dismiss",b),()=>{i.off("dismiss",b)}},[i,a]),h.useEffect(()=>()=>{clearTimeout(d.current)},[]),h.useMemo(()=>a?{reference:{onPointerDown(b){let{pointerType:p}=b;c.current=p,m.current=!!(p&&g)},onMouseLeave(){m.current=!1},onFocus(b){var p;m.current||b.type==="focus"&&((p=o.current.openEvent)==null?void 0:p.type)==="mousedown"&&o.current.openEvent&&Ce(o.current.openEvent,l)||(o.current.openEvent=b.nativeEvent,r(!0))},onBlur(b){m.current=!1;const p=b.relatedTarget,y=U(p)&&p.hasAttribute("data-floating-ui-focus-guard")&&p.getAttribute("data-type")==="outside";d.current=setTimeout(()=>{q(s.floating.current,p)||q(l,p)||y||r(!1)})}}}:{},[a,g,l,s,o,r])}function ur(e,t){t===void 0&&(t={});const{open:n,floatingId:r}=e,{enabled:o=!0,role:i="dialog"}=t,s=Je();return h.useMemo(()=>{const u={id:r,role:i};return o?i==="tooltip"?{reference:{"aria-describedby":n?r:void 0},floating:u}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?r:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:s}},floating:{...u,...i==="menu"&&{"aria-labelledby":s}}}:{}},[o,i,n,r,s])}function zn(e,t){const[n,r]=e;let o=!1;const i=t.length;for(let s=0,u=i-1;s<i;u=s++){const[l,a]=t[s]||[0,0],[g,c]=t[u]||[0,0];a>=r!=c>=r&&n<=(g-l)*(r-a)/(c-a)+l&&(o=!o)}return o}function Gn(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function lr(e){e===void 0&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e;let o,i=!1,s=!1,u=null,l=null,a=performance.now();function g(m,d){const b=performance.now(),p=b-a;if(u===null||l===null||p===0)return u=m,l=d,a=b,null;const y=m-u,v=d-l,F=Math.sqrt(y*y+v*v)/p;return u=m,l=d,a=b,F}const c=m=>{let{x:d,y:b,placement:p,elements:y,onClose:v,nodeId:w,tree:F}=m;return function(S){function R(){clearTimeout(o),v()}if(clearTimeout(o),!y.domReference||!y.floating||p==null||d==null||b==null)return;const{clientX:N,clientY:$}=S,H=[N,$],B=Qe(S),E=S.type==="mouseleave",M=q(y.floating,B),A=q(y.domReference,B),x=y.domReference.getBoundingClientRect(),f=y.floating.getBoundingClientRect(),T=p.split("-")[0],k=d>f.right-f.width/2,C=b>f.bottom-f.height/2,L=Gn(H,x);if(M&&(s=!0,!E))return;if(A&&(s=!1),A&&!E){s=!0;return}if(E&&U(S.relatedTarget)&&q(y.floating,S.relatedTarget)||F&&de(F.nodesRef.current,w).some(_=>{let{context:D}=_;return D==null?void 0:D.open}))return;if(T==="top"&&b>=x.bottom-1||T==="bottom"&&b<=x.top+1||T==="left"&&d>=x.right-1||T==="right"&&d<=x.left+1)return R();let O=[];switch(T){case"top":O=[[f.left,x.top+1],[f.left,f.bottom-1],[f.right,f.bottom-1],[f.right,x.top+1]],i=N>=f.left&&N<=f.right&&$>=f.top&&$<=x.top+1;break;case"bottom":O=[[f.left,f.top+1],[f.left,x.bottom-1],[f.right,x.bottom-1],[f.right,f.top+1]],i=N>=f.left&&N<=f.right&&$>=x.bottom-1&&$<=f.bottom;break;case"left":O=[[f.right-1,f.bottom],[f.right-1,f.top],[x.left+1,f.top],[x.left+1,f.bottom]],i=N>=f.left&&N<=x.left+1&&$>=f.top&&$<=f.bottom;break;case"right":O=[[x.right-1,f.bottom],[x.right-1,f.top],[f.left+1,f.top],[f.left+1,f.bottom]],i=N>=x.right-1&&N<=f.right&&$>=f.top&&$<=f.bottom;break}function I(_){let[D,V]=_;const K=f.width>x.width,G=f.height>x.height;switch(T){case"top":{const re=[K?D+t/2:k?D+t*4:D-t*4,V+t+1],oe=[K?D-t/2:k?D+t*4:D-t*4,V+t+1],ce=[[f.left,k||K?f.bottom-t:f.top],[f.right,k?K?f.bottom-t:f.top:f.bottom-t]];return[re,oe,...ce]}case"bottom":{const re=[K?D+t/2:k?D+t*4:D-t*4,V-t],oe=[K?D-t/2:k?D+t*4:D-t*4,V-t],ce=[[f.left,k||K?f.top+t:f.bottom],[f.right,k?K?f.top+t:f.bottom:f.top+t]];return[re,oe,...ce]}case"left":{const re=[D+t+1,G?V+t/2:C?V+t*4:V-t*4],oe=[D+t+1,G?V-t/2:C?V+t*4:V-t*4];return[...[[C||G?f.right-t:f.left,f.top],[C?G?f.right-t:f.left:f.right-t,f.bottom]],re,oe]}case"right":{const re=[D-t,G?V+t/2:C?V+t*4:V-t*4],oe=[D-t,G?V-t/2:C?V+t*4:V-t*4],ce=[[C||G?f.left+t:f.right,f.top],[C?G?f.left+t:f.right:f.left+t,f.bottom]];return[re,oe,...ce]}}}const W=i?O:I([d,b]);if(!i){if(s&&!L)return R();if(!E&&r){const _=g(S.clientX,S.clientY);if(_!==null&&_<.1)return R()}zn([N,$],W)?!s&&r&&(o=window.setTimeout(R,40)):R()}}};return c.__options={blockPointerEvents:n},c}function cr(e){var t;e===void 0&&(e={});const{open:n=!1,onOpenChange:r,nodeId:o}=e,[i,s]=h.useState(null),u=((t=e.elements)==null?void 0:t.reference)||i,l=en(e),a=We(),g=Pe(r),c=h.useRef(null),m=h.useRef({}),d=h.useState(()=>Pn())[0],b=Je(),p=h.useCallback(P=>{const S=U(P)?{getBoundingClientRect:()=>P.getBoundingClientRect(),contextElement:P}:P;l.refs.setReference(S)},[l.refs]),y=h.useCallback(P=>{(U(P)||P===null)&&(c.current=P,s(P)),(U(l.refs.reference.current)||l.refs.reference.current===null||P!==null&&!U(P))&&l.refs.setReference(P)},[l.refs]),v=h.useMemo(()=>({...l.refs,setReference:y,setPositionReference:p,domReference:c}),[l.refs,y,p]),w=h.useMemo(()=>({...l.elements,domReference:u}),[l.elements,u]),F=h.useMemo(()=>({...l,refs:v,elements:w,dataRef:m,nodeId:o,floatingId:b,events:d,open:n,onOpenChange:g}),[l,o,b,d,n,g,v,w]);return z(()=>{const P=a==null?void 0:a.nodesRef.current.find(S=>S.id===o);P&&(P.context=F)}),h.useMemo(()=>({...l,context:F,refs:v,elements:w}),[l,v,w,F])}function Ye(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(o=>o?o[n]:null).concat(e).reduce((o,i)=>(i&&Object.entries(i).forEach(s=>{let[u,l]=s;if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof l=="function"){var a;(a=r.get(u))==null||a.push(l),o[u]=function(){for(var g,c=arguments.length,m=new Array(c),d=0;d<c;d++)m[d]=arguments[d];return(g=r.get(u))==null?void 0:g.map(b=>b(...m)).find(b=>b!==void 0)}}}else o[u]=l}),o),{})}}function ar(e){e===void 0&&(e=[]);const t=e,n=h.useCallback(i=>Ye(i,e,"reference"),t),r=h.useCallback(i=>Ye(i,e,"floating"),t),o=h.useCallback(i=>Ye(i,e,"item"),e.map(i=>i==null?void 0:i.item));return h.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:o}),[n,r,o])}export{Jn as D,rr as F,ir as a,ar as b,Zn as c,nr as d,ur as e,Je as f,or as g,sr as h,tr as i,Qn as k,lr as s,cr as u,er as z};

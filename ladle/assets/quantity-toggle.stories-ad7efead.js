import{r as n,s as de,R as te,a as W,j as s}from"./index-9f15965d.js";import{C as Xe}from"./components-d9765f88.js";import{$ as ea}from"./module-1f5cd034.js";import{t as H,A as aa,B as ra,a as la,$ as Q,i as ta}from"./module-30241363.js";import{c as ia,d as na,l as oa}from"./module-3fb69867.js";import{a as da}from"./module-c61e5738.js";import{$ as sa,b as ie,a as ca}from"./import-2faa5bf1.js";import{$ as ua,J as ba}from"./real-module-d4c6b647.js";import{$ as fa,b as S,a as $a}from"./module-c7a05cc4.js";import{u as se}from"./use-dom-ref-af2f828e.js";import{$ as ma}from"./real-module-b00780d8.js";import"./module-4ef8a148.js";import"./_define_property-1764bf98.js";import"./module-fc9526f8.js";function pa(e){return e&&e.__esModule?e.default:e}var ce={},ue={};ue={decrease:e=>`خفض ${e.fieldLabel}`,increase:e=>`زيادة ${e.fieldLabel}`,numberField:"حقل رقمي"};var be={};be={decrease:e=>`Намаляване ${e.fieldLabel}`,increase:e=>`Усилване ${e.fieldLabel}`,numberField:"Номер на полето"};var fe={};fe={decrease:e=>`Snížit ${e.fieldLabel}`,increase:e=>`Zvýšit ${e.fieldLabel}`,numberField:"Číselné pole"};var $e={};$e={decrease:e=>`Reducer ${e.fieldLabel}`,increase:e=>`Øg ${e.fieldLabel}`,numberField:"Talfelt"};var me={};me={decrease:e=>`${e.fieldLabel} verringern`,increase:e=>`${e.fieldLabel} erhöhen`,numberField:"Nummernfeld"};var pe={};pe={decrease:e=>`Μείωση ${e.fieldLabel}`,increase:e=>`Αύξηση ${e.fieldLabel}`,numberField:"Πεδίο αριθμού"};var xe={};xe={decrease:e=>`Decrease ${e.fieldLabel}`,increase:e=>`Increase ${e.fieldLabel}`,numberField:"Number field"};var ge={};ge={decrease:e=>`Reducir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo de número"};var Le={};Le={decrease:e=>`Vähenda ${e.fieldLabel}`,increase:e=>`Suurenda ${e.fieldLabel}`,numberField:"Numbri väli"};var he={};he={decrease:e=>`Vähennä ${e.fieldLabel}`,increase:e=>`Lisää ${e.fieldLabel}`,numberField:"Numerokenttä"};var ve={};ve={decrease:e=>`Diminuer ${e.fieldLabel}`,increase:e=>`Augmenter ${e.fieldLabel}`,numberField:"Champ de nombre"};var Fe={};Fe={decrease:e=>`הקטן ${e.fieldLabel}`,increase:e=>`הגדל ${e.fieldLabel}`,numberField:"שדה מספר"};var Pe={};Pe={decrease:e=>`Smanji ${e.fieldLabel}`,increase:e=>`Povećaj ${e.fieldLabel}`,numberField:"Polje broja"};var ye={};ye={decrease:e=>`${e.fieldLabel} csökkentése`,increase:e=>`${e.fieldLabel} növelése`,numberField:"Számmező"};var De={};De={decrease:e=>`Riduci ${e.fieldLabel}`,increase:e=>`Aumenta ${e.fieldLabel}`,numberField:"Campo numero"};var Ne={};Ne={decrease:e=>`${e.fieldLabel}を縮小`,increase:e=>`${e.fieldLabel}を拡大`,numberField:"数値フィールド"};var Ve={};Ve={decrease:e=>`${e.fieldLabel} 감소`,increase:e=>`${e.fieldLabel} 증가`,numberField:"번호 필드"};var Se={};Se={decrease:e=>`Sumažinti ${e.fieldLabel}`,increase:e=>`Padidinti ${e.fieldLabel}`,numberField:"Numerio laukas"};var Me={};Me={decrease:e=>`Samazināšana ${e.fieldLabel}`,increase:e=>`Palielināšana ${e.fieldLabel}`,numberField:"Skaitļu lauks"};var Re={};Re={decrease:e=>`Reduser ${e.fieldLabel}`,increase:e=>`Øk ${e.fieldLabel}`,numberField:"Tallfelt"};var Be={};Be={decrease:e=>`${e.fieldLabel} verlagen`,increase:e=>`${e.fieldLabel} verhogen`,numberField:"Getalveld"};var Ce={};Ce={decrease:e=>`Zmniejsz ${e.fieldLabel}`,increase:e=>`Zwiększ ${e.fieldLabel}`,numberField:"Pole numeru"};var Te={};Te={decrease:e=>`Diminuir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo de número"};var Ee={};Ee={decrease:e=>`Diminuir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo numérico"};var we={};we={decrease:e=>`Scădere ${e.fieldLabel}`,increase:e=>`Creștere ${e.fieldLabel}`,numberField:"Câmp numeric"};var Oe={};Oe={decrease:e=>`Уменьшение ${e.fieldLabel}`,increase:e=>`Увеличение ${e.fieldLabel}`,numberField:"Числовое поле"};var ke={};ke={decrease:e=>`Znížiť ${e.fieldLabel}`,increase:e=>`Zvýšiť ${e.fieldLabel}`,numberField:"Číselné pole"};var Ie={};Ie={decrease:e=>`Upadati ${e.fieldLabel}`,increase:e=>`Povečajte ${e.fieldLabel}`,numberField:"Številčno polje"};var We={};We={decrease:e=>`Decrease ${e.fieldLabel}`,increase:e=>`Increase ${e.fieldLabel}`,numberField:"Number field"};var Ue={};Ue={decrease:e=>`Minska ${e.fieldLabel}`,increase:e=>`Öka ${e.fieldLabel}`,numberField:"Nummerfält"};var Ae={};Ae={decrease:e=>`${e.fieldLabel} azalt`,increase:e=>`${e.fieldLabel} arttır`,numberField:"Sayı alanı"};var ze={};ze={decrease:e=>`Зменшити ${e.fieldLabel}`,increase:e=>`Збільшити ${e.fieldLabel}`,numberField:"Поле номера"};var je={};je={decrease:e=>`降低 ${e.fieldLabel}`,increase:e=>`提高 ${e.fieldLabel}`,numberField:"数字字段"};var Ke={};Ke={decrease:e=>`縮小 ${e.fieldLabel}`,increase:e=>`放大 ${e.fieldLabel}`,numberField:"數字欄位"};ce={"ar-AE":ue,"bg-BG":be,"cs-CZ":fe,"da-DK":$e,"de-DE":me,"el-GR":pe,"en-US":xe,"es-ES":ge,"et-EE":Le,"fi-FI":he,"fr-FR":ve,"he-IL":Fe,"hr-HR":Pe,"hu-HU":ye,"it-IT":De,"ja-JP":Ne,"ko-KR":Ve,"lt-LT":Se,"lv-LV":Me,"nb-NO":Re,"nl-NL":Be,"pl-PL":Ce,"pt-BR":Te,"pt-PT":Ee,"ro-RO":we,"ru-RU":Oe,"sk-SK":ke,"sl-SI":Ie,"sr-SP":We,"sv-SE":Ue,"tr-TR":Ae,"uk-UA":ze,"zh-CN":je,"zh-TW":Ke};function xa(e,a,r){let{id:o,decrementAriaLabel:t,incrementAriaLabel:$,isDisabled:m,isReadOnly:p,isRequired:i,minValue:F,maxValue:P,autoFocus:c,validationState:u,label:g,formatOptions:x,onBlur:d=()=>{},onFocus:y,onFocusChange:M,onKeyDown:U,onKeyUp:L,description:b,errorMessage:w,...O}=e,{increment:R,incrementToMax:f,decrement:h,decrementToMin:A,numberValue:k,commit:z}=a;const B=ua(pa(ce));let C=H(o),{focusProps:j}=ia({onBlur:()=>{z()}}),{spinButtonProps:K,incrementButtonProps:q,decrementButtonProps:Y}=sa({isDisabled:m,isReadOnly:p,isRequired:i,maxValue:P,minValue:F,onIncrement:R,onIncrementToMax:f,onDecrement:h,onDecrementToMin:A,value:k,textValue:a.inputValue}),[l,I]=n.useState(!1),{focusWithinProps:D}=na({isDisabled:m,onFocusWithinChange:I}),N=n.useCallback(v=>{Math.abs(v.deltaY)<=Math.abs(v.deltaX)||(v.deltaY>0?R():v.deltaY<0&&h())},[h,R]);oa({onScroll:N,isDisabled:m||p||!l},r);let J=ba(x),_=n.useMemo(()=>J.resolvedOptions(),[J]).maximumFractionDigits>0,X=isNaN(a.minValue)||a.minValue<0,T="numeric";aa()?X?T="text":_&&(T="decimal"):ra()&&(X?T="numeric":_&&(T="decimal"));let qe=v=>{a.setInputValue(v)},Ze=la(e),{labelProps:ee,inputProps:He,descriptionProps:Qe,errorMessageProps:Ge}=da({...O,...Ze,label:g,autoFocus:c,isDisabled:m,isReadOnly:p,isRequired:i,validationState:u,value:a.inputValue,defaultValue:void 0,autoComplete:"off","aria-label":e["aria-label"]||null,"aria-labelledby":e["aria-labelledby"]||null,id:C,type:"text",inputMode:T,onChange:qe,onBlur:d,onFocus:y,onFocusChange:M,onKeyDown:U,onKeyUp:L,description:b,errorMessage:w},a,r),Ye=Q(K,j,He,{role:null,"aria-roledescription":ta()?null:B.format("numberField"),"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null,autoCorrect:"off",spellCheck:"false"}),ae=v=>{document.activeElement!==r.current&&(v.pointerType==="mouse"?r.current.focus():v.target.focus())},Z=e["aria-label"]||(typeof e.label=="string"?e.label:""),V;Z||(V=e.label!=null?ee.id:e["aria-labelledby"]);let re=H(),le=H(),Je=Q(q,{"aria-label":$||B.format("increase",{fieldLabel:Z}).trim(),id:V&&!$?re:null,"aria-labelledby":V&&!$?`${re} ${V}`:null,"aria-controls":C,excludeFromTabOrder:!0,preventFocusOnPress:!0,allowFocusWhenDisabled:!0,isDisabled:!a.canIncrement,onPressStart:ae}),_e=Q(Y,{"aria-label":t||B.format("decrease",{fieldLabel:Z}).trim(),id:V&&!t?le:null,"aria-labelledby":V&&!t?`${le} ${V}`:null,"aria-controls":C,excludeFromTabOrder:!0,preventFocusOnPress:!0,allowFocusWhenDisabled:!0,isDisabled:!a.canDecrement,onPressStart:ae});return{groupProps:{role:"group","aria-disabled":m,"aria-invalid":u==="invalid"?"true":void 0,...D},labelProps:ee,inputProps:Ye,incrementButtonProps:Je,decrementButtonProps:_e,errorMessageProps:Ge,descriptionProps:Qe}}function ga(e){let{minValue:a,maxValue:r,step:o,formatOptions:t,value:$,defaultValue:m,onChange:p,locale:i,isDisabled:F,isReadOnly:P}=e,[c,u]=fa($,isNaN(m)?NaN:m,p),[g,x]=n.useState(()=>isNaN(c)?"":new ie(i,t).format(c)),d=n.useMemo(()=>new ca(i,t),[i,t]),y=n.useMemo(()=>d.getNumberingSystem(g),[d,g]),M=n.useMemo(()=>new ie(i,{...t,numberingSystem:y}),[i,t,y]),U=n.useMemo(()=>M.resolvedOptions(),[M]),L=n.useCallback(l=>isNaN(l)||l===null?"":M.format(l),[M]),b=isNaN(o)?1:o;U.style==="percent"&&isNaN(o)&&(b=.01);let w=n.useRef(c),O=n.useRef(i),R=n.useRef(t);(!Object.is(c,w.current)||i!==O.current||t!==R.current)&&(x(L(c)),w.current=c,O.current=i,R.current=t);let f=n.useMemo(()=>d.parse(g),[d,g]),h=n.useRef(0);h.current=f;let A=()=>{if(!g.length){u(NaN),x($===void 0?"":L(c));return}if(isNaN(h.current)){x(L(c));return}let l;isNaN(o)?l=$a(h.current,a,r):l=S(h.current,a,r,o),l=d.parse(L(l)),u(l),x(L($===void 0?l:c))},k=(l,I)=>{let D=h.current;if(isNaN(D)){let N=isNaN(I)?0:I;return S(N,a,r,b)}else{let N=S(D,a,r,b);return l==="+"&&N>D||l==="-"&&N<D?N:S(G(l,D,b),a,r,b)}},z=()=>{let l=k("+",a);l===c&&x(L(l)),u(l)},B=()=>{let l=k("-",r);l===c&&x(L(l)),u(l)},C=()=>{r!=null&&u(S(r,a,r,b))},j=()=>{a!=null&&u(a)},K=n.useMemo(()=>!F&&!P&&(isNaN(f)||isNaN(r)||S(f,a,r,b)>f||G("+",f,b)<=r),[F,P,a,r,b,f]),q=n.useMemo(()=>!F&&!P&&(isNaN(f)||isNaN(a)||S(f,a,r,b)<f||G("-",f,b)>=a),[F,P,a,r,b,f]);return{validate:l=>d.isValidPartialNumber(l,a,r),increment:z,incrementToMax:C,decrement:B,decrementToMin:j,canIncrement:K,canDecrement:q,minValue:a,maxValue:r,numberValue:f,setInputValue:x,inputValue:g,commit:A}}function G(e,a,r){let o=e==="+"?a+r:a-r;if(a%1!==0||r%1!==0){const t=a.toString().split("."),$=r.toString().split("."),m=t[1]&&t[1].length||0,p=$[1]&&$[1].length||0,i=Math.pow(10,Math.max(m,p));a=Math.round(a*i),r=Math.round(r*i),o=e==="+"?a+r:a-r,o/=i}return o}const La=de("div",{width:"100%",display:"flex",flexDirection:"column",label:{fontSize:"$label1",fontWeight:"$medium",lineHeight:"$normal",display:"block",marginBottom:"$1",color:"$gray90",span:{marginLeft:"$1",color:"$danger"}},"div[role='group']":{display:"flex",width:"100%",input:{flex:1,color:"#323130",padding:"$3 $4",textAlign:"center",border:"1px solid #EDEBE9",borderRadius:"0",backgroundColor:"$white",fontSize:"$label1",fontWeight:"$semibold"},"input::placeholder":{color:"$gray40"},button:{color:"#323130",aspectRatio:"1",width:"$14",cursor:"pointer",fontWeight:"$bold",border:"1px solid #EDEBE9",backgroundColor:"$gray10"},'button[aria-label="Decrease"]':{borderRight:"none",borderRadius:"4px 0 0 4px"},'button[aria-label="Increase"]':{borderLeft:"none",borderRadius:"0 4px 4px 0"}},".quantity-toggle-label":{fontSize:"$label1",fontWeight:"$semibold",marginBottom:"$1",color:"$gray90"},".quantity-toggle-helper-text":{fontSize:"$label3",fontWeight:"$semibold",margin:0,marginTop:"$1",color:"$gray50"},variants:{isDisabled:{true:{"div[role='group']":{input:{backgroundColor:"#EDEBE9"},button:{borderColor:"#EDEBE9",cursor:"not-allowed"}}}},isErrored:{true:{"div[role='group']":{input:{borderColor:"$danger"},button:{borderColor:"$danger"}}}}}}),ne=de("div",{fontSize:"$label2",fontWeight:"$medium",transition:"$default",marginTop:"$1",color:"$gray70",variants:{error:{true:{color:"$danger"}}}}),oe=e=>{const a=se(),{buttonProps:r}=ea(e,a);return s("button",{...r,ref:a,children:e.children})},ha=te.forwardRef((e,a)=>{const{css:r={},isErrored:o,disableScroll:t=!0,...$}=e,m={},p=se(a),{locale:i}=ma(),F=ga({...$,locale:i}),{labelProps:P,groupProps:c,inputProps:u,incrementButtonProps:g,decrementButtonProps:x}=xa(e,F,p);return te.useEffect(()=>{var y;const d=u.value;(y=e.onUpdate)==null||y.call(e,d,parseFloat(d==null?void 0:d.replace(/[^0-9.-]+/g,"")))}),W(La,{css:r,...m,isErrored:!!o,isDisabled:!!u.disabled,children:[e.label&&W("label",{...P,children:[e.label,e.isRequired&&s("span",{children:"*"})]}),W("div",{...c,children:[s(oe,{...x,children:"-"}),t&&s("input",{...u,ref:p,style:{display:"none"}}),s("input",{...u,ref:t?null:p,onWheel:d=>{d.preventDefault(),d.stopPropagation()}}),s(oe,{...g,children:"+"})]}),o&&e.errorMessage&&s(ne,{error:!0,children:e.errorMessage}),e.helperText&&s(ne,{children:e.helperText})]})}),E=ha;E.displayName="QuantityToggle";const ka=()=>{const[e,a]=n.useState(0);return W(Xe,{children:[s("h3",{children:"Controlled"}),s(E,{disableScroll:!1,placeholder:"Price",value:e,onChange:r=>a(r),formatOptions:{style:"currency",currency:"USD"},onUpdate:(r,o)=>{console.log("onUpdate value",r),console.log("onUpdate number",o)}}),s("h3",{children:"Un-Controlled"}),s(E,{placeholder:"Price",formatOptions:{style:"currency",currency:"USD"}}),s("h3",{children:"Disabled"}),s(E,{defaultValue:2,isDisabled:!0,helperText:"Bla Bla Bla"}),s("h3",{children:"Errored"}),s(E,{defaultValue:2,isErrored:!0,helperText:"Bla Bla Bla"})]})};typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{ka as Variants};

import{s as d,R as N,r as o,a as l,j as e,F as W}from"./index-2a259d11.js";import{C as k}from"./components-6a74ddee.js";import{u as G}from"./use-dom-ref-c21a8ae3.js";const $=1024,M=d("div",{appearance:"none",border:"none",boxSizing:"border-box",margin:"0px",padding:"0px",background:"transparent",fontWeight:"$medium",fontSize:"$label2",lineHeight:"$normal",color:"#e31617",marginTop:"$1"}),P=d("div",{appearance:"none",border:"none",boxSizing:"border-box",margin:"0px",padding:"0px",background:"transparent",fontWeight:"$medium",fontSize:"$label2",lineHeight:"",color:"#b4b4b4"}),T=d("div",{appearance:"none",boxSizing:"border-box",padding:"0px",background:"transparent",position:"relative",display:"flex",border:"1px solid #e6e6e6",borderRadius:"$lg",overflow:"hidden",alignItems:"center",margin:"4px 0","& input":{position:"absolute",width:"100%",height:"100%",opacity:"0",zIndex:"1",cursor:"pointer"},"& span:nth-child(1)":{display:"flex",padding:"$3",borderRight:"1px solid #e6e6e6",fontWeight:"$medium",fontSize:"$label1",lineHeight:"$normal",backgroundColor:"#f7f8f9"},"& span:nth-child(2)":{padding:"12px 16px",color:"#b4b4b4",fontWeight:"$medium",fontSize:"$label1",lineHeight:"$normal",minWidth:"$57",whiteSpace:"nowrap",overflow:"hidden",maxWidth:"40ch",textOverflow:"ellipsis"},'& span:nth-child(2)[data-file="true"]':{color:"#333333"},'& [data-invalid="true"]':{borderColor:"red"},'& [data-invalid="true"] span:nth-child(1)':{borderColor:"red"}}),q=d("div",{appearance:"none",border:"none",boxSizing:"border-box",margin:"0px",padding:"0px",background:"transparent",fontWeight:"$medium",fontSize:"$label1",lineHeight:"$normal",color:"#3e3e3e","& .cdg-isRequired-Sign":{color:"#A4262C"}}),B=d("div",{appearance:"none",border:"none",boxSizing:"border-box",margin:"0px",padding:"0px",background:"transparent",display:"flex",flexDirection:"column",width:"100%"}),D=N.forwardRef((w,z)=>{const{css:R={},fileType:c,maxFileSize:g=0,title:b,value:x=void 0,fileValueName:u,customDescription:y,customError:r,onFileChange:p,placeholder:v="No file choosen",isRequired:E=!1,...F}=w,[f,S]=o.useState(),[m,h]=o.useState(),t=o.useRef(null),U=G(z),j=i=>{if(!i.target.files||!i.target.files[0])return;const a=i.target.files[0],n=new FileReader;if(h(a.name),C(a))i.target.files&&i.target.files[0]&&(n.readAsDataURL(a),n.onload=()=>{p&&p(a)});else{i.target.value="";return}},C=i=>{let a=!0,n="";return c.type.includes(i.type)||(n="Sorry, you have upload an inccorect file type.",a=!1),i.size/$/$>g&&(n=`Sorry, you have upload a file that exceed ${g} MB.`,a=!1),a?S(""):(S(n),p&&p(null,n)),a};return o.useEffect(()=>{x?h(u):(h(""),t.current.value="")},[x,u]),o.useEffect(()=>{r&&t&&t.current&&(t.current.value="")},[r]),l(B,{css:R,ref:U,...F,children:[b?l(q,{children:[b,e("span",{className:"cdg-isRequired-Sign",children:E?" *":""})]}):null,l(T,{"data-invalid":!!f||!!r,children:[e("span",{children:"Browse file"}),e("span",{"data-file":!!m,children:m||v}),e("input",{type:"file",onChange:j,accept:c.accept,title:u,ref:t})]}),e(P,{children:y||`Only ${c.label} files are accepted. Maximum size: ${g} MB`}),f||r?e(M,{children:f||r}):""]})}),s=D;s.displayName="upload v2";const I=()=>l(k,{children:[e("h3",{children:"Basic"}),e(s,{fileType:{accept:"image/*",label:"PNG, JPEG",type:["image/jpeg","image/jpg","image/png"]},maxFileSize:10,title:"Upload your file"}),e("h3",{children:"isRequired"}),e(s,{fileType:{accept:"image/*",label:"PNG, JPEG",type:["image/jpeg","image/jpg","image/png"]},maxFileSize:10,title:"Upload your file",isRequired:!0}),e("h3",{children:"Custom description"}),e(s,{fileType:{accept:"image/*",label:"PNG, JPEG",type:["image/jpeg","image/jpg","image/png"]},maxFileSize:10,customDescription:l(W,{children:[e("span",{children:"Only files with the following extensions are allowed: pdf, image extension, excel, word, powerpoint"}),e("br",{}),e("span",{children:"Maximum file size is 30MB"})]})})]});typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{I as Variants};

import{j as n,F as p,s as e,k as $,R as r,a as u}from"./index-5326e962.js";import{p as x}from"./pick-child-c47278c3.js";import{u as b,c as S,d as v}from"./utils-efb75e1c.js";const w=i=>n(p,{children:i.children}),k=w,j=e("li",{fontSize:"$label1",fontWeight:"$medium",padding:"$2 $4",outline:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"$2",color:"333333","&:hover":{backgroundColor:"#F3F2F1"},variants:{isFocused:{true:{backgroundColor:"#F3F2F1"}},isSelected:{true:{backgroundColor:"#F3F2F1"}},isDisabled:{true:{opacity:.4,cursor:"not-allowed"}}}}),H=e("div",{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:"$4",height:"$4",overflow:"hidden"}),L=e("div",{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:"$6",height:"$6",overflow:"hidden",svg:{width:"$6",height:"$6"}}),N=e("div",{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:"$6",height:"$6",borderRadius:"$md",background:"$$bg"}),W=e("div",{display:"flex",alignItems:"center",flexGrow:1}),F=$({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),C=e("div",{display:"flex",justifyContent:"center",margin:"$4 auto",".spinner":{display:"inline-block",position:"relative",width:"$4",height:"$4",div:{boxSizing:"border-box",display:"block",position:"absolute",width:"$4",height:"$4",border:"2px solid #757575",borderRadius:"50%",animation:`${F} 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite`,borderColor:"#757575 transparent transparent transparent"},".spinner-1":{animationDelay:"-0.45s"},".spinner-2":{animationDelay:"-0.3s"},".spinner-3":{animationDelay:"-0.15s"}}}),P=e("div",{backgroundColor:"$cdgBlue10",padding:"$2 $4",fontSize:"$label2",fontWeight:"$semibold",color:"#333333"});function M(i){const t=r.useRef(null),{listBoxRef:o=t,collection:s,rootChildren:c,sectionCollection:d,renderOptions:l}=i,a=r.useRef(null),h=r.useRef(null),m=b(a),f=r.useMemo(()=>S(d,s),[d,s]);r.useEffect(()=>{if(a.current&&h.current){const g=v(a.current,h.current);m&&g>=0&&g<4&&i.onLoadMore()}},[m]);const{child:y}=x(c,k);return u(p,{children:[y,n("ul",{ref:o,children:i.isLoading?n(C,{children:u("div",{className:"spinner",children:[n("div",{className:"spinner-1"}),n("div",{className:"spinner-2"}),n("div",{className:"spinner-3"}),n("div",{})]})}):u(p,{children:[l==null?void 0:l(f),[...s].length>0&&n("div",{style:{height:1},ref:a})]})}),n("div",{style:{height:1},ref:h})]})}const I=e("div",{margin:0,padding:"$2 0",borderRadius:"$md",width:"fit-content",height:"fit-content",minWidth:"100%",background:"#FFFFFF",boxShadow:"0px 0.6px 1.8px rgba(0, 0, 0, 0.1), 0px 3.2px 7.2px rgba(0, 0, 0, 0.13)",ul:{overscrollBehavior:"contain",maxHeight:"$64",overflowY:"auto",listStyle:"none",marginBlockStart:0,marginBlockEnd:0,marginInlineStart:0,marginInlineEnd:0,paddingInlineStart:0,"&:focus":{outline:"none"}}});function V({children:i,triggerRef:t,visualizeRef:o,handleKeyDown:s,onFocus:c,onBlur:d,...l}){const{isEmpty:a=!1}=l;return r.useEffect(()=>(document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)})),r.useEffect(()=>(c(),()=>{d()}),[]),n(I,{style:{width:t!=null&&t.current?(t==null?void 0:t.current.clientWidth)+2:"100%",display:a?"none":""},css:{ul:{maxHeight:o!=null&&o.current?`${o==null?void 0:o.current.clientHeight}px`:"16rem"}},children:i})}const Y=e("div",{padding:"$2 0",position:"absolute",top:0,left:"-9999px",overflow:"hidden",visibility:"hidden",whiteSpace:"nowrap",ul:{overscrollBehavior:"contain",maxHeight:"$64",overflowY:"auto",listStyle:"none",marginBlockStart:0,marginBlockEnd:0,marginInlineStart:0,marginInlineEnd:0,paddingInlineStart:0,"&:focus":{outline:"none"}}});export{M as B,k as D,V as P,j as S,W as a,P as b,Y as c,L as d,H as e,N as f};

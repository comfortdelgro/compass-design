import{m as c}from"./index-1156f3dc.js";import{s as d,R as r,j as e,r as Z,a}from"./index-fa7f12da.js";import"./index-97eef5e6.js";import{a as s}from"./index-b5812e81.js";import{C as H}from"./components-209491bb.js";import{a as _}from"./module-ed9118f8.js";import{p as K}from"./pick-child-de935d5d.js";import{u as T}from"./use-dom-ref-5a4860ef.js";import{B as u}from"./button-78e10f03.js";import"./module-d97fb9d8.js";import"./module-a4171402.js";import"./module-4c346093.js";import"./_define_property-1764bf98.js";import"./module-d6aeab13.js";const U=d("div",{width:"100%"}),X=d("div",{width:"100%",display:"flex",label:{fontSize:"$body3",fontWeight:"$semibold",display:"inline-block"},variants:{labelPosition:{top:{flexDirection:"column",gap:"$2"},left:{flexDirection:"row",gap:"$8",label:{maxWidth:"33%",flexShrink:0,width:"max-content"}}}}}),k=d("div",{marginTop:"$1",width:"$6",height:"$6",display:"flex",justifyContent:"center",alignItems:"center",userSelect:"none",svg:{width:"$4",height:"$4"}}),q=d("div",{flexGrow:1,backgroundColor:"$background",border:"1px solid #EDEBE9",padding:"$2 $4",borderRadius:"$md",display:"flex",gap:"$4",variants:{collaspable:{true:{},false:{minHeight:"$32"}}}}),J=d("div",{flexGrow:1,display:"flex",alignItems:"flex-start",height:"fit-content",flexWrap:"wrap",gap:"$4",input:{fontSize:"$body3",border:"none",background:"transparent",outline:"none",width:"25%",height:"$7_5",padding:0}}),F=d("div",{fontSize:"$label2",fontWeight:"$semibold",backgroundColor:"#F5F5F6",padding:"$2",gap:"$3",height:"min-content",display:"flex",alignItems:"center",borderRadius:"$md",svg:{width:"$3",height:"$3"},"&:hover":{backgroundColor:"#EAEBEB"},variants:{isDisabled:{true:{background:"#F0F0F0",opacity:.4},false:{"tag-box-x-icon":{cursor:"pointer"}}},isError:{true:{border:"1px solid #A4262C"}}}}),Q=d("div",{width:"100%",marginTop:"$2",fontSize:"$label3",color:"$gray60",fontWeight:"$semibold",display:"flex",alignItems:"center",span:{flexGrow:1}}),V=d("div",{width:"max-content",height:"min-content"}),Y=r.forwardRef((o,x)=>{const{css:h={},children:f}=o,n=T(x);return e(V,{css:h,ref:n,children:f})}),P=Y,ee=r.forwardRef((o,x)=>{const h=T(x);return e("input",{ref:h,type:"text",onKeyDown:f=>{const n=f.target.value;n!==""&&f.key==="Enter"&&(o.onEnter(n),h.current&&(h.current.value=""))}})}),oe=ee,te=r.forwardRef((o,x)=>{const{css:h={},labelPosition:f="top",collaspable:n=!1,typeable:$=!1,items:C,helperText:w,children:W,onRemove:v,onAdd:y,...N}=o,M=T(x),{child:L}=K(W,P),{labelProps:j,fieldProps:z}=_(N),[B,R]=r.useState(0),A=r.useRef(null),[g,G]=r.useState([]),[m,O]=r.useState(!1);return r.useEffect(()=>{G(l=>Array(C.length).fill(0).map((b,p)=>l[p]||Z.createRef()))},[C]),r.useEffect(()=>{var l,b;if(n&&!m){let p=((l=A.current)==null?void 0:l.clientWidth)??0,E=0;for(const I of g){const S=(b=I.current)==null?void 0:b.clientWidth;if(S){const D=p-S-16;D>37?p=D:(I.current.style.display="none",E++)}}R(Math.min(E,99))}else{for(const p of g)p.current&&(p.current.style.display="flex");R(0)}},[g,m,n]),a(U,{css:h,ref:M,children:[a(X,{labelPosition:f,children:[o.label&&e("label",{...j,children:o.label}),a(q,{...z,collaspable:n,children:[o.icon&&e(k,{children:o.icon}),a(J,{ref:A,children:[C.map((l,b)=>a(F,{isDisabled:!!l.isDisabled,isError:!!l.isError,ref:g[b],children:[l.icon,e("span",{children:l.value}),e("span",{style:l.isDisabled?{}:{cursor:"pointer"},children:e(le,{onClick:()=>v==null?void 0:v(l.id),isDisabled:!!l.isDisabled})})]},l.id)),B>0&&e(F,{children:a("span",{children:["+",B]})},"remainingCount"),(!n&&$||n&&$&&m)&&e(oe,{onEnter:l=>y==null?void 0:y(l)})]}),n&&e(k,{css:{cursor:"pointer"},onClick:()=>O(l=>!l),children:m?e(ie,{}):e(ne,{})})]})]}),(w||L)&&a(Q,{children:[e("span",{children:w})," ",L]})]})}),le=({...o})=>e("svg",{...o,width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",children:e("path",{d:"M10.9408 9.45858C11.3509 9.8687 11.3509 10.5331 10.9408 10.9432C10.7373 11.1483 10.4683 11.25 10.1993 11.25C9.93022 11.25 9.66183 11.1475 9.4571 10.9424L5.99959 7.4867L2.54241 10.9416C2.33734 11.1483 2.06863 11.25 1.79992 11.25C1.5312 11.25 1.26282 11.1483 1.05759 10.9416C0.647469 10.5315 0.647469 9.86706 1.05759 9.45694L4.51576 5.99877L1.05759 2.54224C0.647469 2.13212 0.647469 1.46772 1.05759 1.05759C1.46772 0.647469 2.13212 0.647469 2.54224 1.05759L5.99959 4.5174L9.45776 1.05923C9.86788 0.64911 10.5323 0.64911 10.9424 1.05923C11.3525 1.46936 11.3525 2.13376 10.9424 2.54388L7.48424 6.00205L10.9408 9.45858Z",fill:"#201F1E"})}),ne=({...o})=>e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",...o,children:e("path",{d:"M11.9991 18C11.5301 18 11.0608 17.8186 10.7033 17.4559L1.53708 8.1702C0.820973 7.44475 0.820973 6.26953 1.53708 5.54408C2.25319 4.81864 3.41329 4.81864 4.12939 5.54408L11.9991 13.5196L19.8706 5.54554C20.5867 4.82009 21.7468 4.82009 22.4629 5.54554C23.179 6.27098 23.179 7.44621 22.4629 8.17165L13.2967 17.4574C12.9387 17.8201 12.4689 18 11.9991 18Z",fill:"#201F1E"})}),ie=({...o})=>e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",...o,children:e("path",{d:"M12.0009 5C12.4699 5 12.9392 5.18136 13.2967 5.54409L22.4629 14.8298C23.179 15.5552 23.179 16.7305 22.4629 17.4559C21.7468 18.1814 20.5867 18.1814 19.8706 17.4559L12.0009 9.48036L4.12939 17.4545C3.41329 18.1799 2.25319 18.1799 1.53708 17.4545C0.820973 16.729 0.820973 15.5538 1.53708 14.8284L10.7033 5.54264C11.0613 5.17991 11.5311 5 12.0009 5Z",fill:"#201F1E"})}),t=te;t.Action=P;t.displayName="TagBox";t.Action.displayName="TagBox.Action";const i=[{id:1,value:"Item 1",icon:e(s,{icon:c})},{id:2,value:"Item 2",isDisabled:!0},{id:3,value:"Item 3",icon:e(s,{icon:c})},{id:4,value:"Item 4",isDisabled:!0},{id:5,value:"Item 5",icon:e(s,{icon:c}),isError:!0},{id:6,value:"Item 6",isDisabled:!0},{id:7,value:"Item 7",icon:e(s,{icon:c})},{id:8,value:"Item 8",isDisabled:!0},{id:9,value:"Item 9",icon:e(s,{icon:c})},{id:10,value:"Item 10",isDisabled:!0}],ve=()=>a(H,{children:[e("h3",{children:"Fully Functional"}),e(t,{label:"Text Label",items:i,icon:e(s,{icon:c}),onRemove:o=>console.log(o),helperText:"Helper text",children:e(t.Action,{children:e(u,{children:"Call to action"})})}),e("h3",{children:"Typeable"}),e(t,{label:"Text Label",items:i,typeable:!0,icon:e(s,{icon:c}),onAdd:o=>console.log(o),onRemove:o=>console.log(o),helperText:"Helper text",children:e(t.Action,{children:e(u,{children:"Call to action"})})}),e("h3",{children:"Positioned Label"}),e(t,{items:i,onRemove:o=>console.log(o),labelPosition:"left",label:"Text Label",helperText:"Helper text",children:e(t.Action,{children:e(u,{children:"Call to action"})})}),e("h3",{children:"No Action"}),e(t,{label:"Text Label",items:i,onRemove:o=>console.log(o),helperText:"Helper text"}),e("h3",{children:"No Helper text and Action"}),e(t,{label:"Text Label",items:i,onRemove:o=>console.log(o)})]}),ye=()=>a(H,{children:[e("h3",{children:"Fully Functional"}),e(t,{label:"Text Label",collaspable:!0,items:i,icon:e(s,{icon:c}),onRemove:o=>console.log(o),helperText:"Helper text",children:e(t.Action,{children:e(u,{children:"Call to action"})})}),e("h3",{children:"Typeable"}),e(t,{label:"Text Label",collaspable:!0,typeable:!0,items:i,icon:e(s,{icon:c}),onAdd:o=>console.log(o),onRemove:o=>console.log(o),helperText:"Helper text",children:e(t.Action,{children:e(u,{children:"Call to action"})})}),e("h3",{children:"Positioned Label"}),e(t,{items:i,collaspable:!0,onRemove:o=>console.log(o),labelPosition:"left",label:"Text Label",helperText:"Helper text",children:e(t.Action,{children:e(u,{children:"Call to action"})})}),e("h3",{children:"No Action"}),e(t,{label:"Text Label",collaspable:!0,items:i,onRemove:o=>console.log(o),helperText:"Helper text"}),e("h3",{children:"No Helper text and Action"}),e(t,{collaspable:!0,label:"Text Label",items:i,onRemove:o=>console.log(o)})]});typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{ye as Collaspable,ve as TagBoxs};

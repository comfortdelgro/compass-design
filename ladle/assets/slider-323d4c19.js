import{s as D,R as K,r as E,j as R}from"./index-8b5b37c7.js";import{u as j}from"./use-dom-ref-e4a9d554.js";const I=D("div",{display:"flex",width:"100%",height:"0.25rem",background:"$cdgBlue10",borderRadius:"6.25rem",position:" relative",cursor:"pointer","&:focus .cdg-thumb-tooltips::after":{content:"attr(value)",position:"absolute",backgroundColor:"$gray110",width:"$12_5",height:"$12_5",color:"$whiteText",padding:"0.2rem",borderRadius:"0.2rem",pointerEvents:"none",whiteSpace:"nowrap",bottom:"1.688rem",transform:"translateX(-35%)",fontFamily:"inherit",fontStyle:"normal",fontWeight:"$bold",fontSize:"1.25rem",lineHeight:"3.125rem",textAlign:"center"},"&:focus .cdg-thumb-tooltips::before":{content:"",position:"absolute",border:"10px solid transparent",borderTop:"10px solid $gray110",left:"50%",bottom:"0.5rem",transform:"translateX(-50%)",zIndex:"1"},variants:{disabled:{true:{pointerEvents:"none"},false:{pointerEvents:"auto"}}}}),_=D("div",{background:"$cdgBlue100",height:"100%",position:"relative"}),F=D("div",{right:"0",boxSizing:"border-box",width:"$4",height:"$4",borderRadius:"50%",background:"$background",border:"1px solid $cdgBlue10",boxShadow:"0px 2px 4px $overlayDark",position:"absolute",top:"50%",transform:"translate3d(100%, -50%, 0)",cursor:"pointer"}),H=K.forwardRef((T,q)=>{const{isDisabled:g=!1,tooltip:B=!0,onChange:l,onChangeEnd:u,minValue:n=0,maxValue:b=100,step:c=1,value:S,defaultValue:y,className:P="",css:N={},...V}=T,L=j(q),[v,W]=E.useState(y),[X,A]=E.useState(!1);E.useEffect(()=>{u&&v!==void 0&&!X&&u(v)},[X]),E.useEffect(()=>{const e=L.current;if(e){const t=e.querySelector(".thumb"),f=e.querySelector(".range-slider");let h=!1,s=0;const m=r=>{g||(h=!0,s=r.clientX,A(!0))},x=()=>{g||(h=!1,A(!1))},M=r=>{if(!h||g)return;const i=r.clientX-s;s=r.clientX;const o=t.offsetLeft+i,a=e.offsetWidth,d=t.offsetWidth;t.style.left=`${Math.max(0-d,Math.min(o,a-d*2))}px`;const p=t.offsetLeft+d;f.style.width=`${p}px`;const k=Math.round(p/(a-d)*(b-n)/c)*c+n;W(k),t.setAttribute("value",k.toString()),l&&l(k)},$=r=>{if(g||h)return;const i=e.offsetWidth,o=t.offsetWidth;let a=r.clientX-e.getBoundingClientRect().left;a>=i-o/2&&(a=i-o/2),t.style.left=`${Math.max(0-o,Math.min(a-o*3/2,i-o))}px`,a-o<=0&&(f.style.width="0px"),f.style.width=`${a-o/2}px`;const d=t.offsetLeft+o,p=Math.round(d/(i-o)*(b-n)/c)*c+n;W(p),t.setAttribute("value",p.toString()),l&&l(p),u&&u(p)};return e.addEventListener("click",$),t.addEventListener("mousedown",m),document.addEventListener("mouseup",x),document.addEventListener("mousemove",M),(y!==void 0||S!==void 0)&&(()=>{const i=e.offsetWidth,o=t.offsetWidth,a=S!==void 0?S:y||n,d=(a-n)/(b-n)*i-o;t.style.left=`${Math.max(0-o,Math.min(d-o,i-o))}px`,f.style.width=`${d}px`,W(y),t.setAttribute("value",a.toString())})(),()=>{t.removeEventListener("mousedown",m),document.removeEventListener("mouseup",x),document.removeEventListener("mousemove",M),e.removeEventListener("click",$)}}return()=>{console.log("slider not found!!!")}},[g,n,b,c,l,y,S]);const z=()=>({className:P,css:N,...V}),C=e=>{var h;const t=e.key,f=s=>{const m=L.current;if(m){const x=m.querySelector(".thumb"),M=m.querySelector(".range-slider"),$=m.offsetWidth,r=x.offsetWidth,i=(s-n)/(b-n)*$-r;x.style.left=`${Math.max(0-r,Math.min(i-r,$-r))}px`,M.style.width=`${i}px`,W(s),l==null||l(s),u==null||u(s),x.setAttribute("value",s.toString())}};if(t==="ArrowRight"&&v!==void 0){e.preventDefault(),e.stopPropagation();const s=Math.min(v+c,b);f(s)}if(t==="ArrowLeft"&&v!==void 0){e.preventDefault(),e.stopPropagation();const s=Math.max(v-c,n);f(s)}(h=w.onKeyDown)==null||h.call(w,e)},w=z();return R(I,{...w,className:`cdg-range-slider ${P}`,tabIndex:0,ref:L,onKeyDown:C,style:{pointerEvents:`${g?"none":"auto"}`},children:R(_,{className:"range-slider",children:R(F,{className:`thumb ${B?"cdg-thumb-tooltips":""}`})})})}),G=H;export{G as S};

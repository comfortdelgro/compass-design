"use client";import{j as t}from"./jsx-runtime-ea7736fc.js";import{r}from"./index-6c164b11.js";import{C as M}from"./objectToCSS-aff350d4.js";import{u as k}from"./use-dom-ref-7c72e1a5.js";import{u as B}from"./useDrag-c728562f.js";const C=.4,T="_slideAction_1favy_6",E="_slideActionBackground_1favy_21",F="_slideActionDragger_1favy_31",Z="_slideActionDefaultIcon_1favy_50",$="_slideActionLabel_1favy_55",U="_compact_1favy_90",z="_gradient_1favy_114",H="_gradientWave_1favy_1",Y="_slide_1favy_6",G="_gradientWaveText_1favy_1",s={slideAction:T,slideActionBackground:E,slideActionDragger:F,slideActionDefaultIcon:Z,slideActionLabel:$,compact:U,static:"_static_1favy_109",gradient:z,gradientWave:H,default:"_default_1favy_121",slide:Y,gradientWaveText:G};function j({slideRef:i,icon:x,onDrag:c,onDragEnd:l,disableDrag:u=!1}){const o=r.useRef(null),e=o.current,n=r.useMemo(()=>{if(typeof window>"u"||!i.current)return{slideDragWidth:0,maxSlideDistance:0};const a=window.getComputedStyle(i.current),_=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight),f=(e==null?void 0:e.offsetWidth)??0;return{slideDragWidth:f,maxSlideDistance:i.current.offsetWidth-_-f}},[e==null?void 0:e.offsetWidth]);return B({targetRef:o,direction:"horizontal",limit:{x:{min:0,max:n.maxSlideDistance}},onMove:(...a)=>{c==null||c(n,...a)},onEnd:(...a)=>{l==null||l(n,...a)},disabled:u}),t.jsx("button",{ref:o,className:`${s.slideActionDragger} cdg-slide-action__dragger`,style:{pointerEvents:u?"none":"auto"},children:x||t.jsx("svg",{className:`${s.slideActionDefaultIcon} cdg-slide-action__default-icon`,width:"14",height:"15",viewBox:"0 0 14 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:t.jsxs("g",{id:"Frame 105",children:[t.jsxs("g",{id:"Vector",children:[t.jsx("path",{d:"M0.886667 14.998C0.66 14.998 0.433333 14.9106 0.26 14.74C-0.0866667 14.3988 -0.0866667 13.8432 0.26 13.502L5.85111 7.99914L0.26 2.49188C-0.0866667 2.15068 -0.0866667 1.59514 0.26 1.25394C0.606667 0.912748 1.17111 0.912748 1.51778 1.25394L7.74 7.37799C8.08667 7.71918 8.08667 8.27472 7.74 8.61592L1.51778 14.74C1.34 14.9106 1.11333 14.998 0.886667 14.998Z"}),t.jsx("path",{d:"M0.886667 14.998C0.66 14.998 0.433333 14.9106 0.26 14.74C-0.0866667 14.3988 -0.0866667 13.8432 0.26 13.502L5.85111 7.99914L0.26 2.49188C-0.0866667 2.15068 -0.0866667 1.59514 0.26 1.25394C0.606667 0.912748 1.17111 0.912748 1.51778 1.25394L7.74 7.37799C8.08667 7.71918 8.08667 8.27472 7.74 8.61592L1.51778 14.74C1.34 14.9106 1.11333 14.998 0.886667 14.998Z"})]}),t.jsxs("g",{id:"Vector_2",children:[t.jsx("path",{d:"M6.88667 14.998C6.66 14.998 6.43333 14.9106 6.26 14.74C5.91333 14.3988 5.91333 13.8432 6.26 13.502L11.8511 7.99914L6.26 2.49188C5.91333 2.15068 5.91333 1.59514 6.26 1.25394C6.60667 0.912748 7.17111 0.912748 7.51778 1.25394L13.74 7.37799C14.0867 7.71918 14.0867 8.27472 13.74 8.61592L7.51778 14.74C7.34 14.9106 7.11333 14.998 6.88667 14.998Z"}),t.jsx("path",{d:"M6.88667 14.998C6.66 14.998 6.43333 14.9106 6.26 14.74C5.91333 14.3988 5.91333 13.8432 6.26 13.502L11.8511 7.99914L6.26 2.49188C5.91333 2.15068 5.91333 1.59514 6.26 1.25394C6.60667 0.912748 7.17111 0.912748 7.51778 1.25394L13.74 7.37799C14.0867 7.71918 14.0867 8.27472 13.74 8.61592L7.51778 14.74C7.34 14.9106 7.11333 14.998 6.88667 14.998Z"})]})]})})})}j.__docgenInfo={description:"@note This component is draggable.\n\nIt will be re-render (to reflect with the user's drag actions) and how frequently is\ndepend on the `stepSize` option of `useDrag` hook.",methods:[],displayName:"SlideDragger",props:{slideRef:{required:!0,tsType:{name:"RefObject",elements:[{name:"HTMLDivElement"}],raw:"RefObject<HTMLDivElement>"},description:""},icon:{required:!1,tsType:{name:"ReactNode"},description:""},onDrag:{required:!1,tsType:{name:"signature",type:"function",raw:`(
  slideDragInfo: {slideDragWidth: number; maxSlideDistance: number},
  ...params: Parameters<NonNullable<DraggableOptions['onMove']>>
) => void`,signature:{arguments:[{type:{name:"signature",type:"object",raw:"{slideDragWidth: number; maxSlideDistance: number}",signature:{properties:[{key:"slideDragWidth",value:{name:"number",required:!0}},{key:"maxSlideDistance",value:{name:"number",required:!0}}]}},name:"slideDragInfo"},{type:{name:"Parameters",elements:[{name:"NonNullable",elements:[{name:"signature",raw:"DraggableOptions['onMove']"}],raw:"NonNullable<DraggableOptions['onMove']>"}],raw:"Parameters<NonNullable<DraggableOptions['onMove']>>"},name:"params",rest:!0}],return:{name:"void"}}},description:""},onDragEnd:{required:!1,tsType:{name:"signature",type:"function",raw:`(
  slideDragInfo: {slideDragWidth: number; maxSlideDistance: number},
  ...params: Parameters<NonNullable<DraggableOptions['onEnd']>>
) => void`,signature:{arguments:[{type:{name:"signature",type:"object",raw:"{slideDragWidth: number; maxSlideDistance: number}",signature:{properties:[{key:"slideDragWidth",value:{name:"number",required:!0}},{key:"maxSlideDistance",value:{name:"number",required:!0}}]}},name:"slideDragInfo"},{type:{name:"Parameters",elements:[{name:"NonNullable",elements:[{name:"signature",raw:"DraggableOptions['onEnd']"}],raw:"NonNullable<DraggableOptions['onEnd']>"}],raw:"Parameters<NonNullable<DraggableOptions['onEnd']>>"},name:"params",rest:!0}],return:{name:"void"}}},description:""},disableDrag:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};const J=i=>typeof window>"u"||typeof document>"u"?!1:!!window.getComputedStyle(document.documentElement).getPropertyValue(i).trim(),K=r.forwardRef(({css:i={},className:x="",icon:c,color:l="--cdg-color-dangerShades",label:u="Slide",labelType:o="default",onChange:e,onSwipeEnd:n,slideType:a="slide",slideColor:_="mono",allowSwipeAfterEnd:f=!1,compact:A=!1,children:w,...q},R)=>{const m=k(R),v=r.useRef(null),p=r.useRef(null),[S,b]=r.useState(!1),D=r.useCallback((g,d)=>{if(v.current){if(a==="static"){v.current.style.setProperty("opacity",g.toFixed(2));return}v.current.style.setProperty("width",`${d}px`)}},[a]),W=r.useCallback(({slideDragWidth:g,maxSlideDistance:d},L,{x:y})=>{if(!m.current||!p.current)return;const h=(d-y)/d;p.current.style.setProperty("opacity",(h-.1).toFixed(2));const N=y/d-C;D(N>C?C:N,g+y)},[D]),I=r.useCallback(({maxSlideDistance:g},d,{x:L},y)=>{if(!m.current)return;const h=()=>{p.current&&p.current.style.setProperty("opacity","1"),b(!1),e==null||e(!1),y({x:0,y:0},{transition:"transform .2s ease"}),D(0,0)};if(L===g){f||b==null||b(!0),e==null||e(!0),n==null||n(h);return}h()},[e,D,f,n]),O=[s.slideAction,A&&s.compact,x,"cdg-slide-action"].filter(Boolean).join(" "),V=[s.slideActionBackground,_&&s[_],a&&s[a],"cdg-slide-action__bg"].filter(Boolean).join(" "),P=[s.slideActionLabel,o&&s[o],"cdg-slide-action__label"].filter(Boolean).join(" ");return t.jsx(M,{css:i,childrenRef:m,children:t.jsxs("div",{ref:m,className:O,style:{"--slide-action-theme":J(l)?`var(${l})`:l},...q,children:[t.jsx("div",{ref:v,className:V}),t.jsx(j,{slideRef:m,icon:c,onDrag:W,onDragEnd:I,disableDrag:S}),t.jsx("div",{ref:p,className:P,title:typeof w=="string"?w:u,children:w||u})]})})});K.__docgenInfo={description:`A Slide action or Swiper component that requires user to swipe to confirm an action.

Usually use for important actions, such as purchase order, turn off privacy setting, delete something, etc.`,methods:[],displayName:"SlideAction",props:{css:{defaultValue:{value:"{}",computed:!1},required:!1},className:{defaultValue:{value:"''",computed:!1},required:!1},color:{defaultValue:{value:"'--cdg-color-dangerShades'",computed:!1},required:!1},label:{defaultValue:{value:"'Slide'",computed:!1},required:!1},labelType:{defaultValue:{value:"'default'",computed:!1},required:!1},slideType:{defaultValue:{value:"'slide'",computed:!1},required:!1},slideColor:{defaultValue:{value:"'mono'",computed:!1},required:!1},allowSwipeAfterEnd:{defaultValue:{value:"false",computed:!1},required:!1},compact:{defaultValue:{value:"false",computed:!1},required:!1}}};export{K as S};

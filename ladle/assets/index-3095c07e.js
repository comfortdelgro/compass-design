import{j as e}from"./jsx-runtime-ea7736fc.js";import{r as k,R as l}from"./index-6c164b11.js";import{C as at}from"./index-4f1d1dd5.js";import{P as ut}from"./index-53a599f3.js";import{C as ce,c as u}from"./string-cf4adbb3.js";import{u as F}from"./use-dom-ref-7c72e1a5.js";import{p as qe}from"./pick-child-1fb557e7.js";const pe=k.createContext({isLoadingMore:!1,isPositioned:!1,open:!1,searchValue:"",labelId:"",selectedItems:[],disabledKeys:[],selectedKeys:[],defaultSelectedKeys:[],selectedSectionIndexes:[],setSelectedSectionIndexes:()=>{},setSelectedItems:()=>{},onItemClick:()=>{},onSectionClick:()=>{},onHeaderClick:()=>{}}),mt="_multipleDropdownItemContent_1s56q_14",wt="_multipleDropdownOption_1s56q_21",ht="_multipleDropdownItemIsFocused_1s56q_37",gt="_multipleDropdownItemIsSelected_1s56q_41",It="_multipleDropdownItemIsSelectedFocused_1s56q_45",ft="_multipleDropdownItemIsDisabled_1s56q_49",Dt="_multipleDropdownItemRightIcon_1s56q_62",Ct="_multipleDropdownItemRightIconCheckMarkCheckbox_1s56q_71",St="_multipleDropdownItemRightIconContent_1s56q_72",_t="_multipleDropdownItemRightIconCheckMarkTick_1s56q_87",xt="_multipleDropdownItemRightIconSelected_1s56q_97",kt="_multipleDropdownLoading_1s56q_113",yt="_multipleDropdownLoadingSpinner_1s56q_119",bt="_multipleDropdownLoadingSpinnerItem_1s56q_126",vt="_spin_1s56q_1",Lt="_multipleDropdownLoadingSpinnerItem1_1s56q_140",jt="_multipleDropdownLoadingSpinnerItem2_1s56q_146",Rt="_multipleDropdownLoadingSpinnerItem3_1s56q_152",qt="_multipleDropdownListItem_1s56q_155",Mt="_multipleDropdownListEmptyData_1s56q_158",Nt="_multipleDropdownSection_1s56q_165",Et="_multipleDropdownSectionContent_1s56q_174",Vt="_IsClickable_1s56q_186",Tt="_multipleDropdownRightIcon_1s56q_186",Pt="_multipleDropdownRightIconSelected_1s56q_207",Kt="_multipleDropdownSectionCheckbox_1s56q_208",Bt="_multipleDropdownRightIconCheckbox_1s56q_219",Ht="_multipleDropdownRightIconTick_1s56q_235",At="_multipleDropdownControl_1s56q_239",Ft="_multipleDropdownControlIsDisabled_1s56q_279",Wt="_multipleDropdownControlIsErrored_1s56q_291",Ot="_multipleDropdownControlIsOpen_1s56q_298",$t="_multipleDropdownControlIcon_1s56q_299",Zt="_multipleDropdownSelectedItemWrapper_1s56q_324",Ut="_placeholderSelectedItemWrapper_1s56q_332",zt="_multipleDropdownWrapper_1s56q_352",Gt="_displayedValueString_1s56q_368",Jt="_itemListString_1s56q_377",Qt="_variantSelect_1s56q_386",Xt="_dropdownHelperText_1s56q_390",Yt="_dropdownHelperIsErrored_1s56q_398",eo="_dropdownButtonIcon_1s56q_401",to="_dropdownPopover_1s56q_405",oo="_multipleDropdownList_1s56q_155",n={multipleDropdownItemContent:mt,multipleDropdownOption:wt,multipleDropdownItemIsFocused:ht,multipleDropdownItemIsSelected:gt,multipleDropdownItemIsSelectedFocused:It,multipleDropdownItemIsDisabled:ft,multipleDropdownItemRightIcon:Dt,multipleDropdownItemRightIconCheckMarkCheckbox:Ct,multipleDropdownItemRightIconContent:St,multipleDropdownItemRightIconCheckMarkTick:_t,multipleDropdownItemRightIconSelected:xt,multipleDropdownLoading:kt,multipleDropdownLoadingSpinner:yt,multipleDropdownLoadingSpinnerItem:bt,spin:vt,multipleDropdownLoadingSpinnerItem1:Lt,multipleDropdownLoadingSpinnerItem2:jt,multipleDropdownLoadingSpinnerItem3:Rt,multipleDropdownListItem:qt,multipleDropdownListEmptyData:Mt,multipleDropdownSection:Nt,multipleDropdownSectionContent:Et,IsClickable:Vt,multipleDropdownRightIcon:Tt,multipleDropdownRightIconSelected:Pt,multipleDropdownSectionCheckbox:Kt,multipleDropdownRightIconCheckbox:Bt,multipleDropdownRightIconTick:Ht,multipleDropdownControl:At,multipleDropdownControlIsDisabled:Ft,multipleDropdownControlIsErrored:Wt,multipleDropdownControlIsOpen:Ot,multipleDropdownControlIcon:$t,multipleDropdownSelectedItemWrapper:Zt,placeholderSelectedItemWrapper:Ut,"multiple-dropdown-chip-icon":"_multiple-dropdown-chip-icon_1s56q_348",multipleDropdownWrapper:zt,displayedValueString:Gt,itemListString:Jt,variantSelect:Qt,dropdownHelperText:Xt,dropdownHelperIsErrored:Yt,dropdownButtonIcon:eo,dropdownPopover:to,multipleDropdownList:oo},he=l.forwardRef((s,d)=>{const{children:i,css:t={},onClick:r}=s,p=F(d),{onHeaderClick:m}=k.useContext(pe),w=R=>{m(),r==null||r(R)};return e.jsx(ce,{css:t,childrenRef:p,children:e.jsx("div",{ref:p,onClick:w,children:i})})});he.__docgenInfo={description:"",methods:[],displayName:"MultipleDropdownHeader"};function J(s){var i,t;if(!s)return"";if(typeof s=="string")return s;if((i=s.props)!=null&&i.textValue)return s.props.textValue;if(s instanceof Array)return s.map(J).join(" ");const d=(t=s.props)==null?void 0:t.children;return d instanceof Array?d.map(J).join(" "):J(d)}const Me=(s,d,i=[])=>{var t;for(const r of s)if(r.props){if(((t=r.props.value)==null?void 0:t.toString())===d.toString()&&!i.includes(r.props.value))return r;if(r.props.children){const p=Me(l.Children.toArray(r.props.children),d);if(p)return p}}return null},no=(s,d,i=[])=>{if(!i.length)return null;const t=i.filter(p=>p.visibility);if(t.length){const p=t.findIndex(m=>m.value.toString()===s.toString());if(p!==-1){const m=t[p-1]??t[t.length-1];if(m)return ee(m.value,d)}}return Ee(d,i)},lo=(s,d,i=[])=>{if(!i.length)return null;const t=i.filter(p=>p.visibility);if(t.length){const p=t.findIndex(m=>m.value.toString()===s.toString());if(p!==-1){const m=t[p+1]??t[0];if(m)return ee(m.value,d)}}return Ne(d,i)},Ne=(s,d=[])=>{if(!d.length)return null;let i=null;for(const t of d)if(t.visibility){i=ee(t.value,s);break}return i},Ee=(s,d=[])=>{if(!d.length)return null;let i=null;for(let t=d.length-1;t>=0;t--){const r=d[t];if(r!=null&&r.visibility){i=ee(r.value,s);break}}return i},ee=(s,d)=>{const{rest:i}=qe(d,he);return l.Children.toArray(i).length?Me(l.Children.toArray(d),s)??null:null},io=(s,d)=>{const i=p=>{const{top:m}=p.getBoundingClientRect();return m},t=i(s),r=i(d);return Math.hypot(t-r)},De=l.forwardRef((s,d)=>{const{children:i,value:t="",checkmark:r="checkbox",css:p={},...m}=s,{textValue:w,...R}=m,{isPositioned:D,disabledKeys:q=[],searchValue:v,focusKey:y,selectedItems:b,setDropdownItemKeys:L,onItemClick:_}=l.useContext(pe),x=F(d),C=l.useMemo(()=>(b==null?void 0:b.findIndex(f=>f.value.toString()===t.toString()))!==-1,[b,t]),B=l.useMemo(()=>(y==null?void 0:y.toString())===t.toString(),[y,t]),E=l.useMemo(()=>q.findIndex(f=>f.toString()===t.toString())!==-1,[q,t]),P=l.useMemo(()=>!v||J(i).toLocaleLowerCase().includes(v.toLocaleLowerCase()),[v,i]);l.useEffect(()=>{E||L==null||L(f=>{const S=f.findIndex(Q=>Q.value.toString()===t.toString());return S===-1?f.push({value:t,visibility:!0}):f[S]={value:t,visibility:P},f})},[t,E,P,L]),l.useEffect(()=>{D&&y&&y.toString()===t.toString()&&x.current&&setTimeout(()=>{x.current.scrollIntoView({block:"nearest"})})},[y,t,D,x]),l.useEffect(()=>{C&&D&&x.current&&setTimeout(()=>{x.current.scrollIntoView({block:"nearest"})})},[D,C,x]);const te=()=>{E||_({value:t.toString(),displayValue:w||i})},K=u(n.multipleDropdownOption,B&&!C&&n.multipleDropdownItemIsFocused,C&&!B&&n.multipleDropdownItemIsSelected,C&&B&&n.multipleDropdownItemIsSelectedFocused,E&&n.multipleDropdownItemIsDisabled,"cdg-multiple-dropdown-item"),H=u(n.multipleDropdownItemRightIcon,C&&n.multipleDropdownItemRightIconSelected,r==="checkbox"&&n.multipleDropdownItemRightIconCheckMarkCheckbox,r==="tick"&&n.multipleDropdownItemRightIconCheckMarkTick,"cdg-multiple-dropdown-item-icon");return P?e.jsx(ce,{css:p,childrenRef:x,children:e.jsxs("li",{...R,role:"option",className:K,onClick:te,ref:x,"aria-selected":C,children:[e.jsx("div",{className:u(n.multipleDropdownItemContent,"cdg-multiple-dropdown-item-content"),children:i}),e.jsx("div",{className:H,children:r==="checkbox"?e.jsx("div",{className:u(n.multipleDropdownItemRightIconContent,"cdg-multiple-dropdown-item-icon-content"),children:e.jsx(ro,{})}):r==="tick"?e.jsx(so,{}):null})]})}):null}),ro=()=>e.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",children:e.jsx("path",{d:"M9.39158 1.86239C9.64736 2.12284 9.64736 2.54372 9.39158 2.80416L4.15319 8.13808C3.89741 8.39853 3.48407 8.39853 3.22829 8.13808L0.608522 5.47112C0.352823 5.21068 0.352823 4.7898 0.608522 4.52935C0.864262 4.26891 1.27883 4.26891 1.53461 4.52935L3.67232 6.72334L8.46668 1.86239C8.72246 1.60153 9.1358 1.60153 9.39158 1.86239Z",fill:"currentColor"})}),so=()=>e.jsx("svg",{width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",children:e.jsx("path",{d:"M15.0265 3.47966C15.4357 3.89637 15.4357 4.56978 15.0265 4.98649L6.64506 13.5208C6.23581 13.9375 5.57446 13.9375 5.16521 13.5208L0.973587 9.25363C0.564469 8.83691 0.564469 8.16351 0.973587 7.74679C1.38277 7.33008 2.04608 7.33008 2.45533 7.74679L5.87567 11.2572L13.5466 3.47966C13.9559 3.06228 14.6172 3.06228 15.0265 3.47966Z",fill:"currentColor"})});De.__docgenInfo={description:"",methods:[],displayName:"MultipleDropdownItem"};function co(s){const[d,i]=k.useState(!1),t=k.useMemo(()=>new IntersectionObserver(([r])=>i(!!(r!=null&&r.isIntersecting))),[]);return k.useEffect(()=>(s.current&&t.observe(s.current),()=>{t.disconnect()}),[s,t]),d}function Ve(){return e.jsx("div",{className:u(n.multipleDropdownLoading,"cdg-multiple-dropdown-loading"),children:e.jsxs("div",{className:u(n.multipleDropdownLoadingSpinner,"cdg-multiple-dropdown-loading-spinner"),children:[e.jsx("div",{className:u(n.multipleDropdownLoadingSpinnerItem,n.multipleDropdownLoadingSpinnerItem1,"cdg-multiple-dropdown-loading-spinner-item-1")}),e.jsx("div",{className:u(n.multipleDropdownLoadingSpinnerItem,n.multipleDropdownLoadingSpinnerItem2,"cdg-multiple-dropdown-loading-spinner-item-2")}),e.jsx("div",{className:u(n.multipleDropdownLoadingSpinnerItem,n.multipleDropdownLoadingSpinnerItem3,"cdg-multiple-dropdown-loading-spinner-item-3")}),e.jsx("div",{})]})})}Ve.__docgenInfo={description:"",methods:[],displayName:"DropdownLoading"};const Te=s=>{const{children:d,isLoading:i,css:t={},noDataMessage:r,onLoadMore:p}=s,m=F(null),w=F(null),R=co(m),{searchValue:D,labelId:q,isLoadingMore:v}=l.useContext(pe),{child:y,rest:b}=qe(d,he),L=k.useMemo(()=>{let _=0;return l.Children.map(b,x=>{J(x).toLocaleLowerCase().includes(D.toLocaleLowerCase())&&_++}),_},[b,D]);return l.useEffect(()=>{if(m.current&&w.current){const _=io(m.current,w.current);R&&_>=0&&_<4&&!v&&(p==null||p())}},[R,v,m,p,w]),e.jsxs(ce,{css:t,children:[y&&y,e.jsxs("ul",{role:"listbox","aria-labelledby":q,className:u(n.multipleDropdownList,"cdg-multiple-dropdown-list"),children:[i?e.jsx(Ve,{}):L===0?e.jsx("div",{className:u(n.multipleDropdownListEmptyData,"cdg-multiple-dropdown-list-empty"),children:r||"No data"}):b,l.Children.toArray(b).length>0&&e.jsx("div",{className:u(n.multipleDropdownListItem,"cdg-multiple-dropdown-list-item"),ref:m}),e.jsx("div",{className:u(n.multipleDropdownListItem,"cdg-multiple-dropdown-list-item"),ref:w})]})]})};Te.__docgenInfo={description:"",methods:[],displayName:"MultipleDropdownList",props:{searchValue:{required:!1,tsType:{name:"string"},description:""},isLoading:{required:!1,tsType:{name:"boolean"},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},noDataMessage:{required:!1,tsType:{name:"string"},description:""},css:{required:!1,tsType:{name:"intersection",raw:`{
  [K in keyof CSSProperties]?: ValueByPropertyName<K> | Values
} & {
  // unknown css declaration styles
  [K: string]: Values | CSS
}`,elements:[{name:"signature",type:"object",raw:`{
  [K in keyof CSSProperties]?: ValueByPropertyName<K> | Values
}`,signature:{properties:[{key:{name:"CSSProperties",required:!1},value:{name:"union",raw:"ValueByPropertyName<K> | Values",elements:[{name:"unknown"},{name:"Values"}]}}]}},{name:"signature",type:"object",raw:`{
  // unknown css declaration styles
  [K: string]: Values | CSS
}`,signature:{properties:[{key:{name:"string"},value:{name:"union",raw:"Values | CSS",elements:[{name:"Values"},{name:"CSS"}],required:!0}}]}}]},description:""},onLoadMore:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const Ce=l.forwardRef((s,d)=>{const{id:i=`cdg-element-${Math.random().toString(36).substring(2)}`,children:t,title:r,isClickable:p,css:m={},checkmark:w="checkbox",isChecked:R,index:D=-1,onClick:q,onSectionClick:v,...y}=s,{onSectionClick:b,selectedSectionIndexes:L,setSelectedSectionIndexes:_,selectedItems:x}=k.useContext(pe),[C,B]=l.useState(R??L.includes(D)),E=F(d);l.useEffect(()=>{const H=l.Children.toArray(t).some(f=>{const S=f;return x.findIndex(Q=>{var ue;return Q.value.toString()===((ue=S.props.value)==null?void 0:ue.toString())})===-1});B(!H),_(f=>{const S=new Set(f);return H?S.delete(D):S.add(D),[...S]})},[x,t,_,D]);const P=()=>{if(!p)return;q==null||q(r);const K=l.Children.toArray(t).map(H=>{var S;const f=H;return{value:((S=f.props.value)==null?void 0:S.toString())??"",displayValue:f.props.textValue??f.props.children}});b(K,!C,i,D),v==null||v(K,!C,i,D),B(!C)},te=u(n.multipleDropdownRightIcon,C&&n.multipleDropdownRightIconSelected,w==="checkbox"&&n.multipleDropdownRightIconCheckbox,w==="tick"&&n.multipleDropdownRightIconTick,"cdg-multiple-dropdown-section");return e.jsx(ce,{css:m,childrenRef:E,children:e.jsxs("div",{...y,ref:E,className:u(n.multipleDropdownSection,"cdg-multiple-dropdown-section"),children:[r&&e.jsxs("div",{className:u(n.multipleDropdownSectionContent,p&&n.IsClickable,"cdg-multiple-dropdown-section-content"),onClick:P,children:[r,e.jsx("div",{className:te,children:w==="checkbox"?e.jsx("div",{className:u(n.multipleDropdownSectionCheckbox,p&&n.IsClickable,"cdg-multiple-dropdown-section-checkbox"),children:e.jsx(po,{})}):w==="tick"?e.jsx(ao,{}):null})]}),t]})})}),po=()=>e.jsx("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",children:e.jsx("path",{d:"M9.39158 1.86239C9.64736 2.12284 9.64736 2.54372 9.39158 2.80416L4.15319 8.13808C3.89741 8.39853 3.48407 8.39853 3.22829 8.13808L0.608522 5.47112C0.352823 5.21068 0.352823 4.7898 0.608522 4.52935C0.864262 4.26891 1.27883 4.26891 1.53461 4.52935L3.67232 6.72334L8.46668 1.86239C8.72246 1.60153 9.1358 1.60153 9.39158 1.86239Z",fill:"currentColor"})}),ao=()=>e.jsx("svg",{width:"16",height:"17",viewBox:"0 0 16 17",fill:"none",children:e.jsx("path",{d:"M15.0265 3.47966C15.4357 3.89637 15.4357 4.56978 15.0265 4.98649L6.64506 13.5208C6.23581 13.9375 5.57446 13.9375 5.16521 13.5208L0.973587 9.25363C0.564469 8.83691 0.564469 8.16351 0.973587 7.74679C1.38277 7.33008 2.04608 7.33008 2.45533 7.74679L5.87567 11.2572L13.5466 3.47966C13.9559 3.06228 14.6172 3.06228 15.0265 3.47966Z",fill:"currentColor"})});Ce.__docgenInfo={description:"",methods:[],displayName:"MultipleDropdownSection"};const Pe=()=>e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 16 16",className:u(n.dropdownButtonIcon,"cdg-dropdown-button-icon"),children:e.jsx("path",{d:"M8.33276 12.3334C8.02004 12.3334 7.70717 12.2125 7.46885 11.9707L1.35805 5.78022C0.880649 5.29658 0.880649 4.5131 1.35805 4.02947C1.83546 3.54584 2.60886 3.54584 3.08626 4.02947L8.33276 9.34651L13.5804 4.03044C14.0578 3.54681 14.8312 3.54681 15.3086 4.03044C15.786 4.51407 15.786 5.29755 15.3086 5.78118L9.19782 11.9717C8.95912 12.2135 8.64594 12.3334 8.33276 12.3334Z",fill:"currentColor"})}),ae=l.forwardRef((s,d)=>{const{id:i=`cdg-element-${Math.random().toString(36).substring(2)}`,css:t={},popoverCSS:r={},isOpen:p,children:m,isErrored:w,isDisabled:R,isRequired:D,isReadOnly:q,helperText:v,defaultOpen:y,errorMessage:b,selectedKeys:L,values:_,numberOfRows:x,displayedValue:C="chip",icon:B=e.jsx(Pe,{}),disabledKeys:E=[],disabledValues:P=[],isLoading:te=!1,variant:K="combobox",customDisplayValue:H,defaultSelectedKeys:f,defaultValues:S,label:Q,placeholder:ue,erroredKeys:Se,erroredValues:oe,noDataMessage:Ke="",isLoadingMore:Be=!1,className:He="",isFloatingPortal:Ae=!0,onLoadMore:Fe=()=>{},onBlur:We=()=>{},onFocus:Oe=()=>{},onSelectionChange:W=()=>{},onValuesChange:O=()=>{},onOpenChange:A=()=>{},onKeyDown:_e=()=>{},...$e}=s,[j,$]=l.useState(p??y??!1),[Ze,Ue]=l.useState(!1),[ze,xe]=l.useState(!1),[ge,Ge]=l.useState(""),[me,Z]=l.useState(),[ke,ye]=l.useState([]),[M,ne]=l.useState([]),[X,Je]=l.useState([]),[V,Qe]=l.useState(null),[Xe,Ye]=k.useState("100%"),be=F(d),U=F(null),Y=F(null),ve=l.useRef(!1),Le=l.useMemo(()=>P.length?P:E,[P,E]),N=l.useMemo(()=>S!=null&&S.length?S:f,[S,f]),z=l.useMemo(()=>_!=null&&_.length?_:L,[_,L]),Ie=l.useMemo(()=>N&&(N==null?void 0:N.length)>0||!N&&!L,[N,L]),we=l.useMemo(()=>oe!=null&&oe.length?oe:Se,[oe,Se]),fe=l.useCallback(o=>{if(typeof o=="string")return o;let a=-1;return l.Children.map(o,c=>{if(!c)return c;if(l.isValidElement(c)){if(c.type===De){const g=c;if(!("value"in g.props))return l.cloneElement(g,{value:`${c.key}`||""})}const h=c;if(h.props.children){const g={children:fe(h.props.children)};return h.type===Ce&&(a++,g.index=a),l.cloneElement(h,{...g})}}return c})},[]);k.useEffect(()=>{var o;j&&Ye(r.width??((o=U==null?void 0:U.current)==null?void 0:o.clientWidth)??"100%")},[j,r.width,U]),k.useEffect(()=>{Qe(fe(m))},[m,fe]),l.useEffect(()=>{if(!ve.current){ve.current=!0;return}$(!!p),p||Z("")},[p]),l.useEffect(()=>{j||Z("")},[j]),l.useEffect(()=>{if(!V||!(z&&(z==null?void 0:z.length)>0||N&&N.length>0)){ne([]);return}const o=N??z??[];let a="";const c=[];for(const h of o){const g=ee(h,V);g&&(c.push({value:h.toString(),displayValue:g}),a=h.toString())}ne(c),Z(h=>h??a)},[V,z,N]);const le=l.useCallback(o=>{var a;if(!q){const c=[...M],h=c.findIndex(T=>T.value.toString()===o.value.toString());h===-1?c.push(o):c.splice(h,1),Ie&&ne([...c]);const g=c.map(T=>T.value);W==null||W(g),O==null||O(g),(a=Y.current)==null||a.focus()}},[q,M,Ie,W,O,Y]),et=l.useCallback(o=>{var c,h,g,T,ie,re,G,se;if(_e(o),!j)return;const a=(me||(M.length?(c=M[0])==null?void 0:c.value:""))??"";switch(o.key){case"ArrowUp":case"ArrowLeft":if(o.preventDefault(),a){const I=no(a,V,X),de=(I==null?void 0:I.props.value)??((h=I==null?void 0:I.key)==null?void 0:h.toString().replace(".$",""))??"";de&&Z(de)}else Z(((T=(g=Ee(V,X))==null?void 0:g.props.value)==null?void 0:T.toString())??"");break;case"ArrowDown":case"ArrowRight":if(o.preventDefault(),a){const I=lo(a,V,X),de=(I==null?void 0:I.props.value)??((ie=I==null?void 0:I.key)==null?void 0:ie.toString().replace(".$",""))??"";de&&Z(de)}else Z(((G=(re=Ne(V,X))==null?void 0:re.props.value)==null?void 0:G.toString())??"");break;case"Enter":if(o.preventDefault(),$(!0),a){const I=ee(a,V);I&&le({value:((se=I.props.value)==null?void 0:se.toString())||"",displayValue:I.props.textValue||I.props.children})}break;case"Escape":case"Tab":o.preventDefault(),$(!1),A(!1);break}},[j,me,V,M,X,le,A,_e]),je=()=>{var o;R||($(!0),A(!0),(o=Y.current)==null||o.focus())},tt=o=>{if(U.current){const a=o.target.value;if(Ge(a),$(!0),A(!0),a!==""){const c=document.createElement("div");c.style.position="absolute",c.style.top="0",c.style.left="-9999px",c.style.overflow="hidden",c.style.visibility="hidden",c.style.whiteSpace="nowrap",c.style.height="0",c.style.width="fit-content",c.style.maxWidth=`${U.current.clientWidth-62}px`,c.innerHTML=a.replace(/\s/g,"&nbsp;"),document.body.appendChild(c),o.target.focus(),o.target.style.width=`${c.clientWidth+4}px`,c.remove()}else o.target.style.width="4px"}},ot=()=>{const o=M.map(a=>J(a.displayValue));return o.length>0?e.jsx(e.Fragment,{children:o.join(", ")}):""},nt=k.useCallback(o=>a=>{a.stopPropagation(),a.preventDefault(),le(o)},[le]),lt=k.useCallback(o=>!!(we!=null&&we.some(a=>a.toString()===o)),[we]),it=(o,a,c,h)=>{var re;if(h===-1)return;const g=[...M];o.forEach(G=>{if(!q){const se=g.findIndex(I=>I.value.toString()===G.value.toString());se===-1?a&&g.push(G):a||g.splice(se,1)}});const T=new Set(ke);a?T.add(h):T.delete(h),ye([...T]),Ie&&ne([...g]);const ie=g.map(G=>G.value);W==null||W(ie),O==null||O(ie),(re=Y.current)==null||re.focus()},rt=k.useCallback(()=>{$(!1)},[]),st=k.useCallback(o=>{if(!j)switch(o.stopPropagation(),o.key){case"ArrowUp":case"ArrowDown":o.preventDefault(),$(!0),A==null||A(!0);break}},[A,j]),Re=()=>{setTimeout(()=>{var o;(o=Y.current)==null||o.focus()},0)},dt=k.useCallback(o=>{Ue(o)},[]),ct=u(n.multipleDropdownControl,j&&n.multipleDropdownControlIsOpen,w&&n.multipleDropdownControlIsErrored,R&&n.multipleDropdownControlIsDisabled,"cdg-multiple-dropdown-popover"),pt=u(n.multipleDropdownWrapper,C==="string"&&n.displayedValueString,C==="chip"&&n.displayedValueChip,K==="select"&&n.variantSelect,K==="combobox"&&n.variantCombobox,He,"cdg-multiple-dropdown");return e.jsx(ce,{css:t,childrenRef:be,children:e.jsxs("div",{...$e,ref:be,className:pt,onKeyDown:et,children:[e.jsxs(pe.Provider,{value:{isLoadingMore:Be,open:j,focusKey:me??"",selectedKeys:z??[],defaultSelectedKeys:N??[],disabledKeys:Le,searchValue:ge,selectedItems:M,labelId:`${i}-label`,setSelectedItems:ne,dropdownItemKeys:X,setDropdownItemKeys:Je,selectedSectionIndexes:ke,setSelectedSectionIndexes:ye,onItemClick:le,onSectionClick:it,onHeaderClick:Re,isPositioned:Ze},children:[Q&&e.jsxs("label",{onClick:je,htmlFor:i,id:`${i}-label`,children:[Q,D&&e.jsx("span",{children:"*"})]}),e.jsx(ut,{isOpen:j,onPositionedChange:dt,isFloatingPortal:Ae,anchor:e.jsxs("div",{role:"button",ref:U,onBlur:We,onFocus:Oe,onClick:je,className:ct,children:[e.jsxs("div",{className:u(n.multipleDropdownSelectedItemWrapper,"cdg-multiple-dropdown-seleted"),children:[M.length===0&&ge===""&&!j&&!ze&&e.jsx("p",{className:u(n.placeholderSelectedItemWrapper,"cdg-multiple-dropdown-seleted-placeholder"),children:ue}),C==="chip"&&M.length>0&&M.map(o=>e.jsx(at,{hasCloseButton:Le.findIndex(a=>a.toString()===o.value.toString())===-1,onCloseClick:nt(o),isErrored:lt(o.value.toString()),children:o.displayValue instanceof Array?o.displayValue:J(o.displayValue)},o.value)),C==="string"&&M.length>0?e.jsx("div",{className:u(n.itemListString,"cdg-multiple-dropdown-seleted-display"),children:H??ot()}):null,!R&&K==="combobox"&&e.jsx("input",{id:i,type:"text",ref:Y,value:ge,onKeyDown:st,onChange:tt,onBlur:()=>xe(!1),onFocus:()=>xe(!0),"aria-autocomplete":"list",role:"combobox","aria-required":D,"aria-invalid":w,"aria-expanded":j})]}),e.jsx("div",{className:u(n.multipleDropdownControlIcon,"cdg-multiple-dropdown-item-icon"),children:B})]}),css:{width:"100%"},direction:"bottom-left",onClose:rt,children:e.jsx("div",{className:u(n.dropdownPopover,"cdg-multiple-dropdown-list-wrapper"),onClick:Re,style:{...r,width:r.width??Xe},children:e.jsx(Te,{searchValue:"",isLoading:te,css:{maxHeight:x?`${x*40}px`:"16rem"},onLoadMore:Fe,noDataMessage:Ke,children:V})})})]}),w&&b&&e.jsx("div",{className:u(n.dropdownHelperText,w&&n.dropdownHelperIsErrored,"cdg-multiple-dropdown-error-message"),children:b}),v&&e.jsx("div",{className:u(n.dropdownHelperText,"cdg-multiple-dropdown-helper-text"),children:v})]})})});Pe.__docgenInfo={description:"",methods:[],displayName:"Icon"};ae.__docgenInfo={description:"",methods:[],displayName:"MultipleDropdown"};ae.Item=De;ae.Header=he;ae.Section=Ce;ae.displayName="MultipleDropdown";export{ae as M};

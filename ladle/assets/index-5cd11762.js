import{s as f,R as n,j as u,a as k}from"./index-bbce26b5.js";import{p as h}from"./pick-child-6b284e39.js";import{u as m}from"./use-dom-ref-b98156a9.js";import{P as B}from"./index-666f66b8.js";const q=f("div",{appearance:"none",border:"none",boxSizing:"border-box",margin:"0px",padding:"0px",paddingLeft:"$4",paddingRight:"$4",width:"100%",height:"32.143%",display:"flex",justifyContent:"space-between",alignItems:"center",variants:{h5:{true:{paddingLeft:"$6",paddingRight:"$6"},false:{}}}}),L=f("h3",{appearance:"none",border:"none",boxSizing:"border-box",margin:"0px",paddingTop:"$4",paddingBottom:"$4",width:"80%",height:"100%",fontFamily:"$sans",fontWeight:"$semibold",fontSize:"$header3",lineHeight:"$normal",color:"$primaryText",variants:{h5:{true:{fontSize:"$body1",paddingTop:"$6",paddingBottom:0,fontWeight:"$bold",color:"$grayShades100"},false:{}}}}),O=f("div",{appearance:"none",border:"none",boxSizing:"border-box",margin:"0px",padding:"$4",width:"100%",flex:"1",fontFamily:"$sans",fontWeight:"$normal",fontSize:"$body2",lineHeight:"$normal",color:"$secondaryText",borderTop:"1px solid rgba(0, 0, 0, 0.1)",borderBottom:"1px solid rgba(0, 0, 0, 0.1)",variants:{h5:{true:{padding:"$6",border:"none"},false:{}}}}),K=f("div",{appearance:"none",border:"none",boxSizing:"border-box",margin:"0px",padding:"$4",backgroundColor:"$primaryBg",width:"100%",display:"flex",flexDirection:"row",justifyContent:"flex-end",gap:"$2"}),V=f("div",{appearance:"none",border:"none",boxSizing:"border-box",margin:"0px",background:"#00000066",position:"fixed",top:"0",left:"0",width:"100vw",height:"100vh",zIndex:"49",display:"flex",justifyContent:"center",alignItems:"center"}),G=f("div",{appearance:"none",border:"none",boxSizing:"border-box",background:"transparent",margin:"0px",padding:"0px",width:"$4",height:"$4",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",color:"$primaryText","& *":{width:"100%",height:"100%"},"&:focus-visible":{outline:"2px solid $cdgBlue60"}}),J=f("div",{all:"unset",maxHeight:"100%",maxWidth:"100%",overflow:"auto",display:"flex",flexDirection:"column"}),Q=f("div",{all:"unset",appearance:"none",border:"none",boxSizing:"border-box",margin:"0px",zIndex:"50",overflow:"hidden",width:"$120",minHeight:"$56",maxHeight:"calc(100vh - 40px)",height:"fit-content",display:"flex",flexDirection:"column",backgroundColor:"$background",boxShadow:"0px 0.6px 1.8px rgba(0, 0, 0, 0.1), 0px 3.2px 7.2px rgba(0, 0, 0, 0.13)",borderRadius:"$lg",variants:{size:{sm:{width:"$75"},md:{width:"$125"},lg:{width:"$200"}},h5:{true:{minHeight:"$20",maxWidth:"calc(100vw - 32px)",borderRadius:"16px"},false:{}}},defaultVariants:{size:"md"}}),U=n.forwardRef((i,a)=>{const{children:r,css:d={},...o}=i,e=m(a);return u(K,{css:d,ref:e,...o,children:r})}),C=U,X=n.forwardRef((i,a)=>{const{children:r,css:d={},onClose:o,...e}=i,l=m(a);return u(G,{css:d,ref:l,onClick:()=>o==null?void 0:o(),tabIndex:0,...e,children:r})}),N=X,Y=n.forwardRef((i,a)=>{const{children:r,css:d={},h5:o=!1,...e}=i,l=m(a);return u(O,{h5:o,css:d,ref:l,...e,children:r})}),j=Y,Z=n.forwardRef((i,a)=>{const{children:r,css:d={},h5:o=!1,...e}=i,l=m(a);return u(L,{h5:o,css:d,ref:l,...e,children:r})}),H=Z,_=n.forwardRef((i,a)=>{const{css:r={},children:d,isOpen:o=!1,handleClose:e,id:l,size:b="md",...R}=i,v=m(a),w=m(null),{child:y}=h(d,s),p=c=>{c.stopPropagation(),c.preventDefault(),e==null||e()};return u(B,{open:o,children:u(V,{css:r,ref:w,onClick:c=>p==null?void 0:p(c),className:"modal-wrapper",...R,children:y&&n.cloneElement(y,{onClose:()=>e==null?void 0:e(),ref:v,size:b,handleClose:()=>e==null?void 0:e(),triggerId:l})})})}),ee=_,te=n.forwardRef((i,a)=>{const{h5:r=!1,css:d={},children:o,handleClose:e,onClick:l,onKeyDown:b,size:R="md",triggerId:v,...w}=i,y={size:R},p=m(a),c=n.useRef(null),I=n.useRef(null),$=n.useRef(null),z=n.useRef(null),{child:W}=h(o,H),{child:F}=h(o,j),{child:P}=h(o,C),{child:D}=h(o,N),S=t=>{t.stopPropagation(),l==null||l()},T=t=>{var g,x;t.stopPropagation(),b==null||b(t),t.key==="Escape"&&(e==null||e()),document.activeElement===$.current&&t.key==="Tab"&&!t.shiftKey&&(t.preventDefault(),(g=I.current)==null||g.focus()),document.activeElement===c.current&&t.key==="Tab"&&t.shiftKey&&(t.preventDefault(),(x=$.current)==null||x.focus()),document.activeElement===z.current&&t.key==="Enter"&&(t.preventDefault(),e==null||e())};return n.useEffect(()=>{var E;const t=Array.from(((E=p.current)==null?void 0:E.querySelectorAll(`
        button,
        a[href],
        input[type="button"],
        input[type="submit"],
        input[type="text"],
        textarea,
        select,
        input[type="checkbox"],
        input[type="radio"],
        [tabindex]:not([tabindex="-1"])
      `))??[]),g=Array.from((document==null?void 0:document.querySelectorAll('[role="dialog"]'))??[]);c.current=t[0]??null,I.current=t[1]??null,$.current=t[t.length-1]??null,c.current&&c.current.focus();const x=g.findIndex(M=>M===p.current);return()=>{var M;if(g.length>1&&x>0&&g[x-1])(M=g[x-1])==null||M.focus();else{const A=document==null?void 0:document.querySelector(`[data-target= ${v}]`);A&&A.focus()}}},[p,c,$]),u(Q,{css:d,ref:p,tabIndex:0,role:"dialog","aria-modal":!0,h5:r,onClick:t=>S==null?void 0:S(t),onKeyDown:t=>T==null?void 0:T(t),className:"cdg-modal-container",...w,...y,children:k(J,{tabIndex:0,className:"cdg-modal-content",children:[k(q,{h5:r,children:[W,D&&n.cloneElement(D,{onClose:()=>e==null?void 0:e(),ref:z})]}),F,P]})})}),s=te;s.Trigger=ee;s.Title=H;s.Description=j;s.Actions=C;s.CloseIcon=N;s.Trigger.displayName="Modal.Trigger";s.Title.displayName="Modal.Title";s.Description.displayName="Modal.Description";s.Actions.displayName="Modal.Actions";s.displayName="Modal";export{s as M};

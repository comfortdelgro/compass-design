import{s as N,R as G,r as o,a as h,j as e,F as J}from"./index-aa99d63d.js";import"./index-de92d884.js";import{u as L}from"./use-dom-ref-28e7322f.js";import{B as c}from"./button-3ffb1059.js";import"./module-b4c4ae47.js";import"./module-75231a1c.js";import"./module-4e13f274.js";import"./_define_property-1764bf98.js";import"./module-eea2ddde.js";const K=N("div",{display:"inline-block"}),Q=N("div",{display:"block",position:"absolute",zIndex:"60","&.bottom-center":{transform:"translateX(-50%)"},"&.top-center":{transform:"translateX(-50%)"}}),U=10,V=G.forwardRef((T,b)=>{const{children:w,anchor:y,isOpen:O,offset:m=U,css:I={},direction:v="bottom-left",attachToElement:P,onClose:E=()=>{},...S}=T,[f,B]=o.useState({top:"0",right:"auto",bottom:"auto",left:"0"}),i=L(b),r=L();o.useEffect(()=>{if(r.current&&i.current)if(O){const d=P||document.body;g(),d.appendChild(r.current)}else r.current.parentElement&&r.current.parentElement.removeChild(r.current)},[O]),o.useEffect(()=>{r.current&&i.current&&g()},[r.current,i.current]);const g=()=>{if(i.current&&r.current){const d=P||document.body;d.style.position="relative";const t={...f},a=i.current.children[0]||i.current,u=a.offsetParent||d,s=i.current.getBoundingClientRect();switch(v){case"bottom-left":default:t.top=a.offsetTop+s.height+m+"px",t.left=a.offsetLeft+"px",t.bottom="auto",t.right="auto";break;case"bottom-center":t.top=a.offsetTop+s.height+m+"px",t.left=a.offsetLeft+s.width/2+"px",t.bottom="auto",t.right="auto";break;case"bottom-right":t.top=a.offsetTop+s.height+m+"px",t.left="auto",t.bottom="auto",t.right=u.clientWidth-a.offsetLeft-s.width+"px";break;case"top-left":t.top="auto",t.left=a.offsetLeft+"px",t.bottom=window.innerHeight-s.bottom+s.height+m+"px",t.right="auto";break;case"top-center":t.top="auto",t.left=a.offsetLeft+s.width/2+"px",t.bottom=window.innerHeight-s.bottom+s.height+m+"px",t.right="auto";break;case"top-right":t.top="auto",t.left="auto",t.bottom=u.clientHeight-a.offsetTop+m+"px",t.right=u.clientWidth-a.offsetLeft-s.width+"px";break}B(t)}},C=()=>{E()},x=o.useCallback(()=>{requestAnimationFrame(()=>{r.current&&!r.current.contains(document.activeElement)&&r.current&&!r.current.contains(document.activeElement)&&C()})},[i,C]);return h(K,{className:"cdg-popover",ref:i,css:I,...S,onBlur:x,tabIndex:0,children:[y,e(Q,{ref:r,className:`cdg-popover-content ${v}`,style:{top:f.top,left:f.left,right:f.right,bottom:f.bottom},onBlur:x,tabIndex:0,children:w})]})}),l=V,p=()=>e("div",{className:"popover-content",style:{padding:"10px",background:"#ffffff",boxShadow:"0 2px 5px rgba(0,0,0,0.2)",borderRadius:"5px",width:"300px",height:"200px"},children:"Popover content here"}),ae=()=>{const[T,b]=o.useState(!1),[w,y]=o.useState(!1),[O,m]=o.useState(!1),[I,v]=o.useState(!1),[P,E]=o.useState(!1),[S,f]=o.useState(!1),[B,i]=o.useState(!1),[r,g]=o.useState(!1),[C,x]=o.useState(!1),[d,t]=o.useState(!1),[a,u]=o.useState(!1),[k,s]=o.useState(!1),n=L(),R=()=>{b(!0)},j=()=>{y(!0)},F=()=>{m(!0)},H=()=>{v(!0)},W=()=>{E(!0)},A=()=>{f(!0)},X=()=>{i(!0)},$=()=>{g(!0)},q=()=>{x(!0)},z=()=>{t(!0)},D=()=>{u(!0)},M=()=>{s(!0)};return h(J,{children:[h("div",{className:"popover-sample",ref:n,children:[e(l,{isOpen:T,anchor:e(c,{variant:"primary",onPress:R,children:"Bottom left"}),attachToElement:n.current&&n.current.parentElement,onClose:()=>{b(!1)},children:e(p,{})}),e(l,{isOpen:P,anchor:e(c,{variant:"primary",onPress:W,children:"Bottom center"}),direction:"bottom-center",attachToElement:n.current&&n.current.parentElement,onClose:()=>{E(!1)},style:{marginLeft:"120px"},children:e(p,{})})]}),e("div",{className:"popover-sample",style:{display:"flex",justifyContent:"flex-end"},children:e(l,{isOpen:w,anchor:e(c,{variant:"primary",onPress:j,children:"Bottom right"}),direction:"bottom-right",attachToElement:n.current&&n.current.parentElement,onClose:()=>{y(!1)},children:e(p,{})})}),h("div",{className:"popover-sample",style:{display:"flex",alignItems:"flex-end",justifyContent:"flex-start",height:"600px"},children:[e(l,{isOpen:O,anchor:e(c,{variant:"primary",onPress:F,children:"Top left"}),direction:"top-left",attachToElement:n.current&&n.current.parentElement,onClose:()=>{m(!1)},children:e(p,{})}),e(l,{isOpen:S,anchor:e(c,{variant:"primary",onPress:A,children:"Top center"}),direction:"top-center",attachToElement:n.current&&n.current.parentElement,onClose:()=>{f(!1)},style:{marginLeft:"120px"},children:e(p,{})}),e(l,{isOpen:I,anchor:e(c,{variant:"primary",onPress:H,children:"Top right"}),direction:"top-right",attachToElement:n.current&&n.current.parentElement,onClose:()=>{v(!1)},style:{marginLeft:"120px"},children:e(p,{})})]}),h("div",{className:"popover-sample",style:{display:"flex",alignItems:"flex-end",justifyContent:"flex-start",height:"600px"},children:[e(l,{isOpen:B,anchor:e(c,{variant:"primary",onPress:X,children:"Bottom left"}),direction:"bottom-left",attachToElement:n.current&&n.current.parentElement,onClose:()=>{i(!1)},children:e(p,{})}),e(l,{isOpen:r,anchor:e(c,{variant:"primary",onPress:$,children:"Bottom center"}),direction:"bottom-center",attachToElement:n.current&&n.current.parentElement,onClose:()=>{g(!1)},style:{marginLeft:"120px"},children:e(p,{})}),e(l,{isOpen:C,anchor:e(c,{variant:"primary",onPress:q,children:"Bottom right"}),direction:"bottom-right",attachToElement:n.current&&n.current.parentElement,onClose:()=>{x(!1)},style:{marginLeft:"120px"},children:e(p,{})})]}),h("div",{className:"popover-sample",style:{display:"flex",alignItems:"center",justifyContent:"flex-start",height:"800px"},children:[e(l,{isOpen:d,anchor:e(c,{variant:"primary",onPress:z,children:"Bottom left"}),direction:"bottom-left",attachToElement:n.current&&n.current.parentElement,onClose:()=>{t(!1)},children:e(p,{})}),e(l,{isOpen:a,anchor:e(c,{variant:"primary",onPress:D,children:"Bottom center"}),direction:"bottom-center",attachToElement:n.current&&n.current.parentElement,onClose:()=>{u(!1)},style:{marginLeft:"120px"},children:e(p,{})}),e(l,{isOpen:k,anchor:e(c,{variant:"primary",onPress:M,children:"Bottom right"}),direction:"bottom-right",attachToElement:n.current&&n.current.parentElement,onClose:()=>{s(!1)},style:{marginLeft:"120px"},children:e(p,{})})]})]})};typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{ae as Popovers};

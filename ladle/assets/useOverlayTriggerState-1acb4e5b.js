import{r as b,s as U,R as j,j as N,a as G,b as Ot}from"./index-ad2ef031.js";import{u as ie}from"./use-dom-ref-7a1e24d2.js";import{u as le,c as Ke,a7 as kt,a8 as Ft,a9 as Lt,aa as It,a as Nt,r as $e,f as Vt,ab as je,d as Bt,D as me,e as Ze,ac as te,ad as At,ae as Ht,h as Ce,a0 as we,af as Wt,ag as oe,C as ze,L as Kt,M as jt,G as Zt,i as zt,ah as Gt,ai as Ut,a6 as ce,aj as qt,b as Yt,ak as _t,al as Xt,am as Jt,an as Qt,x as er}from"./useCalendarState-636c6f66.js";import{u as Te,a as Re}from"./useEvent-73cb52e2.js";import{$ as tr}from"./import-103c32e0.js";import{$ as rr,a as nr,b as or,c as Pe}from"./real-module-7796e342.js";import{a as ar}from"./calendar-8473b66a.js";import{$ as ir,a as lr,b as J,c as sr,d as cr,e as ur,f as dr,g as fr,h as mr,i as pr,j as br,k as Ee,l as Ge,m as hr,n as Me,o as $r}from"./import-9b1a92f8.js";function vr(e,t,r){const{direction:n}=le(),o=b.useMemo(()=>Ke(t),[t]),i=a=>{if(a.altKey&&(a.key==="ArrowDown"||a.key==="ArrowUp")&&"setOpen"in e&&(a.preventDefault(),a.stopPropagation(),e.setOpen(!0)),!r)switch(a.key){case"ArrowLeft":a.preventDefault(),a.stopPropagation(),n==="rtl"?o.focusNext():o.focusPrevious();break;case"ArrowRight":a.preventDefault(),a.stopPropagation(),n==="rtl"?o.focusPrevious():o.focusNext();break}},f=()=>{var p;let a=(p=window.event)==null?void 0:p.target;const s=Ft(t.current,{tabbable:!0});if(a&&(s.currentNode=a,a=s.previousNode()),!a){let $;do $=s.lastChild(),$&&(a=$);while($)}for(;a!=null&&a.hasAttribute("data-placeholder");){const $=s.previousNode();if($&&$.hasAttribute("data-placeholder"))a=$;else break}a&&a.focus()},{pressProps:l}=kt({preventFocusOnPress:!0,allowTextSelectionOnPress:!0,onPressStart(a){a.pointerType==="mouse"&&f()},onPress(a){a.pointerType!=="mouse"&&f()}});return{...l,onKeyDown:i}}function gr(e){const{description:t,errorMessage:r,validationState:n}=e;let{labelProps:o,fieldProps:i}=Lt(e);const f=Te([!!t,!!r,n]),l=Te([!!t,!!r,n]);return i={...i,"aria-describedby":[f,l,e["aria-describedby"]].filter(Boolean).join(" ")||void 0},{labelProps:o,fieldProps:i,descriptionProps:{id:f},errorMessageProps:{id:l}}}function yr(e){const t=b.useRef({isFocused:!1,onBlur:e,observer:null});return t.current.onBlur=e,b.useLayoutEffect(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]),b.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;const n=r.target,o=i=>{var f,l;t.current.isFocused=!1,n.disabled&&((l=(f=t.current).onBlur)==null||l.call(f,new It("blur",i))),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};n.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{var i;t.current.isFocused&&n.disabled&&((i=t.current.observer)==null||i.disconnect(),n.dispatchEvent(new FocusEvent("blur")),n.dispatchEvent(new FocusEvent("focusout",{bubbles:!0})))}),t.current.observer.observe(n,{attributes:!0,attributeFilter:["disabled"]})}},[])}function xr(e){const{isDisabled:t,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:o}=e,i=b.useRef({isFocusWithin:!1}),f=b.useCallback(s=>{i.current.isFocusWithin&&!s.currentTarget.contains(s.relatedTarget)&&(i.current.isFocusWithin=!1,r&&r(s),o&&o(!1))},[r,o,i]),l=yr(f),a=b.useCallback(s=>{!i.current.isFocusWithin&&document.activeElement===s.target&&(n&&n(s),o&&o(!0),i.current.isFocusWithin=!0,l(s))},[n,o,l]);return t?{focusWithinProps:{onFocus:null,onBlur:null}}:{focusWithinProps:{onFocus:a,onBlur:f}}}function wr(e,t,r){const{labelProps:n,fieldProps:o,descriptionProps:i,errorMessageProps:f}=gr({...e,labelElementType:"span"}),{focusWithinProps:l}=xr({...e,onBlurWithin:P=>{t.confirmPlaceholder(),e.onBlur&&e.onBlur(P)},onFocusWithin:e.onFocus,onFocusWithinChange:e.onFocusChange}),a=t.maxGranularity==="hour"?"selectedTimeDescription":"selectedDateDescription",s=t.value?a:"",p=Nt(s),$=e[$e]==="presentation"?o["aria-describedby"]:[p["aria-describedby"],o["aria-describedby"]].filter(Boolean).join(" ")||void 0,u=e[Vt],v=b.useMemo(()=>u||Ke(r),[u,r]),c=vr(t,r,e[$e]==="presentation");je.set(t,{ariaLabel:"",ariaLabelledBy:[e["aria-labelledby"],n.id].filter(Boolean).join(" ")||"",focusManager:v});const y=b.useRef(e.autoFocus);let w;e[$e]==="presentation"?w={role:"presentation"}:w={...o,role:"group","aria-disabled":e.isDisabled||void 0,"aria-describedby":$},b.useEffect(()=>{y.current&&v.focusFirst(),y.current=!1},[v]);const x=Bt(e);return{labelProps:{...n,onClick:()=>{v.focusFirst()}},fieldProps:{...x,...w,...c,...l,onKeyDown(P){e.onKeyDown&&e.onKeyDown(P)},onKeyUp(P){e.onKeyUp&&e.onKeyUp(P)}},descriptionProps:i,errorMessageProps:f}}function Pr(e,t){const r=b.useRef(e);e&&(r.current=e),e=r.current;const{locale:n}=le(),o=b.useMemo(()=>new me(n),[n]),i=b.useMemo(()=>o.resolvedOptions(),[o]),f=e&&"timeZone"in e?e.timeZone:i.timeZone;if(t=t||(e&&"minute"in e?"minute":"day"),e&&!(t in e))throw new Error("Invalid granularity "+t+" for value "+e.toString());return[t,f]}const ue={year:!0,month:!0,day:!0,hour:!0,minute:!0,second:!0,dayPeriod:!0,era:!0},Oe={year:5,month:2,day:7,hour:2,minute:15,second:15},Er={dayperiod:"dayPeriod"};function Dr(e){const{locale:t,createCalendar:r,hideTimeZone:n,isDisabled:o,isReadOnly:i,isRequired:f}=e,l=e.value||e.defaultValue||e.placeholderValue,[a,s]=Pr(l,e.granularity),p=s||"UTC";if(l&&!(a in l))throw new Error("Invalid granularity "+a+" for value "+l.toString());const $=b.useMemo(()=>new me(t),[t]),u=b.useMemo(()=>r($.resolvedOptions().calendar),[r,$]),v=d=>{e.onChange&&(d!=null&&d.year&&d.year<oe?e.onChange(null):e.onChange(d))},[c,y]=Ze(e.value,e.defaultValue,v),w=b.useRef(c);b.useEffect(()=>{w.current!==c&&(c===null&&Object.keys(g).length===Object.keys(k).length&&R===void 0&&(g={},m(g),S(te(e.placeholderValue,a,u,s)),C(void 0)),w.current=c)},[c]);const x=b.useMemo(()=>At(c,u),[c,u]),[P,S]=b.useState(()=>te(e.placeholderValue,a,u,s)),O=x||P,T=u.identifier==="gregory"&&(O==null?void 0:O.era)==="BC",L=b.useMemo(()=>({granularity:a,maxGranularity:e.maxGranularity??"year",timeZone:s,hideTimeZone:n,hourCycle:e.hourCycle,showEra:T}),[e.maxGranularity,a,e.hourCycle,s,n,T]),[R,C]=b.useState(void 0),{isReset:A,setIsReset:D}=Ht(),Q=()=>{y(null),g={},m(g),C(void 0)};b.useEffect(()=>{A===!0&&(Q(),D==null||D(!1))},[A]);const q=b.useMemo(()=>Ce({},L),[L]),K=b.useMemo(()=>new me(t,q),[t,q]),V=b.useMemo(()=>K.resolvedOptions(),[K]),k=b.useMemo(()=>K.formatToParts(new Date).filter(d=>ue[d.type]).reduce((d,M)=>(d[M.type]=!0,d),{}),[K]);let[g,m]=b.useState(()=>e.value||e.defaultValue?{...k}:{});const E=b.useRef(u.identifier);b.useEffect(()=>{u.identifier!==E.current&&(E.current=u.identifier,S(d=>Object.keys(g).length>0?we(d,u):te(e.placeholderValue,a,u,s)))},[u,a,g,s,e.placeholderValue]),c&&Object.keys(g).length<Object.keys(k).length&&(g={...k},m(g)),c==null&&Object.keys(g).length===Object.keys(k).length&&R===!1&&!A&&(g={},m(g),S(te(e.placeholderValue,a,u,s)),C(void 0));let h=x&&Object.keys(g).length>=Object.keys(k).length?x:P,F=d=>{e.isDisabled||e.isReadOnly||(Object.keys(g).length>=Object.keys(k).length&&(d=we(d,(l==null?void 0:l.calendar)||new Zt),y(d)),S(d))};const I=b.useMemo(()=>h==null?void 0:h.toDate(p),[h,p]);let Y=b.useMemo(()=>K.formatToParts(I).map(d=>{let M=ue[d.type];d.type==="era"&&u.getEras().length===1&&(M=!1);let B=ue[d.type]&&!g[d.type],ee=ue[d.type]?Wt(d.type,d.value):null;return d.type==="year"&&(B=R?!1:B),{type:Er[d.type]||d.type,text:B?ee:d.value,...Sr(h,d.type,V),isPlaceholder:B,placeholder:ee,isEditable:M}}),[I,g,K,V,h,u,t]);k.era&&g.year&&!g.era?(g.era=!0,m({...g})):!k.era&&g.era&&(delete g.era,m({...g}));const se=d=>{g[d]=!0,d==="year"&&k.era&&(g.era=!0),m({...g})},be=d=>{g[d]=!1,m({...g})},z=(d,M)=>{g[d]?F(Cr(h,d,M,V)):(se(d),Object.keys(g).length>=Object.keys(k).length&&F(h))};function he(){const d=Object.values(g),M=Object.values(k);return c||d.length===0?!0:d.length!==M.length?!1:!!(d.every(B=>!B)&&!f||d.every(B=>B))}const Mt=(()=>e.validationState||(zt(x,e.minValue,e.maxValue)||null)||!c&&(P!=null&&P.year)&&P.year<oe&&R!==void 0||!he()?"invalid":"valid")();return{value:x,dateValue:I,calendar:u,setValue:F,segments:Y,dateFormatter:K,validationState:Mt,granularity:a,maxGranularity:e.maxGranularity??"year",isDisabled:!!o,isReadOnly:!!i,isRequired:!!f,increment(d){z(d,1)},decrement(d){z(d,-1)},incrementPage(d){z(d,Oe[d]||1)},decrementPage(d){z(d,-(Oe[d]||1))},setSegment(d,M){d==="year"&&M<oe?(be(d),C(!0),S(new ze(M,(h==null?void 0:h.month)??0,(h==null?void 0:h.day)??0))):(d==="year"&&M>=oe&&C(!1),se(d)),F(Tr(h,d,parseInt(M),V))},confirmPlaceholder(){if(e.isDisabled||e.isReadOnly)return;let d=Object.keys(g),M=Object.keys(k);d.length===M.length-1&&k.dayPeriod&&!g.dayPeriod&&(g={...k},m(g),F(h==null?void 0:h.copy()))},clearSegment(d){d==="year"&&C(void 0),delete g[d],m({...g});let M=te(e.placeholderValue,a,u,s),B=h;if(d==="dayPeriod"&&"hour"in h&&"hour"in M){let ee=h.hour>=12,Se=M.hour>=12;ee&&!Se?B=h.set({hour:h.hour-12}):!ee&&Se&&(B=h.set({hour:h.hour+12}))}else d in h&&(B=h==null?void 0:h.set({[d]:M==null?void 0:M[d]}));y(null),F(B)},formatValue(d){if(!x)return"";const M=Ce(d,L);return new me(t,M).format(I)}}}function Sr(e,t,r){switch(t){case"era":{let n=e.calendar.getEras();return{value:n.indexOf(e.era),minValue:0,maxValue:n.length-1}}case"year":return{value:e.year,minValue:oe,maxValue:e.calendar.getYearsInEra(e)};case"month":return{value:e.month,minValue:jt(e),maxValue:e.calendar.getMonthsInYear(e)};case"day":return{value:e.day,minValue:Kt(e),maxValue:e.calendar.getDaysInMonth(e)}}if("hour"in e)switch(t){case"dayPeriod":return{value:e.hour>=12?12:0,minValue:0,maxValue:12};case"hour":if(r.hour12){let n=e.hour>=12;return{value:e.hour,minValue:n?12:0,maxValue:n?23:11}}return{value:e.hour,minValue:0,maxValue:23};case"minute":return{value:e.minute,minValue:0,maxValue:59};case"second":return{value:e.second,minValue:0,maxValue:59}}return{}}function Cr(e,t,r,n){switch(t){case"era":case"year":case"month":case"day":return e.cycle(t,r,{round:t==="year"})}if("hour"in e)switch(t){case"dayPeriod":{let o=e.hour,i=o>=12;return e.set({hour:i?o-12:o+12})}case"hour":case"minute":case"second":return e.cycle(t,r,{round:t!=="hour",hourCycle:n.hour12?12:24})}}function Tr(e,t,r,n){switch(t){case"day":case"month":case"year":case"era":return e.set({[t]:r})}if("hour"in e)switch(t){case"dayPeriod":{let o=e.hour,i=o>=12;return r>=12===i?e:e.set({hour:i?o-12:o+12})}case"hour":if(n.hour12){let i=e.hour>=12;!i&&r===12&&(r=0),i&&r<12&&(r+=12)}case"minute":case"second":return e.set({[t]:r})}}const Ue=U("div",{color:"$gray50",fontSize:"$body3",fontWeight:"$semibold",textTransform:"uppercase",letterSpacing:"1px","&:focus":{boxShadow:"none"},"&:focus-visible":{padding:"$0_5 0",outline:"none",boxShadow:"none",color:"$whiteText !important",backgroundColor:"$cdgBlue"},"&.number":{color:"$primaryText"}}),Rr=U("div",{display:"flex",flexDirection:"column",justifyContent:"flex-end","& .date-field-input:focus-within":{border:"1px solid $cdgBlue100",borderRadius:"$md"},"& .date-field-label":{fontSize:"$label1",fontWeight:"$semibold",marginBottom:"$2",display:"inline-block",width:"100%",span:{marginLeft:"$1",color:"$danger"}},"& .date-field-input":{minWidth:"$49",height:"$11",display:"flex",alignItems:"center",padding:"0 0 0 $4",backgroundColor:"$background",border:"1px solid $gray30",borderRadius:"$md"},"& .date-field-input.mobile:active":{backgroundColor:"$gray10"},"& .toggle-calendar-button":{marginLeft:"auto"},"& .toggle-calendar-button .toggle-calendar-icon":{width:"$3",height:"$3"},variants:{isDisabled:{true:{"& .date-field-input":{backgroundColor:"$gray20",cursor:"not-allowed !important","*":{color:"$disabledText",cursor:"not-allowed !important"}},[`& ${Ue}`]:{color:"$disabledText"}}},isInvalid:{true:{"& .date-field-input":{borderColor:"$danger"}}}}}),ve=U("span",{variants:{isError:{true:{color:"$danger"}},isText:{true:{fontSize:"$label2"}}}}),Mr=U("button",{border:"none",margin:"0",width:"auto",overflow:"visible",background:"transparent",color:"inherit",font:"inherit",lineHeight:"normal",WebkitFontSmoothing:"inherit",MozOsxFontSmoothing:"inherit",WebkitAppearance:"none",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",padding:"$2 $4","&:focus":{boxShadow:"none"},"&:focus-visible":{outline:"2px solid $cdgBlue80",borderRadius:"2px"}}),ke=U("div",{fontSize:"$label2",fontWeight:"$medium",transition:"$default",marginTop:"$1",color:"$gray70",variants:{error:{true:{color:"$danger"}}}}),Or=U("svg",{color:"$primaryText"});function kr(){const{locale:e}=le();return b.useMemo(()=>{try{return new Intl.DisplayNames(e,{type:"dateTimeField"})}catch{return new Fr(e)}},[e])}class Fr{constructor(t){this.locale=t,this.dictionary=new rr(Gt)}of(t){return this.dictionary.getStringForLocale(t,this.locale)}}function Lr(e){const t=b.useRef();let{value:r,textValue:n,minValue:o,maxValue:i,isDisabled:f,isReadOnly:l,isRequired:a,onIncrement:s,onIncrementPage:p,onDecrement:$,onDecrementPage:u,onDecrementToMin:v,onIncrementToMax:c}=e;const y=b.useRef(e);y.current=e;const w=()=>clearTimeout(t.current);b.useEffect(()=>()=>w(),[]);let x=D=>{if(!(D.ctrlKey||D.metaKey||D.shiftKey||D.altKey||l)){switch(D.key){case"PageUp":if(p){D.preventDefault(),p();break}break;case"ArrowUp":case"Up":s&&(D.preventDefault(),s());break;case"PageDown":if(u){D.preventDefault(),u();break}break;case"ArrowDown":case"Down":$&&(D.preventDefault(),$());break;case"Home":v&&(D.preventDefault(),v());break;case"End":c&&(D.preventDefault(),c());break}return null}},P=b.useRef(!1),S=()=>{P.current=!0},O=()=>{P.current=!1};n=n===""?"Empty":(n||`${r}`).replace("-","−");const T=b.useCallback(D=>{w(),y.current.onIncrement(),t.current=window.setTimeout(()=>{(isNaN(i)||isNaN(r)||r<i)&&T(60)},D)},[s,i,r]),L=b.useCallback(D=>{w(),y.current.onDecrement(),t.current=window.setTimeout(()=>{(isNaN(o)||isNaN(r)||r>o)&&L(60)},D)},[$,o,r]);let R=D=>{D.preventDefault()},{addGlobalListener:C,removeAllGlobalListeners:A}=Ut();return{spinButtonProps:{role:"spinbutton","aria-valuenow":isNaN(r)?null:r,"aria-valuetext":n,"aria-valuemin":o,"aria-valuemax":i,"aria-disabled":f||null,"aria-readonly":l||null,"aria-required":a||null,onKeyDown:x,onFocus:S,onBlur:O},incrementButtonProps:{onPressStart:()=>{T(400),C(window,"contextmenu",R)},onPressEnd:()=>{w(),A()},onFocus:S,onBlur:O},decrementButtonProps:{onPressStart:()=>{L(400),C(window,"contextmenu",R)},onPressEnd:()=>{w(),A()},onFocus:S,onBlur:O}}}function Ir(e,t,r){const n=b.useRef(""),{locale:o}=le(),i=kr();let{ariaLabel:f,ariaLabelledBy:l,ariaDescribedBy:a,focusManager:s}=je.get(t),p=e.isPlaceholder?"":e.text;const $=b.useMemo(()=>t.dateFormatter.resolvedOptions(),[t.dateFormatter]),u=ce({month:"long",timeZone:$.timeZone}),v=ce({hour:"numeric",hour12:$.hour12,timeZone:$.timeZone});if(e.type==="month"&&!e.isPlaceholder){const m=u.format(t.dateValue);p=m!==p?`${p} – ${m}`:m}else e.type==="hour"&&!e.isPlaceholder&&(p=v.format(t.dateValue));const{spinButtonProps:c}=Lr({value:e.value,textValue:p,minValue:e.minValue,maxValue:e.maxValue,isDisabled:!!t.isDisabled,isReadOnly:t.isReadOnly||!e.isEditable,isRequired:!!t.isRequired,onIncrement:()=>{n.current="",t.increment(e.type)},onDecrement:()=>{n.current="",t.decrement(e.type)},onIncrementPage:()=>{n.current="",t.incrementPage(e.type)},onDecrementPage:()=>{n.current="",t.decrementPage(e.type)},onIncrementToMax:()=>{n.current="",t.setSegment(e.type,e.maxValue)},onDecrementToMin:()=>{n.current="",t.setSegment(e.type,e.minValue)}}),y=b.useMemo(()=>new tr(o,{maximumFractionDigits:0}),[o]),w=()=>{if(y.isValidPartialNumber(e.text)&&!t.isReadOnly&&!e.isPlaceholder){const m="";t.clearSegment(e.type),n.current=m}else e.type==="dayPeriod"&&t.clearSegment(e.type)},x=m=>{var E;if(m.key==="a"&&(Xt()?m.metaKey:m.ctrlKey)&&m.preventDefault(),!(m.ctrlKey||m.metaKey||m.shiftKey||m.altKey))switch(m.key){case"Backspace":case"Delete":{m.preventDefault(),m.stopPropagation(),w();break}default:{(E=c.onKeyDown)==null||E.call(c,m);break}}},{startsWith:P}=ar({sensitivity:"base"}),S=ce({hour:"numeric",hour12:!0}),O=b.useMemo(()=>{var E;const m=new Date;return m.setHours(0),(E=S.formatToParts(m).find(h=>h.type==="dayPeriod"))==null?void 0:E.value},[S]),T=b.useMemo(()=>{var E;const m=new Date;return m.setHours(12),(E=S.formatToParts(m).find(h=>h.type==="dayPeriod"))==null?void 0:E.value},[S]),L=ce({year:"numeric",era:"narrow",timeZone:"UTC"}),R=b.useMemo(()=>{var F;if(e.type!=="era")return[];const m=we(new ze(1,1,1),t.calendar),E=t.calendar.getEras().map(I=>{var z;const Y=m.set({year:1,month:1,day:1,era:I}).toDate("UTC"),be=(z=L.formatToParts(Y).find(he=>he.type==="era"))==null?void 0:z.value;return{era:I,formatted:be}}),h=Nr(E.map(I=>I.formatted));if(h)for(const I of E)I.formatted=(F=I.formatted)==null?void 0:F.slice(h);return E},[L,t.calendar,e.type]),C=m=>{if(t.isDisabled||t.isReadOnly)return;const E=n.current+m;switch(e.type){case"dayPeriod":if(P(O,m))t.setSegment("dayPeriod",0);else if(P(T,m))t.setSegment("dayPeriod",12);else break;s.focusNext();break;case"era":{const h=R.find(F=>P(F.formatted,m));h&&(t.setSegment("era",h.era),s.focusNext());break}case"day":case"hour":case"minute":case"second":case"month":case"year":{if(!y.isValidPartialNumber(E))return;let h=y.parse(E),F=h,I=e.minValue===0;if(e.type==="hour"&&t.dateFormatter.resolvedOptions().hour12){switch(t.dateFormatter.resolvedOptions().hourCycle){case"h11":h>11&&(F=y.parse(m));break;case"h12":I=!1,h>12&&(F=y.parse(m));break}e.value>=12&&h>1&&(h+=12)}else h>e.maxValue&&(F=y.parse(m));if(isNaN(h))return;const Y=F!==0||I;Y&&t.setSegment(e.type,F),+(h+"0")>e.maxValue||E.length>=String(e.maxValue).length?(n.current="",Y&&(s==null||s.focusNext())):n.current=E;break}}},A=()=>{n.current="",Jt(r.current,{containingElement:Qt(r.current)});const m=window.getSelection();m==null||m.collapse(r.current)},D=b.useRef("");Re(r,"beforeinput",m=>{var E,h;switch(m.preventDefault(),m.inputType){case"deleteContentBackward":case"deleteContentForward":y.isValidPartialNumber(e.text)&&!t.isReadOnly&&w();break;case"insertCompositionText":D.current=(E=r.current)==null?void 0:E.textContent,r.current.textContent=(h=r.current)==null?void 0:h.textContent;break;default:m.data!=null&&C(m.data);break}}),Re(r,"input",m=>{const{inputType:E,data:h}=m;switch(E){case"insertCompositionText":r.current.textContent=D.current,(P(O,h)||P(T,h))&&C(h);break}}),b.useLayoutEffect(()=>{const m=r.current;return()=>{document.activeElement===m&&(s.focusPrevious()||s.focusNext())}},[r,s]);const Q=qt()||e.type==="timeZoneName"?{role:"textbox","aria-valuemax":null,"aria-valuemin":null,"aria-valuetext":null,"aria-valuenow":null}:{},q=b.useMemo(()=>{var m;return(m=t==null?void 0:t.segments)==null?void 0:m.find(E=>E.isEditable)},[t.segments]);e!==q&&t.validationState!=="invalid"&&(a="");const K=Yt(),V=!t.isDisabled&&!t.isReadOnly&&e.isEditable,k=e.type==="literal"?"":i.of(e.type),g=_t({"aria-label":(f?f+" ":"")+k,"aria-labelledby":l});return e.type==="literal"?{segmentProps:{"aria-hidden":!0}}:{segmentProps:{...c,...g,id:K,...Q,"aria-invalid":t.validationState==="invalid"?"true":void 0,"aria-describedby":a,"aria-readonly":t.isReadOnly||!e.isEditable?"true":void 0,"data-placeholder":e.isPlaceholder||void 0,contentEditable:V,suppressContentEditableWarning:V,spellCheck:V?"false":void 0,autoCapitalize:V?"off":void 0,autoCorrect:V?"off":void 0,[parseInt(j.version,10)>=17?"enterKeyHint":"enterkeyhint"]:V?"next":void 0,inputMode:t.isDisabled||e.type==="dayPeriod"||e.type==="era"||!V?void 0:"numeric",tabIndex:t.isDisabled?void 0:0,onKeyDown:x,onFocus:A,style:{caretColor:"transparent"},onPointerDown(m){m.stopPropagation()},onMouseDown(m){m.stopPropagation()}}}}function Nr(e){e.sort();const t=e[0],r=e[e.length-1];for(let n=0;n<t.length;n++)if(t[n]!==r[n])return n;return 0}const Vr=j.forwardRef((e,t)=>{const{segment:r,state:n}=e,o=ie(t),{segmentProps:i}=Ir(r,n,o);return N(Ue,{...i,ref:o,className:`segment ${r.isPlaceholder?"placeholder":"number"}`,children:r.text})}),Br=Vr,Ar=()=>N(Or,{width:"16",height:"16",viewBox:"0 0 16 16",children:N("path",{d:"M8.33276 12.3334C8.02004 12.3334 7.70717 12.2125 7.46885 11.9707L1.35805 5.78022C0.880649 5.29658 0.880649 4.5131 1.35805 4.02947C1.83546 3.54584 2.60886 3.54584 3.08626 4.02947L8.33276 9.34651L13.5804 4.03044C14.0578 3.54681 14.8312 3.54681 15.3086 4.03044C15.786 4.51407 15.786 5.29755 15.3086 5.78118L9.19782 11.9717C8.95912 12.2135 8.64594 12.3334 8.33276 12.3334Z",fill:"currentColor"})}),Hr=j.forwardRef((e,t)=>{const{locale:r}=le(),n=ie(null),o=Dr({...e,isReadOnly:e.isReadOnly?!0:!!e.isMobile,locale:r,createCalendar:er}),i=ie(t),{labelProps:f,fieldProps:l}=wr({...e,isReadOnly:e.isReadOnly?!0:!!e.isMobile},o,i),a=e.isDisabled??!1,s=e.isReadOnly??!1,p=!!e.isInvalid||o.validationState==="invalid",$=()=>{const c=e.necessityIndicator??"icon";return e.isRequired&&c==="icon"?N(ve,{isError:!0,children:"*"}):e.isRequired&&c==="label"?N(ve,{isError:!0,isText:!0,children:"(required)"}):!e.isRequired&&c==="label"?N(ve,{isText:!0,children:"(optional)"}):""},{onPress:u,...v}=e.buttonProps;return G("div",{children:[G(Rr,{className:"cdg-date-field",isDisabled:a,isInvalid:p,children:[typeof e.label=="string"?G("span",{...f,className:"date-field-label",children:[e.label," ",$()]}):e.label,G("div",{...l,ref:i,className:`date-field-input ${a||s?"":e.isMobile?"mobile":""}`,onClick:()=>{var c;a||s||e.isMobile&&((c=n.current)==null||c.click())},children:[o.segments.map((c,y)=>{var w;return c.type==="literal"&&(c.isPlaceholder=((w=o.segments[y-1])==null?void 0:w.isPlaceholder)??!1),N(Br,{segment:c,state:o},y)}),N(Mr,{...v,ref:n,onClick:c=>{u==null||u(c)},type:"button",disabled:a||s,className:"toggle-calendar-button",children:N(Ar,{})})]})]}),e.isInvalid&&e.errorMessage&&N(ke,{className:"cdg-date-field-error",error:!0,children:e.errorMessage}),e.helperText?N(ke,{className:"cdg-date-field-helper",children:e.helperText}):null]})}),Dn=Hr;function Wr(e){return e&&e.__esModule?e.default:e}const Fe={top:"top",bottom:"top",left:"left",right:"left"},pe={top:"bottom",bottom:"top",left:"right",right:"left"},Kr={top:"left",left:"top"},De={top:"height",left:"width"},jr={width:"totalWidth",height:"totalHeight"},de={};let _=typeof window<"u"&&window.visualViewport;function Zr(e){let t=0,r=0,n=0,o=0,i=0,f=0,l={};if(e.tagName==="BODY"){let p=document.documentElement;n=p.clientWidth,o=p.clientHeight;var a;t=(a=_==null?void 0:_.width)!==null&&a!==void 0?a:n;var s;r=(s=_==null?void 0:_.height)!==null&&s!==void 0?s:o,l.top=p.scrollTop||e.scrollTop,l.left=p.scrollLeft||e.scrollLeft}else({width:t,height:r,top:i,left:f}=X(e)),l.top=e.scrollTop,l.left=e.scrollLeft,n=t,o=r;return{width:t,height:r,totalWidth:n,totalHeight:o,scroll:l,top:i,left:f}}function zr(e){return{top:e.scrollTop,left:e.scrollLeft,width:e.scrollWidth,height:e.scrollHeight}}function Le(e,t,r,n,o){let i=n.scroll[e],f=n[De[e]],l=t-o-i,a=t+o-i+r;return l<0?-l:a>f?Math.max(f-a,-l):0}function Gr(e){let t=window.getComputedStyle(e);return{top:parseInt(t.marginTop,10)||0,bottom:parseInt(t.marginBottom,10)||0,left:parseInt(t.marginLeft,10)||0,right:parseInt(t.marginRight,10)||0}}function Ie(e){if(de[e])return de[e];let[t,r]=e.split(" "),n=Fe[t]||"right",o=Kr[n];Fe[r]||(r="center");let i=De[n],f=De[o];return de[e]={placement:t,crossPlacement:r,axis:n,crossAxis:o,size:i,crossSize:f},de[e]}function ge(e,t,r,n,o,i,f,l,a,s){let{placement:p,crossPlacement:$,axis:u,crossAxis:v,size:c,crossSize:y}=n,w={};w[v]=e[v],$==="center"?w[v]+=(e[y]-r[y])/2:$!==v&&(w[v]+=e[y]-r[y]),w[v]+=i;const x=e[v]-r[y]+a+s,P=e[v]+e[y]-a-s;if(w[v]=Pe(w[v],x,P),p===u){const S=l?f[c]:t[jr[c]];w[pe[u]]=Math.floor(S-e[u]+o)}else w[u]=Math.floor(e[u]+e[c]+o);return w}function Ur(e,t,r,n,o,i){return e.top!=null?Math.max(0,t.height+t.top+t.scroll.top-(r.top+e.top)-(o.top+o.bottom+i)):Math.max(0,n.top+r.top-(t.top+t.scroll.top)-(o.top+o.bottom+i))}function Ne(e,t,r,n,o,i){let{placement:f,axis:l,size:a}=i;return f===l?Math.max(0,r[l]-e[l]-e.scroll[l]+t[l]-n[l]-n[pe[l]]-o):Math.max(0,e[a]+e[l]+e.scroll[l]-t[l]-r[l]-r[a]-n[l]-n[pe[l]]-o)}function qr(e,t,r,n,o,i,f,l,a,s,p,$,u,v,c){let y=Ie(e),{size:w,crossAxis:x,crossSize:P,placement:S,crossPlacement:O}=y,T=ge(t,l,r,y,s,p,a,$,v,c),L=s,R=Ne(l,a,t,o,i+s,y);if(f&&n[w]>R){let m=Ie(`${pe[S]} ${O}`),E=ge(t,l,r,m,s,p,a,$,v,c);Ne(l,a,t,o,i+s,m)>R&&(y=m,T=E,L=s)}let C=Le(x,T[x],r[P],l,i);T[x]+=C;let A=Ur(T,l,a,t,o,i);u&&u<A&&(A=u),r.height=Math.min(r.height,A),T=ge(t,l,r,y,L,p,a,$,v,c),C=Le(x,T[x],r[P],l,i),T[x]+=C;let D={},Q=t[x]+.5*t[P]-r[x];const q=v/2+c,K=r[P]-v/2-c,V=t[x]-r[x]+v/2,k=t[x]+t[P]-r[x]-v/2,g=Pe(Q,V,k);return D[x]=Pe(g,q,K),{position:T,maxHeight:A,arrowOffsetLeft:D.left,arrowOffsetTop:D.top,placement:y.placement}}function Yr(e){let{placement:t,targetNode:r,overlayNode:n,scrollNode:o,padding:i,shouldFlip:f,boundaryElement:l,offset:a,crossOffset:s,maxHeight:p,arrowSize:$,arrowBoundaryOffset:u=0}=e,v=n instanceof HTMLElement?_r(n):document.documentElement,c=v===document.documentElement;const y=window.getComputedStyle(v).position;let w=!!y&&y!=="static",x=c?X(r):Ve(r,v);if(!c){let{marginTop:R,marginLeft:C}=window.getComputedStyle(r);x.top+=parseInt(R,10)||0,x.left+=parseInt(C,10)||0}let P=X(n),S=Gr(n);P.width+=S.left+S.right,P.height+=S.top+S.bottom;let O=zr(o),T=Zr(l),L=l.tagName==="BODY"?X(v):Ve(v,l);return qr(t,x,P,O,S,i,f,T,L,a,s,w,p,$,u)}function X(e){let{top:t,left:r,width:n,height:o}=e.getBoundingClientRect(),{scrollTop:i,scrollLeft:f,clientTop:l,clientLeft:a}=document.documentElement;return{top:t+i-l,left:r+f-a,width:n,height:o}}function Ve(e,t){let r=window.getComputedStyle(e),n;if(r.position==="fixed"){let{top:o,left:i,width:f,height:l}=e.getBoundingClientRect();n={top:o,left:i,width:f,height:l}}else{n=X(e);let o=X(t),i=window.getComputedStyle(t);o.top+=(parseInt(i.borderTopWidth,10)||0)-t.scrollTop,o.left+=(parseInt(i.borderLeftWidth,10)||0)-t.scrollLeft,n.top-=o.top,n.left-=o.left}return n.top-=parseInt(r.marginTop,10)||0,n.left-=parseInt(r.marginLeft,10)||0,n}function _r(e){let t=e.offsetParent;if(t&&t===document.body&&window.getComputedStyle(t).position==="static"&&!Be(t)&&(t=document.documentElement),t==null)for(t=e.parentElement;t&&!Be(t);)t=t.parentElement;return t||document.documentElement}function Be(e){let t=window.getComputedStyle(e);return t.transform!=="none"||/transform|perspective/.test(t.willChange)||t.filter!=="none"||t.contain==="paint"||"backdropFilter"in t&&t.backdropFilter!=="none"||"WebkitBackdropFilter"in t&&t.WebkitBackdropFilter!=="none"}const Xr=new WeakMap;function Jr(e){let{triggerRef:t,isOpen:r,onClose:n}=e;b.useEffect(()=>{if(!r||n===null)return;let o=i=>{let f=i.target;if(!t.current||f instanceof Node&&!f.contains(t.current))return;let l=n||Xr.get(t.current);l&&l()};return window.addEventListener("scroll",o,!0),()=>{window.removeEventListener("scroll",o,!0)}},[r,n,t])}let H=typeof window<"u"&&window.visualViewport;function Qr(e){let{direction:t}=or(),{arrowSize:r=0,targetRef:n,overlayRef:o,scrollRef:i=o,placement:f="bottom",containerPadding:l=12,shouldFlip:a=!0,boundaryElement:s=typeof document<"u"?document.body:null,offset:p=0,crossOffset:$=0,shouldUpdatePosition:u=!0,isOpen:v=!0,onClose:c,maxHeight:y,arrowBoundaryOffset:w=0}=e,[x,P]=b.useState({position:{},arrowOffsetLeft:void 0,arrowOffsetTop:void 0,maxHeight:void 0,placement:void 0}),S=[u,f,o.current,n.current,i.current,l,a,s,p,$,v,t,y,w,r],O=b.useCallback(()=>{if(u===!1||!v||!o.current||!n.current||!i.current||!s)return;let R=Yr({placement:tn(f,t),overlayNode:o.current,targetNode:n.current,scrollNode:i.current,padding:l,shouldFlip:a,boundaryElement:s,offset:p,crossOffset:$,maxHeight:y,arrowSize:r,arrowBoundaryOffset:w});Object.keys(R.position).forEach(C=>o.current.style[C]=R.position[C]+"px"),o.current.style.maxHeight=R.maxHeight!=null?R.maxHeight+"px":void 0,P(R)},S);J(O,S),en(O),dr({ref:o,onResize:O});let T=b.useRef(!1);J(()=>{let R,C=()=>{T.current=!0,clearTimeout(R),R=setTimeout(()=>{T.current=!1},500),O()};return H==null||H.addEventListener("resize",C),H==null||H.addEventListener("scroll",C),()=>{H==null||H.removeEventListener("resize",C),H==null||H.removeEventListener("scroll",C)}},[O]);let L=b.useCallback(()=>{T.current||c()},[c,T]);return Jr({triggerRef:n,isOpen:v,onClose:c&&L}),{overlayProps:{style:{position:"absolute",zIndex:1e5,...x.position,maxHeight:x.maxHeight}},placement:x.placement,arrowProps:{style:{left:x.arrowOffsetLeft,top:x.arrowOffsetTop}},updatePosition:O}}function en(e){J(()=>(window.addEventListener("resize",e,!1),()=>{window.removeEventListener("resize",e,!1)}),[e])}function tn(e,t){return t==="rtl"?e.replace("start","right").replace("end","left"):e.replace("start","left").replace("end","right")}const Z=[];function rn(e,t){let{onClose:r,shouldCloseOnBlur:n,isOpen:o,isDismissable:i=!1,isKeyboardDismissDisabled:f=!1,shouldCloseOnInteractOutside:l}=e;b.useEffect(()=>(o&&Z.push(t),()=>{let c=Z.indexOf(t);c>=0&&Z.splice(c,1)}),[o,t]);let a=()=>{Z[Z.length-1]===t&&r&&r()},s=c=>{(!l||l(c.target))&&Z[Z.length-1]===t&&(c.stopPropagation(),c.preventDefault())},p=c=>{(!l||l(c.target))&&(Z[Z.length-1]===t&&(c.stopPropagation(),c.preventDefault()),a())},$=c=>{c.key==="Escape"&&!f&&(c.stopPropagation(),c.preventDefault(),a())};fr({ref:t,onInteractOutside:i?p:null,onInteractOutsideStart:s});let{focusWithinProps:u}=mr({isDisabled:!n,onBlurWithin:c=>{c.relatedTarget&&pr(c.relatedTarget)||(!l||l(c.relatedTarget))&&r()}}),v=c=>{c.target===c.currentTarget&&c.preventDefault()};return{overlayProps:{onKeyDown:$,...u},underlayProps:{onPointerDown:v}}}const ye=typeof window<"u"&&window.visualViewport,nn=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let fe=0,xe;function on(e={}){let{isDisabled:t}=e;J(()=>{if(!t)return fe++,fe===1&&(br()?xe=ln():xe=an()),()=>{fe--,fe===0&&xe()}},[t])}function an(){return Ee(ae(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),ae(document.documentElement,"overflow","hidden"))}function ln(){let e,t=0,r=$=>{e=Ge($.target),!(e===document.documentElement&&e===document.body)&&(t=$.changedTouches[0].pageY)},n=$=>{if(e===document.documentElement||e===document.body){$.preventDefault();return}let u=$.changedTouches[0].pageY,v=e.scrollTop,c=e.scrollHeight-e.clientHeight;(v<=0&&u>t||v>=c&&u<t)&&$.preventDefault(),t=u},o=$=>{let u=$.target;He(u)&&u!==document.activeElement&&($.preventDefault(),u.style.transform="translateY(-2000px)",u.focus(),requestAnimationFrame(()=>{u.style.transform=""}))},i=$=>{let u=$.target;He(u)&&(u.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{u.style.transform="",ye&&(ye.height<window.innerHeight?requestAnimationFrame(()=>{Ae(u)}):ye.addEventListener("resize",()=>Ae(u),{once:!0}))}))},f=()=>{window.scrollTo(0,0)},l=window.pageXOffset,a=window.pageYOffset,s=Ee(ae(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),ae(document.documentElement,"overflow","hidden"),ae(document.body,"marginTop",`-${a}px`));window.scrollTo(0,0);let p=Ee(re(document,"touchstart",r,{passive:!1,capture:!0}),re(document,"touchmove",n,{passive:!1,capture:!0}),re(document,"touchend",o,{passive:!1,capture:!0}),re(document,"focus",i,!0),re(window,"scroll",f));return()=>{s(),p(),window.scrollTo(l,a)}}function ae(e,t,r){let n=e.style[t];return e.style[t]=r,()=>{e.style[t]=n}}function re(e,t,r,n){return e.addEventListener(t,r,n),()=>{e.removeEventListener(t,r,n)}}function Ae(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let r=Ge(e);if(r!==document.documentElement&&r!==document.body&&r!==e){let n=r.getBoundingClientRect().top,o=e.getBoundingClientRect().top;o>n+e.clientHeight&&(r.scrollTop+=o-n)}e=r.parentElement}}function He(e){return e instanceof HTMLInputElement&&!nn.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}var qe={},Ye={};Ye={dismiss:"تجاهل"};var _e={};_e={dismiss:"Отхвърляне"};var Xe={};Xe={dismiss:"Odstranit"};var Je={};Je={dismiss:"Luk"};var Qe={};Qe={dismiss:"Schließen"};var et={};et={dismiss:"Απόρριψη"};var tt={};tt={dismiss:"Dismiss"};var rt={};rt={dismiss:"Descartar"};var nt={};nt={dismiss:"Lõpeta"};var ot={};ot={dismiss:"Hylkää"};var at={};at={dismiss:"Rejeter"};var it={};it={dismiss:"התעלם"};var lt={};lt={dismiss:"Odbaci"};var st={};st={dismiss:"Elutasítás"};var ct={};ct={dismiss:"Ignora"};var ut={};ut={dismiss:"閉じる"};var dt={};dt={dismiss:"무시"};var ft={};ft={dismiss:"Atmesti"};var mt={};mt={dismiss:"Nerādīt"};var pt={};pt={dismiss:"Lukk"};var bt={};bt={dismiss:"Negeren"};var ht={};ht={dismiss:"Zignoruj"};var $t={};$t={dismiss:"Descartar"};var vt={};vt={dismiss:"Dispensar"};var gt={};gt={dismiss:"Revocare"};var yt={};yt={dismiss:"Пропустить"};var xt={};xt={dismiss:"Zrušiť"};var wt={};wt={dismiss:"Opusti"};var Pt={};Pt={dismiss:"Odbaci"};var Et={};Et={dismiss:"Avvisa"};var Dt={};Dt={dismiss:"Kapat"};var St={};St={dismiss:"Скасувати"};var Ct={};Ct={dismiss:"取消"};var Tt={};Tt={dismiss:"關閉"};qe={"ar-AE":Ye,"bg-BG":_e,"cs-CZ":Xe,"da-DK":Je,"de-DE":Qe,"el-GR":et,"en-US":tt,"es-ES":rt,"et-EE":nt,"fi-FI":ot,"fr-FR":at,"he-IL":it,"hr-HR":lt,"hu-HU":st,"it-IT":ct,"ja-JP":ut,"ko-KR":dt,"lt-LT":ft,"lv-LV":mt,"nb-NO":pt,"nl-NL":bt,"pl-PL":ht,"pt-BR":$t,"pt-PT":vt,"ro-RO":gt,"ru-RU":yt,"sk-SK":xt,"sl-SI":wt,"sr-SP":Pt,"sv-SE":Et,"tr-TR":Dt,"uk-UA":St,"zh-CN":Ct,"zh-TW":Tt};function We(e){let{onDismiss:t,...r}=e,n=nr(Wr(qe)),o=ir(r,n.format("dismiss")),i=()=>{t&&t()};return j.createElement(lr,null,j.createElement("button",{...o,tabIndex:-1,onClick:i}))}let ne=new WeakMap,W=[];function sn(e,t=document.body){let r=new Set(e),n=new Set,o=a=>{for(let u of a.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))r.add(u);let s=u=>{if(r.has(u)||n.has(u.parentElement)&&u.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let v of r)if(u.contains(v))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},p=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,{acceptNode:s}),$=s(a);if($===NodeFilter.FILTER_ACCEPT&&i(a),$!==NodeFilter.FILTER_REJECT){let u=p.nextNode();for(;u!=null;)i(u),u=p.nextNode()}},i=a=>{var s;let p=(s=ne.get(a))!==null&&s!==void 0?s:0;a.getAttribute("aria-hidden")==="true"&&p===0||(p===0&&a.setAttribute("aria-hidden","true"),n.add(a),ne.set(a,p+1))};W.length&&W[W.length-1].disconnect(),o(t);let f=new MutationObserver(a=>{for(let s of a)if(!(s.type!=="childList"||s.addedNodes.length===0)&&![...r,...n].some(p=>p.contains(s.target))){for(let p of s.removedNodes)p instanceof Element&&(r.delete(p),n.delete(p));for(let p of s.addedNodes)(p instanceof HTMLElement||p instanceof SVGElement)&&(p.dataset.liveAnnouncer==="true"||p.dataset.reactAriaTopLayer==="true")?r.add(p):p instanceof Element&&o(p)}});f.observe(t,{childList:!0,subtree:!0});let l={observe(){f.observe(t,{childList:!0,subtree:!0})},disconnect(){f.disconnect()}};return W.push(l),()=>{f.disconnect();for(let a of n){let s=ne.get(a);s===1?(a.removeAttribute("aria-hidden"),ne.delete(a)):ne.set(a,s-1)}l===W[W.length-1]?(W.pop(),W.length&&W[W.length-1].observe()):W.splice(W.indexOf(l),1)}}function cn(e,t){let{triggerRef:r,popoverRef:n,isNonModal:o,isKeyboardDismissDisabled:i,...f}=e,{overlayProps:l,underlayProps:a}=rn({isOpen:t.isOpen,onClose:t.close,shouldCloseOnBlur:!0,isDismissable:!o,isKeyboardDismissDisabled:i},n),{overlayProps:s,arrowProps:p,placement:$}=Qr({...f,targetRef:r,overlayRef:n,isOpen:t.isOpen,onClose:null});return on({isDisabled:o}),J(()=>{if(t.isOpen&&!o&&n.current)return sn([n.current])},[o,t.isOpen,n]),{popoverProps:sr(l,s),arrowProps:p,underlayProps:a,placement:$}}const Rt=j.createContext(null);function un(e){let t=cr(),{portalContainer:r=t?null:document.body}=e,[n,o]=b.useState(!1),i=b.useMemo(()=>({contain:n,setContain:o}),[n,o]);if(!r)return null;let f=j.createElement(Rt.Provider,{value:i},j.createElement(ur,{restoreFocus:!0,contain:n},e.children));return Ot.createPortal(f,r)}function dn(){let e=b.useContext(Rt),t=e==null?void 0:e.setContain;J(()=>{t==null||t(!0)},[t])}function fn(e,t){let{role:r="dialog"}=e,n=hr();n=e["aria-label"]?void 0:n;let o=b.useRef(!1);return b.useEffect(()=>{if(t.current&&!t.current.contains(document.activeElement)){Me(t.current);let i=setTimeout(()=>{document.activeElement===t.current&&(o.current=!0,t.current.blur(),Me(t.current),o.current=!1)},500);return()=>{clearTimeout(i)}}},[t]),dn(),{dialogProps:{...$r(e,{labelable:!0}),role:r,tabIndex:-1,"aria-labelledby":e["aria-labelledby"]||n,onBlur:i=>{o.current&&i.stopPropagation()}},titleProps:{id:n}}}const mn=U("div",{"&:focus-visible":{outline:"1px solid $cdgBlue100"}}),pn=j.forwardRef((e,t)=>{const{children:r,title:n}=e,o=ie(t),{dialogProps:i,titleProps:f}=fn(e,o);return G(mn,{...i,ref:o,children:[n&&N("h3",{...f,style:{marginTop:0},children:n}),r]})}),Sn=pn,bn=j.forwardRef((e,t)=>{const{children:r,state:n}=e,o=ie(t),{popoverProps:i,underlayProps:f}=cn({...e,popoverRef:o},n);return G(un,{children:[N("div",{...f}),G("div",{...i,ref:o,style:{...i.style},children:[N(We,{onDismiss:n.close}),r,N(We,{onDismiss:n.close})]})]})}),Cn=bn;function Tn(e){const[t,r]=Ze(e.isOpen,e.defaultOpen||!1,e.onOpenChange);return{isOpen:t,setOpen:r,open(){r(!0)},close(){r(!1)},toggle(){r(!t)}}}export{Dn as D,Cn as P,vr as a,xr as b,Tn as c,Pr as d,Sn as e,gr as u};

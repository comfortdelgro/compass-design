import{l as a}from"./lodash-3df4c0ad.js";import{r as h,R as f,j as x}from"./index-12a99532.js";import{p}from"./pick-child-338c91cc.js";import{u as m}from"./use-dom-ref-2bd5dd1a.js";import{q as b}from"./dropdown.styles-276b1874.js";const k=h.createContext({isLoadingMore:!1,focusKey:null,isPositioned:!1,labelId:"",open:!1,searchValue:"",selectedItem:null,disabledKeys:[],selectedKey:"",defaultSelectedKey:"",setSelectedItem:()=>{},onItemClick:()=>{},onHeaderClick:()=>{}}),I=f.forwardRef((l,t)=>{const{children:e,css:n={},onClick:i,...s}=l,r=m(t),{onHeaderClick:o}=h.useContext(k);return x(b,{ref:r,css:n,...s,onClick:d=>{o(),i==null||i(d)},children:e})}),v=I;function g(l){var e;if(!l)return"";if(typeof l=="string")return l;const t=(e=l.props)==null?void 0:e.children;return t instanceof Array?t.map(g).join(" "):g(t)}const y=(l,t,e=[])=>{var n,i;for(let s=0;s<l.length;s++){const r=l[s];if(r!=null&&r.props){const o=((n=r.props.value)==null?void 0:n.toString())??((i=r.key)==null?void 0:i.toString().replace(".$",""))??"";if(o.toString()===t.toString()&&!(e!=null&&e.includes(o.toString())))return r;if(r.props.children){const u=y(f.Children.toArray(r.props.children),t);if(u)return u}}}return null},R=(l,t,e=[])=>{if(!e.length)return null;const n=e.filter(s=>s.visibility);if(n.length){const s=n.findIndex(r=>r.value.toString()===l.toString());if(s!==-1){const r=n[s-1]??n[n.length-1];if(r)return c(r.value,t)}}return C(t,e)},E=(l,t,e=[])=>{if(!e.length)return null;const n=e.filter(s=>s.visibility);if(n.length){const s=n.findIndex(r=>r.value.toString()===l.toString());if(s!==-1){const r=n[s+1]??n[0];if(r)return c(r.value,t)}}return S(t,e)},S=(l,t=[])=>{if(!(t!=null&&t.length))return null;let e=null;for(let n=0;n<t.length;n++){const i=t[n];if(i!=null&&i.visibility){e=c(i.value,l);break}}return e},C=(l,t=[])=>{if(!(t!=null&&t.length))return null;let e=null;for(let n=t.length-1;n>=0;n--){const i=t[n];if(i!=null&&i.visibility){e=c(i.value,l);break}}return e},c=(l,t)=>{const{rest:e}=p(t,v),n=f.Children.toArray(e);return n!=null&&n.length?y(t,l)??null:null},L=(l,t)=>{const e=s=>{const{top:r}=s.getBoundingClientRect();return r},n=e(l),i=e(t);return Math.hypot(n-i)};function j(l,t,e){let n;return l!=null&&!a.isEmpty(l.toString())&&t!==""&&!e&&(n=l),t!=null&&!a.isEmpty(t.toString())&&(n=t),n}class M{constructor(t,e){this.getKeyIndex=n=>{const i=this.collection.findIndex(s=>s.key===n);return i!==-1?i:null},this.getKeyAfter=n=>{var r;const i=this.getKeyIndex(n);if(i===null)return null;const s=(r=this.collection[i+1])==null?void 0:r.key;return s||null},this.getKeyBefore=n=>{var r;const i=this.getKeyIndex(n);if(i===null)return null;const s=(r=this.collection[i-1])==null?void 0:r.key;return s||null},this.collection=t,this.disabledKeys=e}getKeyBelow(t){let e=this.getKeyAfter(t);for(;e!=null;){if(![...this.disabledKeys].includes(e))return e;e=this.getKeyAfter(e)}return null}getKeyAbove(t){let e=this.getKeyBefore(t);for(;e!=null;){if(![...this.disabledKeys].includes(e))return e;e=this.getKeyBefore(e)}return null}getFirstKey(){var e;let t=(e=this.collection[0])==null?void 0:e.key;for(;t!=null;){if(![...this.disabledKeys].includes(t))return t;t=this.getKeyAfter(t)}return null}getLastKey(){var e;let t=(e=this.collection[this.collection.length-1])==null?void 0:e.key;for(;t!=null;){if(![...this.disabledKeys].includes(t))return t;t=this.getKeyBefore(t)}return null}}export{k as D,M as L,v as a,C as b,S as c,c as d,E as e,R as f,L as g,j as h,g as t};

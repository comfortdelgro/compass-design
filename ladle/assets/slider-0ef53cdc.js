import{s as W,R as B,r as v,j as S}from"./index-6de1f49d.js";import{u as j}from"./use-dom-ref-a1a9078d.js";const q=W("div",{display:"flex",width:"100%",height:"0.25rem",background:"$cdgBlue10",borderRadius:"6.25rem",position:" relative",cursor:"pointer","&:focus .thumb-tooltips::after":{content:"attr(value)",position:"absolute",backgroundColor:"#201f1e",width:"$12_5",height:"$12_5",color:"$whiteText",padding:"0.2rem",borderRadius:"0.2rem",pointerEvents:"none",whiteSpace:"nowrap",bottom:"1.688rem",transform:"translateX(-35%)",fontFamily:"Poppins",fontStyle:"normal",fontWeight:"$bold",fontSize:"1.25rem",lineHeight:"3.125rem",textAlign:"center"},"&:focus .thumb-tooltips::before":{content:"",position:"absolute",border:"10px solid transparent",borderTop:"10px solid #201f1e",left:"50%",bottom:"0.5rem",transform:"translateX(-50%)",zIndex:"1"}}),I=W("div",{background:"$cdgBlue100",height:"100%",position:"relative"}),_=W("div",{right:"0",boxSizing:"border-box",width:"$4",height:"$4",borderRadius:"50%",background:"$background",border:"1px solid #e6ecf7",boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.16)",position:"absolute",top:"50%",transform:"translate3d(100%, -50%, 0)",cursor:"pointer"}),F=B.forwardRef((C,D)=>{const{isDisabled:l=!1,tooltip:T=!0,onChange:u,onChangeEnd:h,minValue:i=0,maxValue:m=100,step:c=1,value:p,defaultValue:f,className:y="",css:A={},...N}=C,E=j(D),[M,x]=v.useState(f),[L,R]=v.useState(!1);v.useEffect(()=>{h&&M!==void 0&&!L&&h(M)},[L]),v.useEffect(()=>{const s=E.current;if(s){const t=s.querySelector(".thumb"),g=s.querySelector(".range-slider");let b=!1,$=0;const P=a=>{l||(b=!0,$=a.clientX,R(!0))},k=()=>{l||(b=!1,R(!1))},X=a=>{if(!b||l)return;const n=a.clientX-$;$=a.clientX;const e=t.offsetLeft+n,o=s.offsetWidth,r=t.offsetWidth;t.style.left=`${Math.max(0-r,Math.min(e,o-r*2))}px`;const d=t.offsetLeft+r;g.style.width=`${d}px`;const w=Math.round(d/(o-r)*(m-i)/c)*c+i;x(w),t.setAttribute("value",w.toString()),u&&u(w)},V=a=>{if(l||b)return;const n=s.offsetWidth,e=t.offsetWidth;let o=a.clientX-s.getBoundingClientRect().left;o>=n-e/2&&(o=n-e/2),t.style.left=`${Math.max(0-e,Math.min(o-e*3/2,n-e))}px`,o-e<=0&&(g.style.width="0px"),g.style.width=`${o-e/2}px`;const r=t.offsetLeft+e,d=Math.round(r/(n-e)*(m-i)/c)*c+i;x(d),t.setAttribute("value",d.toString()),u&&u(d),h&&h(d)};return s.addEventListener("click",V),t.addEventListener("mousedown",P),document.addEventListener("mouseup",k),document.addEventListener("mousemove",X),(f!==void 0||p!==void 0)&&(()=>{const n=s.offsetWidth,e=t.offsetWidth,o=p!==void 0?p:f||i,r=(o-i)/(m-i)*n-e;t.style.left=`${Math.max(0-e,Math.min(r-e,n-e))}px`,g.style.width=`${r}px`,x(f),t.setAttribute("value",o.toString())})(),()=>{t.removeEventListener("mousedown",P),document.removeEventListener("mouseup",k),document.removeEventListener("mousemove",X),s.removeEventListener("click",V)}}return()=>{console.log("slider not found!!!")}},[l,i,m,c,u,f,p]);const z=(()=>({className:y,css:A,...N}))();return S(q,{...z,className:`cdg-range-slider ${y}`,tabIndex:0,ref:E,style:{pointerEvents:`${l?"none":"auto"}`},children:S(I,{className:"range-slider",children:S(_,{className:`thumb ${T?"thumb-tooltips":""}`})})})}),G=F;export{G as S};

import{j as n,F as y,s as i,k as $,R as t,a as g}from"./index-7868a988.js";import{p as x}from"./pick-child-adddb2ce.js";import{u as b,c as v,d as w,P as S,e as I}from"./utils-3e629f9a.js";const k=o=>n(y,{children:o.children}),F=k,j=i("li",{fontSize:"$label1",fontWeight:"$medium",padding:"$2 $4",outline:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"$2",color:"333333","&:hover":{backgroundColor:"#F3F2F1"},variants:{isFocused:{true:{backgroundColor:"#F3F2F1"}},isSelected:{true:{backgroundColor:"#F3F2F1"}},isDisabled:{true:{opacity:.4,cursor:"not-allowed"}}}}),L=i("div",{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:"$4",height:"$4",overflow:"hidden"}),H=i("div",{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:"$6",height:"$6",overflow:"hidden",svg:{width:"$6",height:"$6"}}),N=i("div",{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:"$6",height:"$6",borderRadius:"$md",background:"$$bg"}),P=i("div",{display:"flex",alignItems:"center",flexGrow:1}),C=$({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),E=i("div",{display:"flex",justifyContent:"center",margin:"$4 auto",".spinner":{display:"inline-block",position:"relative",width:"$4",height:"$4",div:{boxSizing:"border-box",display:"block",position:"absolute",width:"$4",height:"$4",border:"2px solid #757575",borderRadius:"50%",animation:`${C} 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite`,borderColor:"#757575 transparent transparent transparent"},".spinner-1":{animationDelay:"-0.45s"},".spinner-2":{animationDelay:"-0.3s"},".spinner-3":{animationDelay:"-0.15s"}}}),V=i("div",{backgroundColor:"$cdgBlue10",padding:"$2 $4",fontSize:"$label2",fontWeight:"$semibold",color:"#333333"});function _(o){const s=t.useRef(null),{listBoxRef:p=s,collection:l,rootChildren:f,sectionCollection:h,renderOptions:d}=o,e=t.useRef(null),a=t.useRef(null),c=b(e),r=t.useMemo(()=>v(h,l),[h,l]);t.useEffect(()=>{if(e.current&&a.current){const u=w(e.current,a.current);c&&u>0&&u<=1&&o.onLoadMore()}},[c]);const{child:m}=x(f,F);return g(y,{children:[m,n("ul",{ref:p,children:o.isLoading?n(E,{children:g("div",{className:"spinner",children:[n("div",{className:"spinner-1"}),n("div",{className:"spinner-2"}),n("div",{className:"spinner-3"}),n("div",{})]})}):g(y,{children:[d==null?void 0:d(r),[...l].length>0&&n("div",{style:{height:1},ref:e})]})}),n("div",{style:{height:1},ref:a})]})}const B=i("div",{position:"absolute",zIndex:"$$zIndex",margin:0,padding:"$2 0",borderRadius:"$md",width:"fit-content",minWidth:"100%",background:"#FFFFFF",boxShadow:"0px 0.6px 1.8px rgba(0, 0, 0, 0.1), 0px 3.2px 7.2px rgba(0, 0, 0, 0.13)",ul:{overflowY:"auto",listStyle:"none",marginBlockStart:0,marginBlockEnd:0,marginInlineStart:0,marginInlineEnd:0,paddingInlineStart:0,"&:focus":{outline:"none"}}});function O({children:o,triggerRef:s,maxULHeight:p,close:l,handleKeyDown:f,...h}){var c;const d=t.useRef(null),{popoverRef:e=d,isEmpty:a=!1}=h;return t.useEffect(()=>{var m,u;const r=(m=e.current)==null?void 0:m.getBoundingClientRect();r&&(!(r.top>=0&&r.left>=0&&r.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&r.right<=(window.innerWidth||document.documentElement.clientWidth))&&e.current?e.current.style.bottom=`${(((u=s.current)==null?void 0:u.clientHeight)??42)+10}px`:e.current&&(e.current.style.top="8px"))},[]),t.useEffect(()=>(document.addEventListener("keydown",f),()=>{document.removeEventListener("keydown",f)})),g(y,{children:[n("div",{onClick:l,style:{position:"fixed",inset:0,zIndex:S}}),n(B,{ref:e,style:{minWidth:(c=s.current)!=null&&c.clientWidth?s.current.clientWidth+2:"100%",display:a?"none":""},css:{$$zIndex:I,ul:{maxHeight:p?`${p}px`:"16rem"}},children:o})]})}export{_ as B,F as D,O as P,j as S,P as a,V as b,H as c,L as d,N as e};

"use client";import{j as e}from"./jsx-runtime-ea7736fc.js";import{r as t}from"./index-6c164b11.js";import"./index-7972436d.js";import{D as xe}from"./index-82dc4608.js";import{T as we}from"./index-898776bc.js";import{C as A}from"./objectToCSS-aff350d4.js";import{u as R}from"./use-dom-ref-7c72e1a5.js";import{B as W}from"./button-be34d763.js";import{u as ge}from"./useDrag-c728562f.js";const Ce="_confirmPickup_1l2s3_4",ye="_puPointAddress_1l2s3_12",Pe="_puPointAddressTitle_1l2s3_23",Le="_puPointAddressDescription_1l2s3_24",Se="_puPointAddressIcon_1l2s3_44",ve="_puPointLabel_1l2s3_52",je="_puSpecificLocation_1l2s3_64",Ne="_puSpecificLocationSVG_1l2s3_73",be="_puSpecificLocationName_1l2s3_77",He="_puTextField_1l2s3_86",Ee="_puConfirmButton_1l2s3_100",_={confirmPickup:Ce,puPointAddress:ye,puPointAddressTitle:Pe,puPointAddressDescription:Le,puPointAddressIcon:Se,puPointLabel:ve,puSpecificLocation:je,puSpecificLocationSVG:Ne,puSpecificLocationName:be,puTextField:He,puConfirmButton:Ee},Ve=t.memo(t.forwardRef(({onConfirmPickup:n,onChangePUPoint:a,placeholder:i="",puPointTitle:l,puPointDescription:d,specificPUPoint:o,css:p={},h5:u=!1,className:f,...v},h)=>{const y=R(h),[x,w]=t.useState(o),g=t.useCallback(()=>n(x),[x]),$=[_.confirmPickup,f,"cdg-cp-container"].filter(Boolean).join(" ");return e.jsx(A,{css:p,childrenRef:y,children:e.jsxs("div",{ref:y,className:$,...v,children:[e.jsxs("div",{className:`${_.puPointAddress} cdg-cp-point-address`,children:[e.jsxs("div",{children:[e.jsx("div",{className:`${_.puPointAddressTitle} cdg-cp-point-address__title`,children:l}),e.jsx("div",{className:`${_.puPointAddressDescription} cdg-cp-point-address__description`,children:d})]}),e.jsx(W,{className:`${_.puPointAddressIcon} cdg-cp-point-address__icon`,variant:"ghost",onPress:()=>a==null?void 0:a(),children:e.jsx("svg",{width:"18",height:"21",viewBox:"0 0 18 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M3.414 14.5L13.556 4.35799L12.142 2.94399L2 13.086V14.5H3.414ZM4.243 16.5H0V12.257L11.435 0.821992C11.6225 0.634521 11.8768 0.529205 12.142 0.529205C12.4072 0.529205 12.6615 0.634521 12.849 0.821992L15.678 3.65099C15.8655 3.83852 15.9708 4.09283 15.9708 4.35799C15.9708 4.62316 15.8655 4.87746 15.678 5.06499L4.243 16.5ZM0 18.5H18V20.5H0V18.5Z",fill:"#008BF8"})})})]}),e.jsxs("div",{className:`${_.puPointLabel} cdg-cp-point-label`,children:[e.jsx("div",{children:"Set a specific pickup point"}),e.jsx(xe,{})]}),o?e.jsxs("div",{className:`${_.puSpecificLocation} cdg-cp-specific-location`,children:[e.jsx("svg",{width:"12",height:"15",viewBox:"0 0 12 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:`${_.puSpecificLocationSVG} cdg-cp-specific-location__svg`,children:e.jsx("path",{d:"M6.07416 14.3588C6.04885 14.3635 6.02299 14.365 5.99735 14.3625C5.8928 14.3524 5.79176 14.3199 5.7017 14.2672C4.09509 13.2699 2.69008 12.0009 1.55487 10.5217C0.595114 9.27986 0.0526721 7.78613 2.58066e-05 6.24014C-0.0030831 5.20954 0.274756 4.19614 0.805894 3.30076C1.33703 2.40538 2.10295 1.65926 3.02743 1.13663C3.94415 0.623425 4.98786 0.357022 6.0488 0.365427C7.10975 0.373833 8.14874 0.656736 9.05653 1.18439C9.96286 1.72763 10.7082 2.48606 11.2208 3.38655C11.7367 4.29343 12.0048 5.31122 11.9999 6.34473C11.8316 8.46416 10.8578 10.4501 9.26396 11.9242C8.4021 12.8039 7.43579 13.5834 6.38483 14.2466C6.28838 14.3003 6.18338 14.3382 6.07416 14.3588ZM5.99398 4.35751C5.72584 4.35717 5.46035 4.40844 5.21318 4.5083C4.966 4.60816 4.74216 4.75459 4.55485 4.93894C4.26736 5.21989 4.07197 5.57572 3.9929 5.96232C3.91383 6.34893 3.95454 6.74933 4.10999 7.11392C4.25928 7.47767 4.51887 7.78994 4.85512 8.01021C5.19136 8.23048 5.58873 8.3486 5.99569 8.34924H6.01027C6.27642 8.3496 6.53995 8.29879 6.78534 8.19978C7.03074 8.10077 7.25303 7.95558 7.43911 7.77275C7.67553 7.53895 7.8496 7.25369 7.94649 6.94129C8.04338 6.62888 8.06021 6.2986 7.99555 5.9786C7.93089 5.65859 7.78666 5.35836 7.57515 5.10348C7.36364 4.8486 7.09112 4.64664 6.78083 4.51481C6.53237 4.41164 6.26465 4.35813 5.99398 4.35751Z",fill:"#0142AF"})}),e.jsx("div",{className:`${_.puSpecificLocationName} cdg-cp-specific-location__name`,children:o})]}):e.jsx(we,{className:`${_.puTextField} cdg-cp-textfield`,placeholder:i,onChange:P=>w(P.toString()),h5:u}),e.jsx(W,{className:`${_.puConfirmButton} cdg-cp-button`,onPress:g,h5:u,fullWidth:!0,children:"Confirm pick up"})]})})}));Ve.__docgenInfo={description:"",methods:[],displayName:"ConfirmPUPoint",props:{placeholder:{defaultValue:{value:"''",computed:!1},required:!1},css:{defaultValue:{value:"{}",computed:!1},required:!1},h5:{defaultValue:{value:"false",computed:!1},required:!1}}};const Ae="_drawerExpander_jh9cy_5",Ie="_expanderLine_jh9cy_20",J={drawerExpander:Ae,expanderLine:Ie},te=({drawerOpen:n,className:a,children:i,css:l={},onDragPositionYChange:d,onDragStart:o,onDrag:p,onDragEnd:u,...f})=>{const v=t.useMemo(()=>({direction:"vertical",setCSS:!1,onStart(...g){o==null||o(...g)},onMove(...g){p==null||p(...g)},onEnd(...g){u==null||u(...g)}}),[o,p,u]),{target:h,position:{y},setPosition:x}=ge(v);t.useEffect(()=>{x({x:0,y:0})},[n]),t.useEffect(()=>{d==null||d(y)},[y]);const w=[J.drawerExpander,a,"cdg-drawer-expander"].filter(Boolean).join(" ");return e.jsx(A,{css:l,childrenRef:h,children:e.jsx("div",{ref:h,className:w,...f,children:i||e.jsx("div",{className:`${J.expanderLine} cdg-drawer-expander-line`})})})};te.__docgenInfo={description:`@note This component is draggable.

On touch device, it will be re-render (to reflect with the user's drag actions)
many more times than when being 'dragged' by a mouse.`,methods:[],displayName:"DrawerExpander",props:{css:{required:!1,tsType:{name:"intersection",raw:`{
  [K in keyof CSSProperties]?: ValueByPropertyName<K> | Values
} & {
  // unknown css declaration styles
  [K: string]: Values | CSS
}`,elements:[{name:"signature",type:"object",raw:`{
  [K in keyof CSSProperties]?: ValueByPropertyName<K> | Values
}`,signature:{properties:[{key:{name:"CSSProperties",required:!1},value:{name:"union",raw:"ValueByPropertyName<K> | Values",elements:[{name:"unknown"},{name:"Values"}]}}]}},{name:"signature",type:"object",raw:`{
  // unknown css declaration styles
  [K: string]: Values | CSS
}`,signature:{properties:[{key:{name:"string"},value:{name:"union",raw:"Values | CSS",elements:[{name:"Values"},{name:"CSS"}],required:!0}}]}}]},description:"",defaultValue:{value:"{}",computed:!1}}}};const ke="_drawer_pipxg_7",De="_drawerHeader_pipxg_8",Fe="_drawerContent_pipxg_9",Re="_drawerFooter_pipxg_10",$e="_h5_pipxg_89",Oe="_drawerExpanded_pipxg_95",Be="_left_pipxg_103",Me="_slideOutLeft_pipxg_1",Te="_slideInLeft_pipxg_1",qe="_right_pipxg_112",Ke="_slideOutRight_pipxg_1",Ue="_slideInRight_pipxg_1",Ge="_bottom_pipxg_121",Ze="_slideOutUp_pipxg_1",ze="_slideInUp_pipxg_1",L={drawer:ke,drawerHeader:De,drawerContent:Fe,drawerFooter:Re,default:"_default_pipxg_84",h5:$e,drawerExpanded:Oe,"non-modal":"_non-modal_pipxg_99",left:Be,slideOutLeft:Me,slideInLeft:Te,right:qe,slideOutRight:Ke,slideInRight:Ue,bottom:Ge,slideOutUp:Ze,slideInUp:ze},q=t.forwardRef(({children:n,css:a={},...i},l)=>{const d=R(l);return e.jsx(A,{css:a,childrenRef:d,children:e.jsx("footer",{ref:d,className:`${L.drawerFooter} cdg-drawer-footer`,...i,children:n})})});q.__docgenInfo={description:"",methods:[],displayName:"DrawerFooter",props:{css:{defaultValue:{value:"{}",computed:!1},required:!1}}};const K=t.forwardRef(({children:n,css:a={},...i},l)=>{const d=R(l);return e.jsx(A,{css:a,childrenRef:d,children:e.jsx("header",{ref:d,className:`${L.drawerHeader} cdg-drawer-header`,...i,children:n})})});K.__docgenInfo={description:"",methods:[],displayName:"DrawerHeader",props:{css:{defaultValue:{value:"{}",computed:!1},required:!1}}};const Xe=n=>{var i;return t.isValidElement(n)&&n.type.toString()===Symbol.for("react.fragment").toString()&&((i=n.props)==null?void 0:i.children)||n},Q=(n,a)=>{const i=[],l=t.Children.map(Xe(n),o=>t.isValidElement(o)&&o.type===a?(i.push(o),null):o);return{child:i.length>=0?i[0]:void 0,rest:l}},Y=100,ee=67,se=t.forwardRef((n,a)=>{const i=typeof window<"u"?window.innerHeight:void 0,{drawerMode:l="modal",className:d="",css:o={},style:p,children:u,open:f=!1,onClose:v,onMouseDown:h,preventFocus:y=!1,preventClose:x=!1,variant:w="default",position:g="right",expanderCSS:$={},onExpandChange:P,onHeightChange:S,expandedPoint:k=Y,expandableLine:D=ee,disableResize:U=!1,disableDragClose:O=!1,...re}=n,ie=w==="h5"?"bottom":g,B=R(a),s=B.current,[r,ne]=t.useState(0),[C,j]=t.useState(),[M,N]=t.useState((s==null?void 0:s.offsetHeight)||0),[F,G]=t.useState(!1),{expandedPosition:b,expandablePosition:T}=t.useMemo(()=>{if(!i)return{expandedPosition:0,expandablePosition:0};const c=Math.floor(r/i*100);let m=k>100||k<0?Y:k,E=D>100||D<0?ee:D;return m<c&&(m=c),m<E&&(E=m),{expandedPosition:Math.floor(i*(m/100)),expandablePosition:Math.floor(i*(E/100))}},[k,D,i,r]),H=t.useCallback(c=>{typeof document>"u"||!s||(N(r),j(r),s.close(c))},[s,r]),oe=t.useCallback(c=>{s&&(h==null||h(c),!(!(c.target instanceof HTMLDialogElement)||x)&&c.target.nodeName==="DIALOG"&&H("dismiss"))},[s,x,h,H]),ae=t.useCallback(c=>{x&&c.preventDefault()},[x]),de=t.useCallback(()=>{s&&s.style.setProperty("transition-property","opacity")},[s]),ce=t.useCallback(c=>{if(!s)return;let m=r;C&&C>r&&(m=C),N(m-c),S==null||S(m-c)},[s,r,C,S]),le=t.useCallback((c,m,E)=>{if(!window.innerHeight||!f||!s)return;s.style.setProperty("transition-property","height, opacity");let z=r;C&&C>r&&(z=C);const X=z-m.y,V=X>T;if(G(V),F!==V&&(P==null||P(V)),E({x:0,y:0}),V&&b&&C===r){j(b),N(b);return}V||j(r),!O&&X<r-100&&H()},[s,f,O,r,C,b,T]),Z=()=>{F&&(G(!1),P==null||P(!1),S==null||S(r),j(r),N(r))};t.useImperativeHandle(a,()=>({...s,triggerCollapse:Z}));const pe=()=>w==="h5"&&typeof u=="function"?u({triggerCollapse:Z,height:M,isExpanded:F,expandedPoint:b,expandableLine:T,disableResize:U,disableDragClose:O}):u,{child:ue,rest:fe}=Q(pe(),K),{child:me,rest:_e}=Q(fe,q);t.useEffect(()=>{if(!(typeof document>"u"||!s)){if(f){y&&s.setAttribute("inert",""),l==="modal"?s.showModal():s.show(),s.removeAttribute("inert");return}H()}},[f,s,y,H]),t.useEffect(()=>{!f&&r&&N(r),j(r)},[f,r]),t.useEffect(()=>{ne((s==null?void 0:s.offsetHeight)??0)},[s]);const he=[L.drawer,L[l],L[w],L[ie],F&&`${L.drawerExpanded} cdg-drawer-expanded`,d,"cdg-drawer"].filter(Boolean).join(" ");return e.jsx(A,{css:o,childrenRef:B,children:e.jsxs("dialog",{ref:B,className:he,...re,style:{...p,height:w==="h5"&&M?`${M}px`:p==null?void 0:p.height},onMouseDown:oe,onClose:v,onCancel:ae,children:[w==="h5"&&!U&&e.jsx(te,{drawerOpen:f,css:$,onDragStart:de,onDragPositionYChange:ce,onDragEnd:le}),ue,e.jsx("article",{className:`${L.drawerContent} cdg-drawer-content`,children:_e}),me]})})});se.__docgenInfo={description:"",methods:[{name:"triggerCollapse",docblock:null,modifiers:[],params:[],returns:null}],displayName:"Drawer"};const I=se;I.Header=K;I.Footer=q;I.Header.displayName="Drawer.Header";I.Footer.displayName="Drawer.Footer";I.displayName="Drawer";export{Ve as C,I as D};

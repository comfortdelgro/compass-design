import{d as O,x as P}from"./index-cf8b885c.js";import{s as C,R as c,a as z,j as a}from"./index-06645c1d.js";import{S as U,B as g}from"./button-f9a915f3.js";import{I as y}from"./index-af6d2776.js";import{u as W}from"./use-dom-ref-1eeb366d.js";const j=C("div",{display:"flex",height:"$11",fontFamily:"$sans",flexDirection:"row",alignItems:"center",borderWidth:"1px",borderStyle:"solid",borderColor:"$divider",borderRadius:"$md",color:"$typeHeading",backgroundColor:"$whiteText",transition:"$default",minWidth:"$48","&:focus-within":{borderColor:"$cdgBlue"},[`${U}`]:{transform:"scale(0.9)"},variants:{disabled:{true:{color:"$disabledText",backgroundColor:"$gray20"}},isErrored:{true:{borderColor:"$danger","&:focus-within":{borderColor:"$danger"}}}}}),M=C("input",{width:"100%",fontSize:"$label1",fontWeight:"$semibold",lineHeight:"$normal",padding:"$1_5 $3",border:0,borderRadius:"$md",backgroundColor:"transparent","&::placeholder":{color:"#B4B4B4",fontSize:"$label1",fontWeight:"$semibold"},"&:focus":{outline:"none"},"&:disabled":{cursor:"not-allowed"}}),T=c.forwardRef((e,S)=>{const{css:B={},id:x=`cdg-element-${Math.random().toString(36).substring(2)}`,value:l="",isErrored:v=!1,isReadOnly:u=!1,isRequired:w=!1,isDisabled:i=!1,autoFocus:F,placeholder:R,onSubmit:s,onChange:n,onChangeEvent:d,...D}=e,[f,r]=c.useState(l),m=W(S);c.useEffect(()=>{r(l)},[l]);const E=o=>{const t=o.target.value;r(t),n==null||n(t),d==null||d(o)},I=o=>{var $,b;const t=o.key,h=o.target;(t==="Enter"||t==="Escape")&&o.preventDefault(),!(i||u)&&(t==="Enter"&&h.value!=""&&(s==null||s(h.value)),t==="Escape"&&(r(""),($=e.onClear)==null||$.call(e)),(b=e.onKeyDown)==null||b.call(e,o))},k=()=>{var o;r(""),n==null||n(""),(o=e.onClear)==null||o.call(e)},K=()=>{var o;(o=m.current)==null||o.focus()};return z(j,{disabled:i,css:B,isErrored:v,children:[a(M,{ref:m,id:x,...D,autoFocus:F,readOnly:u,required:w,disabled:i,type:"text",placeholder:R,value:f,onCut:e.onCut,onCopy:e.onCopy,onBlur:e.onBlur,onFocus:e.onFocus,onPaste:e.onPaste,onInput:e.onInput,onKeyUp:e.onKeyUp,onSelect:e.onSelect,onChange:E,onKeyDown:I,onBeforeInput:e.onBeforeInput,onCompositionEnd:e.onCompositionEnd,onCompositionStart:e.onCompositionStart,onCompositionUpdate:e.onCompositionUpdate}),f!==""?a(g,{size:"sm",variant:"ghost",onPress:k,children:a(y,{className:"icon",icon:O})}):a(g,{isDisabled:!!i,onPress:K,size:"sm",variant:"ghost",children:a(y,{className:"icon",icon:P})})]})}),_=T;export{_ as S};

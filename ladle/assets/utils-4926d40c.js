import{l as a}from"./lodash-f4ec3576.js";import{r as h,R as f,j as d}from"./index-73934575.js";import{p}from"./pick-child-dfdaea9c.js";import{u as b}from"./use-dom-ref-c8ee5736.js";import{q as k}from"./dropdown.styles-6523220b.js";const I=h.createContext({isLoadingMore:!1,focusKey:null,isPositioned:!1,labelId:"",open:!1,searchValue:"",selectedItem:null,disabledKeys:[],selectedKey:"",defaultSelectedKey:"",setSelectedItem:()=>{},onItemClick:()=>{},onHeaderClick:()=>{}}),m=f.forwardRef((r,t)=>{const{children:e,css:n={},onClick:i,...s}=r,l=b(t),{onHeaderClick:o}=h.useContext(I);return d(k,{ref:l,css:n,...s,onClick:x=>{o(),i==null||i(x)},children:e})}),v=m;function g(r){var e,n;if(!r)return"";if(typeof r=="string")return r;if((e=r.props)!=null&&e.textValue)return r.props.textValue;const t=(n=r.props)==null?void 0:n.children;return t instanceof Array?t.map(g).join(" "):g(t)}const y=(r,t,e=[])=>{var n,i;for(let s=0;s<r.length;s++){const l=r[s];if(l!=null&&l.props){const o=((n=l.props.value)==null?void 0:n.toString())??((i=l.key)==null?void 0:i.toString().replace(".$",""))??"";if(o.toString()===t.toString()&&!(e!=null&&e.includes(o.toString())))return l;if(l.props.children){const u=y(f.Children.toArray(l.props.children),t);if(u)return u}}}return null},R=(r,t,e=[])=>{if(!e.length)return null;const n=e.filter(s=>s.visibility);if(n.length){const s=n.findIndex(l=>l.value.toString()===r.toString());if(s!==-1){const l=n[s-1]??n[n.length-1];if(l)return c(l.value,t)}}return C(t,e)},E=(r,t,e=[])=>{if(!e.length)return null;const n=e.filter(s=>s.visibility);if(n.length){const s=n.findIndex(l=>l.value.toString()===r.toString());if(s!==-1){const l=n[s+1]??n[0];if(l)return c(l.value,t)}}return S(t,e)},S=(r,t=[])=>{if(!(t!=null&&t.length))return null;let e=null;for(let n=0;n<t.length;n++){const i=t[n];if(i!=null&&i.visibility){e=c(i.value,r);break}}return e},C=(r,t=[])=>{if(!(t!=null&&t.length))return null;let e=null;for(let n=t.length-1;n>=0;n--){const i=t[n];if(i!=null&&i.visibility){e=c(i.value,r);break}}return e},c=(r,t)=>{const{rest:e}=p(t,v),n=f.Children.toArray(e);return n!=null&&n.length?y(t,r)??null:null},L=(r,t)=>{const e=s=>{const{top:l}=s.getBoundingClientRect();return l},n=e(r),i=e(t);return Math.hypot(n-i)};function j(r,t,e){let n;return r!=null&&!a.isEmpty(r.toString())&&t!==""&&!e&&(n=r),t!=null&&!a.isEmpty(t.toString())&&(n=t),n}class M{constructor(t,e){this.getKeyIndex=n=>{const i=this.collection.findIndex(s=>s.key===n);return i!==-1?i:null},this.getKeyAfter=n=>{var l;const i=this.getKeyIndex(n);if(i===null)return null;const s=(l=this.collection[i+1])==null?void 0:l.key;return s||null},this.getKeyBefore=n=>{var l;const i=this.getKeyIndex(n);if(i===null)return null;const s=(l=this.collection[i-1])==null?void 0:l.key;return s||null},this.collection=t,this.disabledKeys=e}getKeyBelow(t){let e=this.getKeyAfter(t);for(;e!=null;){if(![...this.disabledKeys].includes(e))return e;e=this.getKeyAfter(e)}return null}getKeyAbove(t){let e=this.getKeyBefore(t);for(;e!=null;){if(![...this.disabledKeys].includes(e))return e;e=this.getKeyBefore(e)}return null}getFirstKey(){var e;let t=(e=this.collection[0])==null?void 0:e.key;for(;t!=null;){if(![...this.disabledKeys].includes(t))return t;t=this.getKeyAfter(t)}return null}getLastKey(){var e;let t=(e=this.collection[this.collection.length-1])==null?void 0:e.key;for(;t!=null;){if(![...this.disabledKeys].includes(t))return t;t=this.getKeyBefore(t)}return null}}export{I as D,M as L,v as a,C as b,S as c,c as d,E as e,R as f,L as g,j as h,g as t};

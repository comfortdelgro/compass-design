import{r as p,j as R,s as le,R as rt,F as nt,a as Q}from"./index-2a78b4a6.js";import{m as Y,L as ot,M as Be,N as De,O as Ye,b as Z,P as Ze,Q as at,R as it,c as st,h as z,S as K,T as ct,U as We,d as Ve,V as lt,K as be,W as ut,$ as ce,e as He,X as je,Y as dt,u as ft,a as gt,Z as ht,q as pt}from"./import-2b4a0398.js";import{u as bt}from"./use-dom-ref-60270c2c.js";import"./index-bb444a52.js";import{B as ue}from"./button-58d5610a.js";const Ge=p.createContext({}),mt=({children:t})=>{const[e,n]=p.useState(!1);return R(Ge.Provider,{value:{isReset:e,setIsReset:n},children:t})},vr=()=>p.useContext(Ge),Pr=mt,Ee=le("td",{cursor:"pointer",".calendar-cell-value:focus-visible":{outline:"$cdgBlue120 solid 2px",borderRadius:"$md"},"&.focused":{height:"100%",outline:"$cdgBlue120 solid 2px"},"&.today .calendar-cell-value":{color:"$cdgBlue",fontWeight:"bold"},"&:hover":{backgroundColor:"$cdgBlue40 !important",borderRadius:"$md"},"&.selected":{backgroundColor:"$gray20"},"&.highlighted":{backgroundColor:"$cdgBlue100",borderRadius:"$md"},"&.highlighted .calendar-cell-value":{color:"$whiteText"},"& .calendar-cell-value":{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",fontSize:"$body3",color:"$primaryText"},"& .calendar-cell-value.disabled, &.unavailable .calendar-cell-value":{cursor:"not-allowed",color:"$gray50",background:"$background"}}),yt={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit"},ze=new WeakMap;function de(t,e,n){return t==null?!1:e!=null&&t.compare(e)<0||n!=null&&t.compare(n)>0}function vt(t,e){if(t===null)return null;if(t)return Y(t,e)}const ne=(t,e,n,r,o)=>{const i={months:0},c=ee(t,e,n).subtract(i);return te(t,c,e,n,r,o)};function ee(t,e,n,r,o){let i=t;return e.years?i=ot(t):e.months?i=Be(t):e.weeks&&(i=De(t,n)),te(t,i,e,n,r,o)}function te(t,e,n,r,o,i){return o&&t.compare(o)>=0&&(e=Ye(e,ee(Z(o),n,r))),i&&t.compare(i)<=0&&(e=Ze(e,Pt(Z(i),n,r))),e}function Pt(t,e,n,r,o){const i={...e};i.days?i.days--:i.weeks?i.weeks--:i.months?i.months--:i.years&&i.years--;const c=ee(t,e,n).subtract(i);return te(t,c,e,n,r,o)}function V(t,e,n){return e&&(t=Ye(t,Z(e))),n&&(t=Ze(t,Z(n))),t}function Dt(t,e,n){if(!e)return null;if(!n)return t;for(;t.compare(e)>=0&&n(t);)t=t.subtract({days:1});return t.compare(e)>=0?t:null}function Tt(t){const e=t.width/2||t.radiusX||0,n=t.height/2||t.radiusY||0;return{top:t.clientY-n,right:t.clientX+e,bottom:t.clientY+n,left:t.clientX-e}}function St(t,e){return!(t.left>e.right||e.left>t.right||t.top>e.bottom||e.top>t.bottom)}function q(t,e){if(!e)return;const n=e.getBoundingClientRect(),r=Tt(t);return St(n,r)}function Dr(t){return t&&"hour"in t?t:new at}function Tr(t,e){t={...yt,...t};const n=e.granularity||"minute",r=Object.keys(t);let o=r.indexOf(e.maxGranularity??"year");o<0&&(o=0);let i=r.indexOf(n);if(i<0&&(i=2),o>i)throw new Error("maxGranularity must be greater than granularity");const c=r.slice(o,i+1).reduce((h,f)=>(h[f]=t[f],h),{});return e.hourCycle!=null&&(c.hour12=e.hourCycle===12),c.timeZone=e.timeZone||"UTC",(n==="hour"||n==="minute"||n==="second")&&e.timeZone&&!e.hideTimeZone&&(c.timeZoneName="short"),e.showEra&&o===0&&(c.era="short"),c}function Sr(t,e,n){var o,i;if(!e.visibleRange)throw new Error("visibleRange is not defined on state");let r=t.add({days:n});for(;(n<0?r.compare(e.visibleRange.start)>=0:r.compare(e.visibleRange.end)<=0)&&!((o=e.isCellUnavailable)!=null&&o.call(e,r));)r=r.add({days:n});return(i=e.isCellUnavailable)!=null&&i.call(e,r)?r.add({days:-n}):null}function Cr(t,e,n,r){if(t)return vt(t,n);const o=Y(it(r).set({hour:0,minute:0,second:0,millisecond:0}),n);return e==="year"||e==="month"||e==="day"?Z(o):r?o:st(o)}function wr(t,e){const n={year:"yyyy",month:"mm",day:"dd"};return t==="era"||t==="dayPeriod"?e:t==="year"||t==="month"||t==="day"?n[t]:"––"}const Ct=new Set(["id"]),wt=/^(data-.*)$/;function $r(t,e={}){const{labelable:n,propNames:r}=e,o={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(Ct.has(i)||n&&labelablePropNames.has(i)||r!=null&&r.has(i)||wt.test(i))&&(o[i]=t[i]);return o}const Re=1900,ke=2999,$t=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),xr={"en-US":{previous:"Previous",next:"Next",selectedDateDescription:"Selected Date: {date}",selectedRangeDescription:"Selected Range: {dateRange}",todayDate:"Today, {date}",todayDateSelected:"Today, {date} selected",dateSelected:"{date} selected",startRangeSelectionPrompt:"Click to start selecting date range",finishRangeSelectionPrompt:"Click to finish selecting date range",calendar:"Calendar",minimumDate:"First available date",maximumDate:"Last available date",dateRange:"{startDate} to {endDate}",era:"era",year:"year",month:"month",day:"day",hour:"hour",minute:"minute",second:"second",dayPeriod:"AM/PM",startDate:"Start Date",endDate:"End Date",weekday:"day of the week",timeZoneName:"time zone",selectedTimeDescription:"Selected Time: {time}",Empty:"Empty"}};function xt(t){return t.width===0&&t.height===0||t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"}function me(t){return t.tagName==="A"&&t.hasAttribute("href")}function Xe(t,e){return t.type==="checkbox"||t.type==="radio"?e===" ":$t.has(t.type)}function fe(t,e){const{key:n,code:r}=t,o=e,i=o.getAttribute("role");return(n==="Enter"||n===" "||n==="Spacebar"||r==="Space")&&!(o instanceof HTMLInputElement&&!Xe(o,n)||o instanceof HTMLTextAreaElement||o.isContentEditable)&&(!me(o)||i==="button"&&n!=="Enter")&&!(i==="link"&&n!=="Enter")}const Te=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],Et=Te.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";Te.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const Rt=Te.join(':not([hidden]):not([tabindex="-1"]),'),Er=`__role_${Date.now()}`,Rr=`__focusManager_${Date.now()}`;function Se(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(t.test(((e=window.navigator.userAgentData)==null?void 0:e.platform)||window.navigator.platform)):!1}function kt(t){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)==null?void 0:e.brands.some(n=>t.test(n.brand)))||t.test(window.navigator.userAgent)}function Mt(){return Se(/^Mac/i)}function Ft(){return Se(/^iPhone/i)}function It(){return Se(/^iPad/i)||Mt()&&navigator.maxTouchPoints>1}function _e(){return Ft()||It()}function Lt(){return kt(/Android/i)}let j="default";const Nt=new Map,At=new Set,se=new WeakMap;let ye="";function Kt(t){requestAnimationFrame(()=>{Nt.size===0?t():At.add(t)})}function oe(t){if(_e()){if(j!=="disabled")return;j="restoring",setTimeout(()=>{Kt(()=>{j==="restoring"&&(document.documentElement.style.webkitUserSelect==="none"&&(document.documentElement.style.webkitUserSelect=ye||""),ye="",j="default")})},300)}else if((t instanceof HTMLElement||t instanceof SVGElement)&&t&&se.has(t)){const e=se.get(t);t.style.userSelect==="none"&&(t.style.userSelect=e),t.getAttribute("style")===""&&t.removeAttribute("style"),se.delete(t)}}function Me(t){_e()?(j==="default"&&(ye=document.documentElement.style.webkitUserSelect,document.documentElement.style.webkitUserSelect="none"),j="disabled"):(t instanceof HTMLElement||t instanceof SVGElement)&&(se.set(t,t.style.userSelect),t.style.userSelect="none")}let ae=null;function Ot(){if(ae==null){ae=!1;try{document.createElement("div").focus({get preventScroll(){return ae=!0,!0}})}catch{}}return ae}function G(t){if(Ot())t.focus({preventScroll:!0});else{const e=Bt(t);t.focus(),Ut(e)}}function Ut(t){for(const{element:e,scrollTop:n,scrollLeft:r}of t)e.scrollTop=n,e.scrollLeft=r}function Bt(t){let e=t.parentNode;const n=[],r=document.scrollingElement||document.documentElement;for(;e instanceof HTMLElement&&e!==r;)(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&n.push({element:e,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),e=e.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}function Fe(t){return t.mozInputSource===0&&t.isTrusted?!0:Lt()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function Yt(t){if(!(t instanceof HTMLElement)&&!(t instanceof SVGElement))return!1;const{display:e,visibility:n}=t.style;let r=e!=="none"&&n!=="hidden"&&n!=="collapse";if(r){const{getComputedStyle:o}=t.ownerDocument.defaultView,{display:i,visibility:c}=o(t);r=i!=="none"&&c!=="hidden"&&c!=="collapse"}return r}function Zt(t,e){return!t.hasAttribute("hidden")&&(t.nodeName==="DETAILS"&&e&&e.nodeName!=="SUMMARY"?t.hasAttribute("open"):!0)}function qe(t,e){return t.nodeName!=="#comment"&&Yt(t)&&Zt(t,e)&&(!t.parentElement||qe(t.parentElement,t))}function Wt(t,e){return e.some(n=>n.contains(t))}function ie(t,e,n){const r=e!=null&&e.tabbable?Rt:Et,o=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode(i){var c;return(c=e==null?void 0:e.from)!=null&&c.contains(i)?NodeFilter.FILTER_REJECT:i.matches(r)&&qe(i)&&(!n||Wt(i,n))&&(!(e!=null&&e.accept)||e.accept(i))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return e!=null&&e.from&&(o.currentNode=e.from),o}function Vt(t){G(t)}function J(t,e=!1){if(t!=null&&!e)try{Vt(t)}catch{}else if(t!=null)try{t.focus()}catch{}}function ge(t){let e,n;do n=t.lastChild(),n&&(e=n);while(n);return e}function kr(t,e={}){return{focusNext(n={}){const r=t.current;if(!r)return;const{from:o,tabbable:i=e.tabbable,wrap:c=e.wrap,accept:g=e.accept}=n,h=o||document.activeElement,f=ie(r,{tabbable:i,accept:g});r.contains(h)&&(f.currentNode=h);let b=f.nextNode();return!b&&c&&(f.currentNode=r,b=f.nextNode()),b&&J(b,!0),b},focusPrevious(n=e){const r=t.current;if(!r)return;const{from:o,tabbable:i=e.tabbable,wrap:c=e.wrap,accept:g=e.accept}=n,h=o||document.activeElement,f=ie(r,{tabbable:i,accept:g});if(r.contains(h))f.currentNode=h;else{const v=ge(f);return v&&J(v,!0),v}let b=f.previousNode();return!b&&c&&(f.currentNode=r,b=ge(f)),b&&J(b,!0),b},focusFirst(n=e){const r=t.current;if(!r)return;const{tabbable:o=e.tabbable,accept:i=e.accept}=n,g=ie(r,{tabbable:o,accept:i}).nextNode();return g&&J(g,!0),g},focusLast(n=e){const r=t.current;if(!r)return;const{tabbable:o=e.tabbable,accept:i=e.accept}=n,c=ie(r,{tabbable:o,accept:i}),g=ge(c);return g&&J(g,!0),g}}}class Mr{constructor(e,n){this.nativeEvent=n,this.target=n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget,this.bubbles=n.bubbles,this.cancelable=n.cancelable,this.defaultPrevented=n.defaultPrevented,this.eventPhase=n.eventPhase,this.isTrusted=n.isTrusted,this.timeStamp=n.timeStamp,this.type=e}isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}}function ve(t){for(Ie(t)&&(t=t.parentElement);t&&!Ie(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}function Ie(t){const e=window.getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}function Le(t,e,n){const r=n==="left"?"offsetLeft":"offsetTop";let o=0;for(;e.offsetParent&&(o+=e[r],e.offsetParent!==t);){if(e.offsetParent.contains(t)){o-=t[r];break}e=e.offsetParent}return o}function Ht(t,e){const n=Le(t,e,"left"),r=Le(t,e,"top"),o=e.offsetWidth,i=e.offsetHeight;let c=t.scrollLeft,g=t.scrollTop;const{borderTopWidth:h,borderLeftWidth:f}=getComputedStyle(t),b=t.scrollLeft+parseInt(f,10),v=t.scrollTop+parseInt(h,10),T=b+t.clientWidth,d=v+t.clientHeight;n<=c?c=n-parseInt(f,10):n+o>T&&(c+=n+o-T),r<=v?g=r-parseInt(h,10):r+i>d&&(g+=r+i-d),t.scrollLeft=c,t.scrollTop=g}function jt(t,e){var n,r,o,i;if(document.contains(t)){const c=document.scrollingElement||document.documentElement;if(window.getComputedStyle(c).overflow==="hidden"){let h=ve(t);for(;t&&h&&t!==c&&h!==c;)Ht(h,t),t=h,h=ve(t)}else{const{left:h,top:f}=t.getBoundingClientRect();(n=t==null?void 0:t.scrollIntoView)==null||n.call(t,{block:"nearest"});const{left:b,top:v}=t.getBoundingClientRect();(Math.abs(h-b)>1||Math.abs(f-v)>1)&&((o=(r=e==null?void 0:e.containingElement)==null?void 0:r.scrollIntoView)==null||o.call(r,{block:"center",inline:"center"}),(i=t.scrollIntoView)==null||i.call(t,{block:"nearest"}))}}}let Gt=0;const he=new Map;function zt(t){const[e,n]=p.useState(void 0);return p.useLayoutEffect(()=>{if(!t)return;let r=he.get(t);if(r)n(r.element.id);else{const o=`react-aria-description-${Gt++}`;n(o);const i=document.createElement("div");i.id=o,i.style.display="none",i.textContent=t,document.body.appendChild(i),r={refCount:0,element:i},he.set(t,r)}return r.refCount++,()=>{r&&--r.refCount===0&&(r.element.remove(),he.delete(t))}},[t]),{"aria-describedby":t?e:void 0}}function Xt(){const t=p.useRef(new Map),e=p.useCallback((o,i,c,g)=>{const h=g!=null&&g.once?(...f)=>{t.current.delete(c),c(...f)}:c;t.current.set(c,{type:i,eventTarget:o,fn:h,options:g}),o.addEventListener(i,c,g)},[]),n=p.useCallback((o,i,c,g)=>{var f;const h=((f=t.current.get(c))==null?void 0:f.fn)||c;o.removeEventListener(i,h,g),t.current.delete(c)},[]),r=p.useCallback(()=>{t.current.forEach((o,i)=>{n(o.eventTarget,o.type,i,o.options)})},[n]);return p.useEffect(()=>r,[r]),{addGlobalListener:e,removeGlobalListener:n,removeAllGlobalListeners:r}}const Je=p.createContext(null);Je.displayName="PressResponderContext";function _t(t,e){p.useLayoutEffect(()=>(t!=null&&t.ref&&e&&(t.ref.current=e.current),()=>{t!=null&&t.ref&&e&&(t.ref.current=null)}),[t,e])}function qt(t){const e=p.useContext(Je);if(e){const{register:n,...r}=e;t={...r,...t},n()}return _t(e,t.ref),t}function U(t,e){return{currentTarget:t,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey}}function Ne(t,e){return t instanceof HTMLInputElement?!Xe(t,e):t instanceof HTMLButtonElement?t.type!=="submit":!0}function pe(t){return!(t instanceof HTMLElement)||!t.draggable}function Jt(t){const{targetTouches:e}=t;return e.length>0?e[0]:null}function Qt(t,e){const n=t.changedTouches;for(let r=0;r<n.length;r++){const o=n[r];if((o==null?void 0:o.identifier)===e)return o}return null}function er(t){const{onPress:e,onPressChange:n,onPressStart:r,onPressEnd:o,onPressUp:i,isDisabled:c,isPressed:g,preventFocusOnPress:h,shouldCancelOnPointerExit:f,allowTextSelectionOnPress:b,ref:v,...T}=qt(t),d=p.useRef(null);d.current={onPress:e,onPressChange:n,onPressStart:r,onPressEnd:o,onPressUp:i,isDisabled:c,shouldCancelOnPointerExit:f};const[P,S]=p.useState(!1),$=p.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:"mouse"}),{addGlobalListener:x,removeAllGlobalListeners:m}=Xt(),k=p.useMemo(()=>{const a=$.current,M=(l,L)=>{if(!d.current)return;const{onPressStart:u,onPressChange:s,isDisabled:F}=d.current;F||a.didFirePressStart||(u&&u({type:"pressstart",pointerType:L,target:l.currentTarget,shiftKey:l.shiftKey,metaKey:l.metaKey,ctrlKey:l.ctrlKey,altKey:l.altKey}),s&&s(!0),a.didFirePressStart=!0,S(!0))},C=(l,L,u=!0)=>{if(!d.current||!L)return;const{onPressEnd:s,onPressChange:F,onPress:N,isDisabled:D}=d.current;a.didFirePressStart&&(a.ignoreClickAfterPress=!0,a.didFirePressStart=!1,N&&u&&!D&&N({type:"press",pointerType:L,target:l.currentTarget,shiftKey:l.shiftKey,metaKey:l.metaKey,ctrlKey:l.ctrlKey,altKey:l.altKey}),s&&s({type:"pressend",pointerType:L,target:l.currentTarget,shiftKey:l.shiftKey,metaKey:l.metaKey,ctrlKey:l.ctrlKey,altKey:l.altKey}),F&&F(!1),S(!1))},E=(l,L)=>{if(!d.current)return;const{onPressUp:u,isDisabled:s}=d.current;s||u&&u({type:"pressup",pointerType:L,target:l.currentTarget,shiftKey:l.shiftKey,metaKey:l.metaKey,ctrlKey:l.ctrlKey,altKey:l.altKey})},y=l=>{a.isPressed&&(a.isOverTarget&&C(U(a.target,l),a.pointerType,!1),a.isPressed=!1,a.isOverTarget=!1,a.activePointerId=null,a.pointerType="mouse",m(),b||oe(a.target))},w={"aria-label":"","aria-labelledby":void 0,onKeyDown(l){fe(l.nativeEvent,l.currentTarget)&&l.currentTarget.contains(l.target)?(Ne(l.target,l.key)&&l.preventDefault(),l.stopPropagation(),!a.isPressed&&!l.repeat&&(a.target=l.currentTarget,a.isPressed=!0,M(l,"keyboard"),x(document,"keyup",I,!1))):l.key==="Enter"&&me(l.currentTarget)&&l.stopPropagation()},onKeyUp(l){fe(l.nativeEvent,l.currentTarget)&&l.currentTarget.contains(l.target)&&E(U(a.target,l),"keyboard")},onClick(l){l.currentTarget.contains(l.target)&&l&&l.button===0&&(l.stopPropagation(),c&&l.preventDefault(),!a.ignoreClickAfterPress&&!a.ignoreEmulatedMouseEvents&&(a.pointerType==="virtual"||Fe(l.nativeEvent))&&(!c&&!h&&G(l.currentTarget),M(l,"virtual"),E(l,"virtual"),C(l,"virtual")),a.ignoreEmulatedMouseEvents=!1,a.ignoreClickAfterPress=!1)}},I=l=>{if(a.isPressed&&fe(l,a.target)){Ne(l.target,l.key)&&l.preventDefault(),l.stopPropagation(),a.isPressed=!1;const L=l.target;a.target&&C(U(a.target,l),"keyboard",a.target.contains(L)),m(),a.target instanceof HTMLElement&&a.target.contains(L)&&(me(a.target)||a.target.getAttribute("role")==="link")&&a.target.click()}};if(typeof p.PointerEvent<"u"){w.onPointerDown=s=>{if(!(s.button!==0||!s.currentTarget.contains(s.target))){if(xt(s.nativeEvent)){a.pointerType="virtual";return}pe(s.currentTarget)&&s.preventDefault(),a.pointerType=s.pointerType,s.stopPropagation(),a.isPressed||(a.isPressed=!0,a.isOverTarget=!0,a.activePointerId=s.pointerId,a.target=s.currentTarget,!c&&!h&&G(s.currentTarget),b||Me(a.target),M(s,a.pointerType),x(document,"pointermove",l,!1),x(document,"pointerup",L,!1),x(document,"pointercancel",u,!1))}},w.onMouseDown=s=>{s.currentTarget.contains(s.target)&&s.button===0&&(pe(s.currentTarget)&&s.preventDefault(),s.stopPropagation())},w.onPointerUp=s=>{!s.currentTarget.contains(s.target)||a.pointerType==="virtual"||s.button===0&&q(s,s.currentTarget)&&E(s,a.pointerType||s.pointerType)};const l=s=>{s.pointerId===a.activePointerId&&(q(s,a.target)?a.isOverTarget||(a.isOverTarget=!0,M(U(a.target,s),a.pointerType)):a.isOverTarget&&(a.isOverTarget=!1,C(U(a.target,s),a.pointerType,!1),d.current.shouldCancelOnPointerExit&&y(s)))},L=s=>{s.pointerId===a.activePointerId&&a.isPressed&&s.button===0&&(q(s,a.target)?C(U(a.target,s),a.pointerType):a.isOverTarget&&C(U(a.target,s),a.pointerType,!1),a.isPressed=!1,a.isOverTarget=!1,a.activePointerId=null,a.pointerType="pen",m(),b||oe(a.target))},u=s=>{y(s)};w.onDragStart=s=>{s.currentTarget.contains(s.target)&&y(s)}}else{w.onMouseDown=u=>{u.button!==0||!u.currentTarget.contains(u.target)||(pe(u.currentTarget)&&u.preventDefault(),u.stopPropagation(),!a.ignoreEmulatedMouseEvents&&(a.isPressed=!0,a.isOverTarget=!0,a.target=u.currentTarget,a.pointerType=Fe(u.nativeEvent)?"virtual":"mouse",!c&&!h&&G(u.currentTarget),M(u,a.pointerType),x(document,"mouseup",l,!1)))},w.onMouseEnter=u=>{u.currentTarget.contains(u.target)&&(u.stopPropagation(),a.isPressed&&!a.ignoreEmulatedMouseEvents&&(a.isOverTarget=!0,M(u,a.pointerType)))},w.onMouseLeave=u=>{u.currentTarget.contains(u.target)&&(u.stopPropagation(),a.isPressed&&!a.ignoreEmulatedMouseEvents&&(a.isOverTarget=!1,C(u,a.pointerType,!1),d.current.shouldCancelOnPointerExit&&y(u)))},w.onMouseUp=u=>{u.currentTarget.contains(u.target)&&!a.ignoreEmulatedMouseEvents&&u.button===0&&E(u,a.pointerType)};const l=u=>{if(u.button===0){if(a.isPressed=!1,m(),a.ignoreEmulatedMouseEvents){a.ignoreEmulatedMouseEvents=!1;return}q(u,a.target)?C(U(a.target,u),a.pointerType):a.isOverTarget&&C(U(a.target,u),a.pointerType,!1),a.isOverTarget=!1}};w.onTouchStart=u=>{if(!u.currentTarget.contains(u.target))return;u.stopPropagation();const s=Jt(u.nativeEvent);s&&(a.activePointerId=s.identifier,a.ignoreEmulatedMouseEvents=!0,a.isOverTarget=!0,a.isPressed=!0,a.target=u.currentTarget,a.pointerType="touch",!c&&!h&&G(u.currentTarget),b||Me(a.target),M(u,a.pointerType),x(window,"scroll",L,!0))},w.onTouchMove=u=>{u.currentTarget.contains(u.target)&&(u.stopPropagation(),a.isPressed)},w.onTouchEnd=u=>{if(!u.currentTarget.contains(u.target)||(u.stopPropagation(),!a.isPressed))return;const s=Qt(u.nativeEvent,a.activePointerId);s&&q(s,u.currentTarget)?(E(u,a.pointerType),C(u,a.pointerType)):a.isOverTarget&&C(u,a.pointerType,!1),a.isPressed=!1,a.activePointerId=null,a.isOverTarget=!1,a.ignoreEmulatedMouseEvents=!0,b||oe(a.target),m()},w.onTouchCancel=u=>{u.currentTarget.contains(u.target)&&(u.stopPropagation(),a.isPressed&&y(u))};const L=u=>{a.isPressed&&u.target.contains(a.target)&&y({currentTarget:a.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};w.onDragStart=u=>{u.currentTarget.contains(u.target)&&y(u)}}return w},[x,c,h,m,b]);return p.useEffect(()=>()=>{b||oe($.current.target)},[b]),{isPressed:g??P,pressProps:{...T,...k}}}function Ae(t,e,n){var l,L,u,s,F,N;let{date:r,isDisabled:o}=t;const{errorMessageId:i,selectedDateDescription:c}=ze.get(e)??{errorMessageId:void 0,selectedDateDescription:""},g=z({weekday:"long",day:"numeric",month:"long",year:"numeric",era:void 0,timeZone:e.timeZone});let h=(l=e.isSelected)==null?void 0:l.call(e,r);const f=(L=e.isCellFocused)==null?void 0:L.call(e,r);o=o||((u=e.isCellDisabled)==null?void 0:u.call(e,r));const b=(s=e.isCellUnavailable)==null?void 0:s.call(e,r),v=!o&&!b,T=e.validationState==="invalid"&&("highlightedRange"in e?!e.anchorDate&&e.highlightedRange&&r.compare(e.highlightedRange.start)>=0&&r.compare(e.highlightedRange.end)<=0:e.value&&K(e.value,r));T&&(h=!0);const d=p.useRef();d.current&&ct(r,d.current)&&(r=d.current),d.current=r;const P=p.useMemo(()=>r.toDate(e.timeZone??"UTC"),[r,e.timeZone]),S=We(r,e.timeZone??"UTC"),$=p.useMemo(()=>{var A,O;let D="";return"highlightedRange"in e&&((A=e.value)!=null&&A.end)&&((O=e.value)!=null&&O.start)&&!e.anchorDate&&(K(r,e.value.start)||K(r,e.value.end))&&(D=c+", "),D+=g.format(P),S?D=h?"I dag, {date} selected".replace("{date}",D):"I dag, {date}".replace("{date}",D):h&&(D="{date} selected".replace("{date}",D)),e.minValue&&K(r,e.minValue)?D+=", First available date":e.maxValue&&K(r,e.maxValue)&&(D+=", Last available date"),D},[g,P,h,S,r,e,c]);let x="";"anchorDate"in e&&f&&!e.isReadOnly&&v&&(e.anchorDate?x="Click to finish selecting date range":x="Click to start selecting date range");const m=zt(x),k=p.useRef(!1),a=p.useRef(!1),M=p.useRef(),{pressProps:C,isPressed:E}=er({shouldCancelOnPointerExit:"anchorDate"in e&&!!e.anchorDate,preventFocusOnPress:!0,isDisabled:!v||e.isReadOnly,onPressStart(D){var A,O,W;if(e.isReadOnly){(A=e.setFocusedDate)==null||A.call(e,r);return}if("highlightedRange"in e&&!e.anchorDate&&(D.pointerType==="mouse"||D.pointerType==="touch")){if(e.highlightedRange&&!T){if(K(r,e.highlightedRange.start)){e.setAnchorDate(e.highlightedRange.end),(O=e.setFocusedDate)==null||O.call(e,r),e.setDragging(!0),a.current=!0;return}else if(K(r,e.highlightedRange.end)){e.setAnchorDate(e.highlightedRange.start),(W=e.setFocusedDate)==null||W.call(e,r),e.setDragging(!0),a.current=!0;return}}const H=()=>{var X,_;e.setDragging(!0),M.current=null,(X=e.selectDate)==null||X.call(e,r),(_=e.setFocusedDate)==null||_.call(e,r),k.current=!0};D.pointerType==="touch"?M.current=setTimeout(H,200):H()}},onPressEnd(){a.current=!1,k.current=!1,clearTimeout(M.current),M.current=null},onPress(){var D,A;!("anchorDate"in e)&&!e.isReadOnly&&((D=e.selectDate)==null||D.call(e,r),(A=e.setFocusedDate)==null||A.call(e,r))},onPressUp(D){var A,O,W,H,X,_,Ce,we,$e,xe;if(!e.isReadOnly&&("anchorDate"in e&&M.current&&((A=e.selectDate)==null||A.call(e,r),(O=e.setFocusedDate)==null||O.call(e,r)),"anchorDate"in e))if(a.current)e.setAnchorDate(r);else if(e.anchorDate&&!k.current)(W=e.selectDate)==null||W.call(e,r),(H=e.setFocusedDate)==null||H.call(e,r);else if(D.pointerType==="keyboard"&&!e.anchorDate){(X=e.selectDate)==null||X.call(e,r);let re=r.add({days:1});(_=e.isInvalid)!=null&&_.call(e,re)&&(re=r.subtract({days:1})),(Ce=e.isInvalid)!=null&&Ce.call(e,re)||(we=e.setFocusedDate)==null||we.call(e,re)}else D.pointerType==="virtual"&&(($e=e.selectDate)==null||$e.call(e,r),(xe=e.setFocusedDate)==null||xe.call(e,r))}});let y;o||(y=K(r,e.focusedDate)?0:-1),p.useEffect(()=>{f&&n.current&&(G(n.current),jt(n.current,{containingElement:ve(n.current)}))},[f,n]);const w=z({day:"numeric",timeZone:e.timeZone,calendar:r.calendar.identifier}),I=p.useMemo(()=>{var D;return(D=w.formatToParts(P).find(A=>A.type==="day"))==null?void 0:D.value},[w,P]);return{cellProps:{role:"gridcell","aria-disabled":!v,"aria-selected":h,"aria-invalid":T},buttonProps:{...C,onFocus(){var D;o||(D=e.setFocusedDate)==null||D.call(e,r)},tabIndex:y,role:"button","aria-disabled":!v,"aria-label":$,"aria-invalid":T,"aria-describedby":[T?i:null,m["aria-describedby"]].filter(Boolean).join(" ")||void 0,onPointerEnter(D){"highlightDate"in e&&(D.pointerType!=="touch"||e.isDragging)&&v&&e.highlightDate(r)},onContextMenu(D){D.preventDefault()}},isPressed:E,isFocused:f,isSelected:h,isDisabled:o,isUnavailable:b,isOutsideVisibleRange:r.compare((F=e==null?void 0:e.visibleRange)==null?void 0:F.start)<0||r.compare((N=e==null?void 0:e.visibleRange)==null?void 0:N.end)>0,isInvalid:T,formattedDate:I}}const tr=rt.forwardRef((t,e)=>{const{state:n,date:r,currentMonth:o,css:i={},maxValue:c=Ve("2099-02-17")}=t,g=bt(e),{cellProps:h,buttonProps:f,isSelected:b,isUnavailable:v,formattedDate:T}=Ae({date:r},n,g);let{isDisabled:d}=Ae({date:r},n,g);const P=!lt(o,r),S=We(r,be()),$="highlightedRange"in n;let x=!1,m=!1;$&&(x=n.highlightedRange?K(r,n.highlightedRange.start):b,m=n.highlightedRange?K(r,n.highlightedRange.end):b,d=d||r.month!==o.month);const k=()=>{let E="";return C&&(E+="focused "),b&&$?E+="selected ":b&&!$&&(E+="highlighted "),(x||m)&&(E+="highlighted "),v&&(E+="unavailable "),S&&(E+="today "),E};(()=>{c&&r>c&&(d=!0)})();const{focusProps:M,isFocusVisible:C}=ut();return R(nt,{children:d?R(Ee,{...h,css:i,className:k(),children:R("div",{ref:g,hidden:P,className:`calendar-cell-value  disabled ${b?"selected":""}`,children:T})}):R(Ee,{...h,css:i,className:k(),children:R("div",{"aria-label":f["aria-label"],"aria-disabled":f["aria-disabled"],"aria-invalid":f["aria-invalid"],role:f.role,ref:g,hidden:P,className:`calendar-cell-value  ${d?"disabled":""} ${b?"selected":""}`,...M,...f,tabIndex:f.tabIndex,children:T})})})}),rr=tr,nr=le("table",{marginTop:"$2",borderCollapse:"collapse","& tbody:before":{content:"@",display:"block",lineHeight:"12px",textIndent:"-99999px"},"& .calendar-weekday":{fontSize:"$label2",fontWeight:"$semibold",color:"$cdgBlue120"},"& th, & td":{width:"$10"},"& td":{height:"$8"},"& td > div":{display:"flex",justifyContent:"center"}}),or=le("tr",{height:"$8"}),Qe={prefix:String(Math.round(Math.random()*1e10)),current:0,isSSR:!1};function ar(t=!1){const e=p.useContext(et),n=p.useRef(null);return n.current===null&&!t&&(n.current=++e.current),n.current}const ir=!!(typeof window<"u"&&window.document.createElement),et=p.createContext(Qe);function sr(t){const e=p.useContext(et);e===Qe&&!ir&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");const n=ar(!!t);return t??`compass-design${e.prefix}-${n}`}const Ke=new Map;function Pe(t){const[e,n]=p.useState(t),r=p.useRef(null),o=sr(e),i=p.useCallback(c=>{r.current=c},[]);return Ke.set(o,i),p.useLayoutEffect(()=>{const c=o;return()=>{Ke.delete(c)}},[o]),p.useEffect(()=>{const c=r.current;c&&(r.current=null,n(c))}),o}function tt(t,e){let{id:n,"aria-label":r,"aria-labelledby":o}=t;return n=Pe(n),o&&r?o=[...new Set([...o.trim().split(/\s+/),n])].join(" "):o&&(o=o.trim().split(/\s+/).join(" ")),!r&&!o&&e&&(r=e),{id:n,"aria-label":r,"aria-labelledby":o}}function Fr(t){const{label:e,"aria-label":n,labelElementType:r="label"}=t;let{id:o,"aria-labelledby":i}=t;o=Pe(o);const c=Pe();let g={};e?(i=i?`${i} ${c}`:c,g={id:c,htmlFor:r==="label"?o:void 0}):!i&&!n&&console.warn("If you do not provide a visible label, you must specify an aria-label or aria-labelledby attribute for accessibility");const h=tt({id:o,"aria-label":n,"aria-labelledby":i});return{labelProps:g,fieldProps:h}}function cr(t,e){const n=z({month:"long",year:"numeric",era:void 0,calendar:t.calendar.identifier,timeZone:e});return p.useMemo(()=>n.format(t.toDate(e)),[t,n,e])}function lr(t,e){var T;const{startDate:n=(T=e.visibleRange)==null?void 0:T.start}=t,{direction:r}=ce(),o=cr(n,e.timeZone??"UTC"),{ariaLabel:i,ariaLabelledBy:c}=ze.get(e)??{ariaLabel:void 0,ariaLabelledBy:void 0},g=tt({id:"","aria-label":[i,o].filter(Boolean).join(", "),"aria-labelledby":c}),{locale:h}=ce(),f=z({weekday:t.weekdayStyle??"short",timeZone:e.timeZone}),b=p.useMemo(()=>{const d=De(He(e.timeZone??be()),h);return[...new Array(7).keys()].map(P=>{const $=d.add({days:P}).toDate(e.timeZone??be());return f.format($)})},[h]),v=d=>{var P,S,$,x,m,k,a,M,C,E,y;switch(d.key){case"Enter":case" ":d.preventDefault(),(P=e.selectFocusedDate)==null||P.call(e);break;case"PageUp":d.preventDefault(),d.stopPropagation(),(S=e.focusPreviousSection)==null||S.call(e,d.shiftKey);break;case"PageDown":d.preventDefault(),d.stopPropagation(),($=e.focusNextSection)==null||$.call(e,d.shiftKey);break;case"End":d.preventDefault(),d.stopPropagation(),(x=e.focusSectionEnd)==null||x.call(e);break;case"Home":d.preventDefault(),d.stopPropagation(),(m=e.focusSectionStart)==null||m.call(e);break;case"ArrowLeft":d.preventDefault(),d.stopPropagation(),r==="rtl"?(k=e.focusNextDay)==null||k.call(e):(a=e.focusPreviousDay)==null||a.call(e);break;case"ArrowUp":d.preventDefault(),d.stopPropagation(),(M=e.focusPreviousRow)==null||M.call(e);break;case"ArrowRight":d.preventDefault(),d.stopPropagation(),r==="rtl"?(C=e.focusPreviousDay)==null||C.call(e):(E=e.focusNextDay)==null||E.call(e);break;case"ArrowDown":d.preventDefault(),d.stopPropagation(),(y=e.focusNextRow)==null||y.call(e);break;case"Escape":"setAnchorDate"in e&&(d.preventDefault(),e.setAnchorDate(null));break}};return{gridProps:{...g,role:"grid","aria-readonly":e.isReadOnly||null,"aria-disabled":e.isDisabled||null,"aria-multiselectable":"highlightedRange"in e||void 0,onKeyDown:v,onFocus:()=>{var d;return(d=e.setFocused)==null?void 0:d.call(e,!0)},onBlur:()=>{var d;return(d=e.setFocused)==null?void 0:d.call(e,!1)}},headerProps:{"aria-hidden":!0},weekDays:b}}const ur={days:0,months:0,weeks:0,years:0},dr=t=>{var d,P;const{state:e,offset:n=ur,css:r={},maxValue:o=Ve("2999-02-17")}=t,{locale:i}=ce(),c=(P=(d=e==null?void 0:e.visibleRange)==null?void 0:d.start)==null?void 0:P.add(n),g=je(c),{gridProps:h,headerProps:f,weekDays:b}=lr({startDate:c,endDate:g},e),v=dt(c,i),T=[...new Array(v).keys()].length===5;return Q(nr,{...h,css:r,cellPadding:"0",className:"cdg-calendar-grid",children:[R("thead",{...f,children:R("tr",{children:b.map((S,$)=>R("th",{className:"calendar-weekday",children:S},$))})}),Q("tbody",{children:[[...new Array(v).keys()].map(S=>{var $;return R("tr",{children:($=e.getDatesInWeek)==null?void 0:$.call(e,S,c).map((x,m)=>x?R(rr,{state:e,date:x,currentMonth:c,maxValue:o},m):R("td",{},m))},S)}),T&&R(or,{"aria-hidden":!0,className:"week-sixth-placeholder"})]})]})},Ir=dr,fr=le("div",{display:"flex",alignItems:"center",justifyContent:"space-between","& .calendar-header-left-side, & .calendar-header-right-side":{display:"flex",alignItems:"center",flex:1},"& .calendar-header-middle":{fontWeight:"$semibold",fontSize:"$body3",color:"$cdgBlue100",margin:0,marginLeft:"auto",marginRight:"auto",backgroundColor:"transparent",border:"none",cursor:"pointer"},"& h2":{fontWeight:"$semibold",fontSize:"$body3",color:"$cdgBlue100",margin:0,marginLeft:"auto",marginRight:"auto"},"& .calendar-header-icon":{width:"$3",height:"$3"}});var B=(t=>(t[t.DATE=0]="DATE",t[t.YEAR=1]="YEAR",t[t.MONTH=2]="MONTH",t))(B||{});const Lr=t=>{var m,k,a,M,C,E;const{state:e}=t,[n,r]=p.useState(0),o=z({month:"short",timeZone:e.timeZone}),{locale:i}=ce(),c=p.useMemo(()=>{const y=[];for(let w=0;w<12;w++){const I=new Date(new Date().getFullYear(),w,1);y.push(I)}return y.map(w=>o.format(w))},[i]),g=(y,w="middle")=>{const I=[];if(w==="middle")for(let l=y-4;l<=y+7;l++)h(l)&&I.push(l);else if(w==="end")for(let l=y;l<=y+11;l++)h(l)&&I.push(l);else for(let l=y-11;l<=y;l++)h(l)&&I.push(l);return I},h=y=>y>ke?!1:!(y<Re),[f,b]=p.useState(g(((m=e.focusedDate)==null?void 0:m.year)??new Date().getFullYear())),[v,T]=p.useState({start:g((k=e.value)==null?void 0:k.year)[0],end:g((a=e.value)==null?void 0:a.year)[g((M=e.value)==null?void 0:M.year).length-1]});p.useEffect(()=>{const y=e.focusedDate,w=g((y==null?void 0:y.year)??new Date().getFullYear());T({start:w[0],end:w[11]}),b(w)},[e.focusedDate,n]),p.useEffect(()=>{T({start:f[0],end:f[f.length-1]})},[f]);const d=y=>{r(y)},P=()=>{r(y=>(y+1)%3)},S=()=>{if(n-1<0){r(2);return}r(y=>(y-1)%3)},$=()=>{b(g(v.start??new Date().getFullYear(),"start"))},x=()=>{b(g(v.end??new Date().getFullYear(),"end"))};return{months:c,currentState:n,renderedYears:f,endStartYears:v,setMonthYearState:d,nextState:P,prevState:S,prevButtonProps:{onClick:()=>{$()},isDisabled:v.start?(((C=e.minValue)==null?void 0:C.year)??Re)>=v.start:!1},nextButtonProps:{onClick:()=>{x()},isDisabled:v.end?(((E=t.maxValue)==null?void 0:E.year)??ke)<=v.end:!1}}},gr=t=>{var d,P,S,$,x,m;const{state:e,variant:n="default",calendarProps:r,prevButtonProps:o,nextButtonProps:i,middleButtonProps:c,css:g={}}=t,h=z({month:"long",year:"numeric",timeZone:e.timeZone}),f=(c==null?void 0:c.months)??null,b=k=>{switch(c==null?void 0:c.currentState){case B.DATE:return k;case B.MONTH:return f?`${f[0]}-${f[f.length-1]}`:"Jan-Dec";case B.YEAR:return`${c.endStartYears.start}-${c.endStartYears.end}`;default:return k}};let v=o,T=i;if(n==="default"&&c){const{prevButtonProps:k,nextButtonProps:a}=c;v=c.currentState===B.YEAR?k:c.currentState===B.DATE?o:{isDisabled:!0},T=c.currentState===B.YEAR?a:c.currentState===B.DATE?i:{isDisabled:!0}}return Q(fr,{css:g,children:[R(ft,{children:R("h2",{children:r["aria-label"]})}),Q("div",{className:"calendar-header-left-side",children:[R(ue,{variant:"ghost",...v,children:R("svg",{className:"calendar-header-icon chevron-left",viewBox:"0 0 320 512",children:R("path",{fill:"currentColor",d:"M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l192 192c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256 246.6 86.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-192 192z"})})}),n==="default"?R("button",{className:"calendar-header-middle","aria-hidden":!0,onClick:()=>{n==="default"&&c&&c.nextState()},children:b(h.format((P=(d=e==null?void 0:e.visibleRange)==null?void 0:d.start)==null?void 0:P.toDate(e.timeZone??"UTC")))}):R("h2",{children:b(h.format(($=(S=e==null?void 0:e.visibleRange)==null?void 0:S.start)==null?void 0:$.toDate(e.timeZone??"UTC")))}),n==="default"&&R(ue,{variant:"ghost",...T,children:R("svg",{className:"calendar-header-icon chevron-right",viewBox:"0 0 320 512",children:R("path",{fill:"currentColor",d:"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"})})})]}),n==="range"&&Q("div",{className:"calendar-header-right-side",children:[R("h2",{children:b(h.format((m=(x=e==null?void 0:e.visibleRange)==null?void 0:x.start)==null?void 0:m.add({months:1}).toDate(e.timeZone??"UTC")))}),R(ue,{variant:"ghost",...T,children:R("svg",{className:"calendar-header-icon chevron-right",viewBox:"0 0 320 512",children:R("path",{fill:"currentColor",d:"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"})})})]})]})},Nr=gr;function Oe(t,e,n){const[r,o]=p.useState(t||e),i=p.useRef(t!==void 0),c=i.current,g=t!==void 0,h=p.useRef(r);c!==g&&console.warn(`WARN: A component changed from ${c?"controlled":"uncontrolled"} to ${g?"controlled":"uncontrolled"}.`),i.current=g;const f=p.useCallback((b,...v)=>{const T=(d,...P)=>{n&&(Object.is(h.current,d)||n(d,...P)),g||(h.current=d)};typeof b=="function"?(console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),o((P,...S)=>{const $=b(g?h.current:P,...S);return T($,...v),g?P:$})):(g||o(b),T(b,...v))},[g,n]);return g?h.current=t:t=r,[t,f]}function Ue(t){const e={...t};for(const n in t)e[n]=1;return e}const Ar=t=>{const{locale:e,createCalendar:n,visibleDuration:r={months:1},minValue:o,maxValue:i,isDateUnavailable:c,onChange:g}=t,h=()=>{},[f,b]=Oe(t.value,t.defaultValue,g),v=p.useMemo(()=>new gt(e),[e]),T=p.useMemo(()=>v.resolvedOptions(),[v]),d=p.useMemo(()=>f&&"timeZone"in f?f.timeZone:T.timeZone,[f,T.timeZone]),P=p.useMemo(()=>n(T.calendar),[n,T.calendar]),S=p.useMemo(()=>f?Y(Z(f),P):null,[f,P]),$=p.useMemo(()=>t.focusedValue?V(Y(Z(t.focusedValue),P),o,i):void 0,[t.focusedValue,P,o,i]),x=p.useMemo(()=>V(t.defaultFocusedValue?Y(Z(t.defaultFocusedValue),P):S??Y(He(d),P),o,i),[t.defaultFocusedValue,S,d,P,o,i]),[m,k]=Oe($,x,h),[a,M]=p.useState(t.autoFocus||!1),[C,E]=p.useState(()=>ne(m,{months:1},e,o,i)),y=p.useMemo(()=>{const s={...r};return s.days?s.days--:s.days=-1,C.add(s)},[C]),w=p.useRef(P.identifier);if(P.identifier!==w.current){const s=Y(m,P);E(ne(s,r,e,o,i)),k(s),w.current=P.identifier}o&&i&&de(m,o,i)?k(V(m,o,i)):(m&&m.compare(C)<0||m&&m.compare(y)>0)&&E(ne(m,r,e,o,i));function I(s){s=V(s,o,i),k(s)}function l(s){if(!t.isDisabled&&!t.isReadOnly){if(s=V(s,o,i),s=Dt(s,C,c),!s)return;s=Y(s,(f==null?void 0:f.calendar)??new pt),f&&"hour"in f?b(f.set(s)):b(s)}}const L=p.useMemo(()=>!o||!i?!0:S?c&&c(S)?!0:de(S,o,i):!1,[S,c,o,i]),u=t.validationState||(L?"invalid":null);return{isDisabled:t.isDisabled??!1,isReadOnly:t.isReadOnly??!1,value:S,setValue:l,visibleRange:{start:C,end:y},minValue:o,maxValue:i,focusedDate:m,timeZone:d,validationState:u,setFocusedDate(s){I(s),M(!0)},focusNextDay(){I(m.add({days:1}))},focusPreviousDay(){I(m.subtract({days:1}))},focusNextRow(){I(m.add({weeks:1}))},focusPreviousRow(){I(m.subtract({weeks:1}))},focusNextPage(){const s=C.add(r);k(V(m.add(r),o,i)),E(ee(te(m,s,r,e,o,i),r,e))},focusPreviousPage(){const s=C.subtract(r);k(V(m.subtract(r),o,i)),E(ee(te(m,s,r,e,o,i),r,e))},focusSectionStart(){r.months&&I(Be(m))},focusSectionEnd(){r.months&&I(je(m))},focusNextSection(s){if(s)I(m.add({years:1}));else{I(m.add(Ue(r)));return}},focusPreviousSection(s){if(s)I(m.subtract({years:1}));else{I(m.subtract(Ue(r)));return}},selectFocusedDate(){l(m)},selectDate(s){l(s)},isFocused:a,setFocused:M,isInvalid(s){return de(s,o,i)},isCellUnavailable(s){var F;return((F=t.isDateUnavailable)==null?void 0:F.call(t,s))??!1},isSelected(s){var F,N;return S!=null&&K(s,S)&&!((F=this.isCellDisabled)!=null&&F.call(this,s))&&!((N=this.isCellUnavailable)!=null&&N.call(this,s))},isCellFocused(s){return a&&K(s,m)},isCellDisabled(s){var F;return t.isDisabled||s.compare(C)<0||s.compare(y)>0||((F=this.isInvalid)==null?void 0:F.call(this,s))},isPreviousVisibleRangeInvalid(){var F;const s=C.subtract({days:1});return K(s,C)||((F=this.isInvalid)==null?void 0:F.call(this,s))},isNextVisibleRangeInvalid(){var F;const s=y.add({days:1});return K(s,y)||((F=this.isInvalid)==null?void 0:F.call(this,s))},getDatesInWeek(s,F=C){let N=F.add({weeks:s});const D=[];N=De(N,e);const A=ht(N,e);for(let O=0;O<A;O++)D.push(null);for(;D.length<7;){D.push(N);const O=N.add({days:1});if(K(N,O))break;N=O}for(;D.length<7;)D.push(null);return D}}};export{cr as A,Ar as B,Lr as C,Pr as D,Nr as E,Ir as F,ne as G,Sr as H,V as I,Dt as J,Re as M,Mr as S,Pe as a,$r as b,kr as c,Oe as d,Tr as e,Rr as f,Dr as g,er as h,de as i,ie as j,Fr as k,ze as l,Cr as m,vt as n,vr as o,wr as p,xr as q,Er as r,Xt as s,_e as t,zt as u,tt as v,Mt as w,jt as x,ve as y,B as z};

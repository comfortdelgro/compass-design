import{s as g,R as n,j as t,a as k}from"./index-01501350.js";import"./index-dddb2e67.js";import{C as A}from"./components-ab932d89.js";import{P as E}from"./index-6b15c7be.js";import{u as P}from"./use-dom-ref-59870be1.js";import{S as F}from"./searchfield-caa09557.js";import"./floating-ui.react.esm-1980a4a7.js";import"./button-d69da757.js";import"./useCurrentTheme-77a50b0b.js";const I=g("div",{appearance:"none",backgroundColor:"transparent",boxSizing:"border-box",outline:"none",border:"none",margin:0,padding:0,background:"$background",boxShadow:"0 2px 5px rgba(0,0,0,0.2)",borderRadius:"$md",minHeight:"2rem"}),R=g("div",{appearance:"none",backgroundColor:"transparent",boxSizing:"border-box",outline:"none",border:"none",margin:0,padding:0,fontSize:"$label2",fontFamily:"$header5",color:"$disabledText",width:"100%",minHeight:"2rem",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}),T=g("div",{appearance:"none",backgroundColor:"transparent",boxSizing:"border-box",outline:"none",border:"none",margin:0,width:"100%",fontSize:"$label1",lineHeight:"1em",fontFamily:"$sans",fontWeight:"$medium",padding:"$2 $4",cursor:"pointer",display:"flex",alignItems:"center",gap:"$2","&:hover":{backgroundColor:"$gray20"},variants:{isFocused:{true:{backgroundColor:"$gray20"}},isSelected:{true:{backgroundColor:"$gray20"}},isDisabled:{true:{opacity:.4,cursor:"not-allowed"}}}}),O=g("div",{appearance:"none",backgroundColor:"transparent",boxSizing:"border-box",outline:"none",border:"none",margin:0,padding:0,width:"fit-content",height:"fit-content"}),z=n.forwardRef((i,l)=>{var S;const{children:b,options:o,onSearch:s,onSelect:c,searchedValue:e,debounce:d,notFoundContent:u="No Results Found",css:r={},...y}=i,[w,m]=n.useState(!1),[p,x]=n.useState(null),[h,$]=n.useState(null),f=P(l),v=(S=f.current)==null?void 0:S.clientWidth;return n.useEffect(()=>{if(e&&e!==h){p&&clearTimeout(p);const a=setTimeout(()=>{s&&s(e)},d);x(a)}else m(!1);return()=>{p&&clearTimeout(p)}},[e]),n.useEffect(()=>{e&&m(!0)},[o]),n.useEffect(()=>{h&&(c&&c(h),m(!1))},[h]),t(O,{ref:f,css:r,...y,children:t(E,{isOpen:w,onClose:()=>{m(!1)},anchor:b,direction:"bottom-center",attachToElement:f.current&&f.current.parentElement,children:t(I,{css:{width:v},children:(o==null?void 0:o.length)==0?t(R,{children:u}):o==null?void 0:o.map(a=>t(T,{onClick:()=>$(a),children:a},a))})})})}),C=z;C.displayName="AutoComplete";const M=()=>{const[i,l]=n.useState(""),[b,o]=n.useState([]),s=async e=>{try{await new Promise(r=>setTimeout(r,100));const u=["Lion","Giraffe","Elephant","Penguin","Dolphin","Koala","Cheetah","Kangaroo","Octopus","Gorilla","Tiger","Zebra","Hippopotamus","Panda","Snake"].filter(r=>r.toLowerCase().includes(e.toLowerCase()));o([...u]),console.log("API call successful: ",u)}catch(d){console.error("Error during API call:",d)}},c=e=>{l(e),console.log("Selected value: ",e)};return k(A,{children:[t("h3",{children:"Full-featured Example: Auto Complete"}),t(C,{searchedValue:i,debounce:300,onSearch:e=>s(e),options:b,onSelect:e=>c(e),notFoundContent:"No data found",children:t(F,{placeholder:"Search",onChange:e=>l(e),value:i,css:{width:"10rem"}})})]})};typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{M as FullFeatured};

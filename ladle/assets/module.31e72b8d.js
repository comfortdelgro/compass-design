import{r as p,R as ue}from"./index.28d6044e.js";import{l as _e,g as Ge,m as Ve,n as Fe,o as je,i as O,p as Q,c as N,q as ze,r as De,s as Re,t as Ke,j as Ye}from"./module.e0843ab4.js";class Xe{getStringForLocale(e,r){let s=this.strings[r];s||(s=qe(r,this.strings,this.defaultLocale),this.strings[r]=s);let a=s[e];if(!a)throw new Error(`Could not find intl message ${e} in ${r} locale`);return a}constructor(e,r="en-US"){this.strings={...e},this.defaultLocale=r}}function qe(t,e,r="en-US"){if(e[t])return e[t];let s=Ze(t);if(e[s])return e[s];for(let a in e)if(a.startsWith(s+"-"))return e[a];return e[r]}function Ze(t){return Intl.Locale?new Intl.Locale(t).language:t.split("-")[0]}const be=new Map,ge=new Map;class Je{format(e,r){let s=this.strings.getStringForLocale(e,this.locale);return typeof s=="function"?s(r,this):s}plural(e,r,s="cardinal"){let a=r["="+e];if(a)return typeof a=="function"?a():a;let i=this.locale+":"+s,c=be.get(i);c||(c=new Intl.PluralRules(this.locale,{type:s}),be.set(i,c));let f=c.select(e);return a=r[f]||r.other,typeof a=="function"?a():a}number(e){let r=ge.get(this.locale);return r||(r=new Intl.NumberFormat(this.locale),ge.set(this.locale,r)),r.format(e)}select(e,r){let s=e[r]||e.other;return typeof s=="function"?s():s}constructor(e,r){this.locale=e,this.strings=r}}function ee(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}let z=new Map,te=!1;try{te=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let G=!1;try{G=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const Oe={degree:{narrow:{default:"\xB0","ja-JP":" \u5EA6","zh-TW":"\u5EA6","sl-SI":" \xB0"}}};class Qe{format(e){let r="";if(!te&&this.options.signDisplay!=null?r=tt(this.numberFormatter,this.options.signDisplay,e):r=this.numberFormatter.format(e),this.options.style==="unit"&&!G){var s;let{unit:a,unitDisplay:i="short",locale:c}=this.resolvedOptions(),f=(s=Oe[a])===null||s===void 0?void 0:s[i];r+=f[c]||f.default}return r}formatToParts(e){return this.numberFormatter.formatToParts(e)}formatRange(e,r){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(e,r);if(r<e)throw new RangeError("End date must be >= start date");return`${this.format(e)} \u2013 ${this.format(r)}`}formatRangeToParts(e,r){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(e,r);if(r<e)throw new RangeError("End date must be >= start date");let s=this.numberFormatter.formatToParts(e),a=this.numberFormatter.formatToParts(r);return[...s.map(i=>({...i,source:"startRange"})),{type:"literal",value:" \u2013 ",source:"shared"},...a.map(i=>({...i,source:"endRange"}))]}resolvedOptions(){let e=this.numberFormatter.resolvedOptions();return!te&&this.options.signDisplay!=null&&(e={...e,signDisplay:this.options.signDisplay}),!G&&this.options.style==="unit"&&(e={...e,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),e}constructor(e,r={}){this.numberFormatter=et(e,r),this.options=r}}function et(t,e={}){let{numberingSystem:r}=e;if(r&&t.indexOf("-u-nu-")===-1&&(t=`${t}-u-nu-${r}`),e.style==="unit"&&!G){var s;let{unit:c,unitDisplay:f="short"}=e;if(!c)throw new Error('unit option must be provided with style: "unit"');if(!(!((s=Oe[c])===null||s===void 0)&&s[f]))throw new Error(`Unsupported unit ${c} with unitDisplay = ${f}`);e={...e,style:"decimal"}}let a=t+(e?Object.entries(e).sort((c,f)=>c[0]<f[0]?-1:1).join():"");if(z.has(a))return z.get(a);let i=new Intl.NumberFormat(t,e);return z.set(a,i),i}function tt(t,e,r){if(e==="auto")return t.format(r);if(e==="never")return t.format(Math.abs(r));{let s=!1;if(e==="always"?s=r>0||Object.is(r,0):e==="exceptZero"&&(Object.is(r,-0)||Object.is(r,0)?r=Math.abs(r):s=r>0),s){let a=t.format(-r),i=t.format(r),c=a.replace(i,"").replace(/\u200e|\u061C/,"");return[...c].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),a.replace(i,"!!!").replace(c,"+").replace("!!!",i)}else return t.format(r)}}const rt=new RegExp("^.*\\(.*\\).*$"),nt=["latn","arab","hanidec"];class Nt{parse(e){return Y(this.locale,this.options,e).parse(e)}isValidPartialNumber(e,r,s){return Y(this.locale,this.options,e).isValidPartialNumber(e,r,s)}getNumberingSystem(e){return Y(this.locale,this.options,e).options.numberingSystem}constructor(e,r={}){this.locale=e,this.options=r}}const $e=new Map;function Y(t,e,r){let s=he(t,e);if(!t.includes("-nu-")&&!s.isValidPartialNumber(r)){for(let a of nt)if(a!==s.options.numberingSystem){let i=he(t+(t.includes("-u-")?"-nu-":"-u-nu-")+a,e);if(i.isValidPartialNumber(r))return i}}return s}function he(t,e){let r=t+(e?Object.entries(e).sort((a,i)=>a[0]<i[0]?-1:1).join():""),s=$e.get(r);return s||(s=new st(t,e),$e.set(r,s)),s}class st{parse(e){let r=this.sanitize(e);r=W(r,this.symbols.group,"").replace(this.symbols.decimal,".").replace(this.symbols.minusSign,"-").replace(this.symbols.numeral,this.symbols.index);let s=r?+r:NaN;if(isNaN(s))return NaN;if(this.options.currencySign==="accounting"&&rt.test(e)&&(s=-1*s),this.options.style==="percent"){s/=100;var a;s=+s.toFixed(((a=this.options.maximumFractionDigits)!==null&&a!==void 0?a:0)+2)}return s}sanitize(e){return e=e.replace(this.symbols.literals,""),e=e.replace("-",this.symbols.minusSign),this.options.numberingSystem==="arab"&&(e=e.replace(",",this.symbols.decimal),e=e.replace(String.fromCharCode(1548),this.symbols.decimal),e=W(e,".",this.symbols.group)),this.options.locale==="fr-FR"&&(e=W(e,".",String.fromCharCode(8239))),e}isValidPartialNumber(e,r=-1/0,s=1/0){return e=this.sanitize(e),e.startsWith(this.symbols.minusSign)&&r<0?e=e.slice(this.symbols.minusSign.length):this.symbols.plusSign&&e.startsWith(this.symbols.plusSign)&&s>0&&(e=e.slice(this.symbols.plusSign.length)),e.startsWith(this.symbols.group)?!1:(e=W(e,this.symbols.group,"").replace(this.symbols.numeral,"").replace(this.symbols.decimal,""),e.length===0)}constructor(e,r={}){this.formatter=new Intl.NumberFormat(e,r),this.options=this.formatter.resolvedOptions(),this.symbols=at(this.formatter,this.options,r)}}const me=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]);function at(t,e,r){var s,a,i,c;let f=t.formatToParts(-10000.111),$=t.formatToParts(10000.111),m=t.formatToParts(1);var h;let C=(h=(s=f.find(b=>b.type==="minusSign"))===null||s===void 0?void 0:s.value)!==null&&h!==void 0?h:"-",g=(a=$.find(b=>b.type==="plusSign"))===null||a===void 0?void 0:a.value;!g&&((r==null?void 0:r.signDisplay)==="exceptZero"||(r==null?void 0:r.signDisplay)==="always")&&(g="+");let d=(i=f.find(b=>b.type==="decimal"))===null||i===void 0?void 0:i.value,T=(c=f.find(b=>b.type==="group"))===null||c===void 0?void 0:c.value,w=f.filter(b=>!me.has(b.type)).map(b=>ve(b.value)),H=m.filter(b=>!me.has(b.type)).map(b=>ve(b.value)),x=[...new Set([...H,...w])].sort((b,E)=>E.length-b.length),F=x.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${x.join("|")}|[\\p{White_Space}]`,"gu"),A=[...new Intl.NumberFormat(e.locale,{useGrouping:!1}).format(9876543210)].reverse(),n=new Map(A.map((b,E)=>[b,E])),S=new RegExp(`[${A.join("")}]`,"g");return{minusSign:C,plusSign:g,decimal:d,group:T,literals:F,numeral:S,index:b=>String(n.get(b))}}function W(t,e,r){return t.replaceAll?t.replaceAll(e,r):t.split(e).join(r)}function ve(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}const ot=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),it=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function lt(t){if(Intl.Locale){let r=new Intl.Locale(t).maximize().script;return ot.has(r)}let e=t.split("-")[0];return it.has(e)}function ke(){let t=typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([t])}catch{t="en-US"}return{locale:t,direction:lt(t)?"rtl":"ltr"}}let re=ke(),I=new Set;function ye(){re=ke();for(let t of I)t(re)}function ut(){let t=_e(),[e,r]=p.exports.useState(re);return p.exports.useEffect(()=>(I.size===0&&window.addEventListener("languagechange",ye),I.add(r),()=>{I.delete(r),I.size===0&&window.removeEventListener("languagechange",ye)}),[]),t?{locale:"en-US",direction:"ltr"}:e}const ct=ue.createContext(null);function ce(){let t=ut();return p.exports.useContext(ct)||t}const Pe=new WeakMap;function ft(t){let e=Pe.get(t);return e||(e=new Xe(t),Pe.set(t,e)),e}function Ht(t){let{locale:e}=ce(),r=p.exports.useMemo(()=>ft(t),[t]);return p.exports.useMemo(()=>new Je(e,r),[e,r])}function At(t={}){let{locale:e}=ce();return p.exports.useMemo(()=>new Qe(e,t),[e,t])}let X=new Map;function Ut(t){let{locale:e}=ce(),r=e+(t?Object.entries(t).sort((a,i)=>a[0]<i[0]?-1:1).join():"");if(X.has(r))return X.get(r);let s=new Intl.Collator(e,t);return X.set(r,s),s}let k="default",ne="",_=new WeakMap;function Te(t){De()?(k==="default"&&(ne=document.documentElement.style.webkitUserSelect,document.documentElement.style.webkitUserSelect="none"),k="disabled"):(t instanceof HTMLElement||t instanceof SVGElement)&&(_.set(t,t.style.userSelect),t.style.userSelect="none")}function B(t){if(De()){if(k!=="disabled")return;k="restoring",setTimeout(()=>{Re(()=>{k==="restoring"&&(document.documentElement.style.webkitUserSelect==="none"&&(document.documentElement.style.webkitUserSelect=ne||""),ne="",k="default")})},300)}else if((t instanceof HTMLElement||t instanceof SVGElement)&&t&&_.has(t)){let e=_.get(t);t.style.userSelect==="none"&&(t.style.userSelect=e),t.getAttribute("style")===""&&t.removeAttribute("style"),_.delete(t)}}const Ie=ue.createContext(null);Ie.displayName="PressResponderContext";function dt(t){let e=p.exports.useContext(Ie);if(e){let{register:r,...s}=e;t=N(s,t),r()}return Ke(e,t.ref),t}function pt(t){let{onPress:e,onPressChange:r,onPressStart:s,onPressEnd:a,onPressUp:i,isDisabled:c,isPressed:f,preventFocusOnPress:$,shouldCancelOnPointerExit:m,allowTextSelectionOnPress:h,ref:C,...g}=dt(t),d=p.exports.useRef(null);d.current={onPress:e,onPressChange:r,onPressStart:s,onPressEnd:a,onPressUp:i,isDisabled:c,shouldCancelOnPointerExit:m};let[T,w]=p.exports.useState(!1),H=p.exports.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:null}),{addGlobalListener:x,removeAllGlobalListeners:F}=Fe(),A=p.exports.useMemo(()=>{let n=H.current,S=(l,P)=>{let{onPressStart:o,onPressChange:u,isDisabled:U}=d.current;U||n.didFirePressStart||(o&&o({type:"pressstart",pointerType:P,target:l.currentTarget,shiftKey:l.shiftKey,metaKey:l.metaKey,ctrlKey:l.ctrlKey,altKey:l.altKey}),u&&u(!0),n.didFirePressStart=!0,w(!0))},y=(l,P,o=!0)=>{let{onPressEnd:u,onPressChange:U,onPress:pe,isDisabled:Be}=d.current;!n.didFirePressStart||(n.ignoreClickAfterPress=!0,n.didFirePressStart=!1,u&&u({type:"pressend",pointerType:P,target:l.currentTarget,shiftKey:l.shiftKey,metaKey:l.metaKey,ctrlKey:l.ctrlKey,altKey:l.altKey}),U&&U(!1),w(!1),pe&&o&&!Be&&pe({type:"press",pointerType:P,target:l.currentTarget,shiftKey:l.shiftKey,metaKey:l.metaKey,ctrlKey:l.ctrlKey,altKey:l.altKey}))},b=(l,P)=>{let{onPressUp:o,isDisabled:u}=d.current;u||o&&o({type:"pressup",pointerType:P,target:l.currentTarget,shiftKey:l.shiftKey,metaKey:l.metaKey,ctrlKey:l.ctrlKey,altKey:l.altKey})},E=l=>{n.isPressed&&(n.isOverTarget&&y(L(n.target,l),n.pointerType,!1),n.isPressed=!1,n.isOverTarget=!1,n.activePointerId=null,n.pointerType=null,F(),h||B(n.target))},v={onKeyDown(l){q(l.nativeEvent,l.currentTarget)&&l.currentTarget.contains(l.target)?(xe(l.target,l.key)&&l.preventDefault(),l.stopPropagation(),!n.isPressed&&!l.repeat&&(n.target=l.currentTarget,n.isPressed=!0,S(l,"keyboard"),x(document,"keyup",We,!1))):l.key==="Enter"&&se(l.currentTarget)&&l.stopPropagation()},onKeyUp(l){q(l.nativeEvent,l.currentTarget)&&!l.repeat&&l.currentTarget.contains(l.target)&&b(L(n.target,l),"keyboard")},onClick(l){l&&!l.currentTarget.contains(l.target)||l&&l.button===0&&(l.stopPropagation(),c&&l.preventDefault(),!n.ignoreClickAfterPress&&!n.ignoreEmulatedMouseEvents&&(n.pointerType==="virtual"||Q(l.nativeEvent))&&(!c&&!$&&O(l.currentTarget),S(l,"virtual"),b(l,"virtual"),y(l,"virtual")),n.ignoreEmulatedMouseEvents=!1,n.ignoreClickAfterPress=!1)}},We=l=>{if(n.isPressed&&q(l,n.target)){xe(l.target,l.key)&&l.preventDefault(),l.stopPropagation(),n.isPressed=!1;let P=l.target;y(L(n.target,l),"keyboard",n.target.contains(P)),F(),n.target instanceof HTMLElement&&n.target.contains(P)&&(se(n.target)||n.target.getAttribute("role")==="link")&&n.target.click()}};if(typeof PointerEvent<"u"){v.onPointerDown=u=>{if(!(u.button!==0||!u.currentTarget.contains(u.target))){if(je(u.nativeEvent)){n.pointerType="virtual";return}Z(u.currentTarget)&&u.preventDefault(),n.pointerType=u.pointerType,u.stopPropagation(),n.isPressed||(n.isPressed=!0,n.isOverTarget=!0,n.activePointerId=u.pointerId,n.target=u.currentTarget,!c&&!$&&O(u.currentTarget),h||Te(n.target),S(u,n.pointerType),x(document,"pointermove",l,!1),x(document,"pointerup",P,!1),x(document,"pointercancel",o,!1))}},v.onMouseDown=u=>{!u.currentTarget.contains(u.target)||u.button===0&&(Z(u.currentTarget)&&u.preventDefault(),u.stopPropagation())},v.onPointerUp=u=>{!u.currentTarget.contains(u.target)||n.pointerType==="virtual"||u.button===0&&R(u,u.currentTarget)&&b(u,n.pointerType||u.pointerType)};let l=u=>{u.pointerId===n.activePointerId&&(R(u,n.target)?n.isOverTarget||(n.isOverTarget=!0,S(L(n.target,u),n.pointerType)):n.isOverTarget&&(n.isOverTarget=!1,y(L(n.target,u),n.pointerType,!1),d.current.shouldCancelOnPointerExit&&E(u)))},P=u=>{u.pointerId===n.activePointerId&&n.isPressed&&u.button===0&&(R(u,n.target)?y(L(n.target,u),n.pointerType):n.isOverTarget&&y(L(n.target,u),n.pointerType,!1),n.isPressed=!1,n.isOverTarget=!1,n.activePointerId=null,n.pointerType=null,F(),h||B(n.target))},o=u=>{E(u)};v.onDragStart=u=>{!u.currentTarget.contains(u.target)||E(u)}}else{v.onMouseDown=o=>{o.button!==0||!o.currentTarget.contains(o.target)||(Z(o.currentTarget)&&o.preventDefault(),o.stopPropagation(),!n.ignoreEmulatedMouseEvents&&(n.isPressed=!0,n.isOverTarget=!0,n.target=o.currentTarget,n.pointerType=Q(o.nativeEvent)?"virtual":"mouse",!c&&!$&&O(o.currentTarget),S(o,n.pointerType),x(document,"mouseup",l,!1)))},v.onMouseEnter=o=>{!o.currentTarget.contains(o.target)||(o.stopPropagation(),n.isPressed&&!n.ignoreEmulatedMouseEvents&&(n.isOverTarget=!0,S(o,n.pointerType)))},v.onMouseLeave=o=>{!o.currentTarget.contains(o.target)||(o.stopPropagation(),n.isPressed&&!n.ignoreEmulatedMouseEvents&&(n.isOverTarget=!1,y(o,n.pointerType,!1),d.current.shouldCancelOnPointerExit&&E(o)))},v.onMouseUp=o=>{!o.currentTarget.contains(o.target)||!n.ignoreEmulatedMouseEvents&&o.button===0&&b(o,n.pointerType)};let l=o=>{if(o.button===0){if(n.isPressed=!1,F(),n.ignoreEmulatedMouseEvents){n.ignoreEmulatedMouseEvents=!1;return}R(o,n.target)?y(L(n.target,o),n.pointerType):n.isOverTarget&&y(L(n.target,o),n.pointerType,!1),n.isOverTarget=!1}};v.onTouchStart=o=>{if(!o.currentTarget.contains(o.target))return;o.stopPropagation();let u=bt(o.nativeEvent);!u||(n.activePointerId=u.identifier,n.ignoreEmulatedMouseEvents=!0,n.isOverTarget=!0,n.isPressed=!0,n.target=o.currentTarget,n.pointerType="touch",!c&&!$&&O(o.currentTarget),h||Te(n.target),S(o,n.pointerType),x(window,"scroll",P,!0))},v.onTouchMove=o=>{if(!o.currentTarget.contains(o.target)||(o.stopPropagation(),!n.isPressed))return;let u=Ee(o.nativeEvent,n.activePointerId);u&&R(u,o.currentTarget)?n.isOverTarget||(n.isOverTarget=!0,S(o,n.pointerType)):n.isOverTarget&&(n.isOverTarget=!1,y(o,n.pointerType,!1),d.current.shouldCancelOnPointerExit&&E(o))},v.onTouchEnd=o=>{if(!o.currentTarget.contains(o.target)||(o.stopPropagation(),!n.isPressed))return;let u=Ee(o.nativeEvent,n.activePointerId);u&&R(u,o.currentTarget)?(b(o,n.pointerType),y(o,n.pointerType)):n.isOverTarget&&y(o,n.pointerType,!1),n.isPressed=!1,n.activePointerId=null,n.isOverTarget=!1,n.ignoreEmulatedMouseEvents=!0,h||B(n.target),F()},v.onTouchCancel=o=>{!o.currentTarget.contains(o.target)||(o.stopPropagation(),n.isPressed&&E(o))};let P=o=>{n.isPressed&&o.target.contains(n.target)&&E({currentTarget:n.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};v.onDragStart=o=>{!o.currentTarget.contains(o.target)||E(o)}}return v},[x,c,$,F,h]);return p.exports.useEffect(()=>()=>{h||B(H.current.target)},[h]),{isPressed:f||T,pressProps:N(g,A)}}function se(t){return t.tagName==="A"&&t.hasAttribute("href")}function q(t,e){const{key:r,code:s}=t,a=e,i=a.getAttribute("role");return(r==="Enter"||r===" "||r==="Spacebar"||s==="Space")&&!(a instanceof HTMLInputElement&&!Ne(a,r)||a instanceof HTMLTextAreaElement||a.isContentEditable)&&(!se(a)||i==="button"&&r!=="Enter")&&!(i==="link"&&r!=="Enter")}function bt(t){const{targetTouches:e}=t;return e.length>0?e[0]:null}function Ee(t,e){const r=t.changedTouches;for(let s=0;s<r.length;s++){const a=r[s];if(a.identifier===e)return a}return null}function L(t,e){return{currentTarget:t,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey}}function gt(t){let e=t.width/2||t.radiusX||0,r=t.height/2||t.radiusY||0;return{top:t.clientY-r,right:t.clientX+e,bottom:t.clientY+r,left:t.clientX-e}}function $t(t,e){return!(t.left>e.right||e.left>t.right||t.top>e.bottom||e.top>t.bottom)}function R(t,e){let r=e.getBoundingClientRect(),s=gt(t);return $t(r,s)}function Z(t){return!(t instanceof HTMLElement)||!t.draggable}function xe(t,e){return t instanceof HTMLInputElement?!Ne(t,e):t instanceof HTMLButtonElement?t.type!=="submit":!0}const ht=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Ne(t,e){return t.type==="checkbox"||t.type==="radio"?e===" ":ht.has(t.type)}class mt{isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}constructor(e,r){this.nativeEvent=r,this.target=r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget,this.bubbles=r.bubbles,this.cancelable=r.cancelable,this.defaultPrevented=r.defaultPrevented,this.eventPhase=r.eventPhase,this.isTrusted=r.isTrusted,this.timeStamp=r.timeStamp,this.type=e}}function He(t){let e=p.exports.useRef({isFocused:!1,onBlur:t,observer:null});return e.current.onBlur=t,Ve(()=>{const r=e.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]),p.exports.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){e.current.isFocused=!0;let s=r.target,a=i=>{var c,f;e.current.isFocused=!1,s.disabled&&((f=(c=e.current).onBlur)===null||f===void 0||f.call(c,new mt("blur",i))),e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};s.addEventListener("focusout",a,{once:!0}),e.current.observer=new MutationObserver(()=>{e.current.isFocused&&s.disabled&&(e.current.observer.disconnect(),s.dispatchEvent(new FocusEvent("blur")),s.dispatchEvent(new FocusEvent("focusout",{bubbles:!0})))}),e.current.observer.observe(s,{attributes:!0,attributeFilter:["disabled"]})}},[])}function vt(t){let{isDisabled:e,onFocus:r,onBlur:s,onFocusChange:a}=t;const i=p.exports.useCallback($=>{if($.target===$.currentTarget)return s&&s($),a&&a(!1),!0},[s,a]),c=He(i),f=p.exports.useCallback($=>{$.target===$.currentTarget&&(r&&r($),a&&a(!0),c($))},[a,r,c]);return{focusProps:{onFocus:!e&&(r||a||s)?f:void 0,onBlur:!e&&(s||a)?i:null}}}let M=null,ae=new Set,Se=!1,D=!1,oe=!1;function j(t,e){for(let r of ae)r(t,e)}function yt(t){return!(t.metaKey||!Ye()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function we(t){D=!0,yt(t)&&(M="keyboard",j("keyboard",t))}function K(t){M="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(D=!0,j("pointer",t))}function Pt(t){Q(t)&&(D=!0,M="virtual")}function Tt(t){t.target===window||t.target===document||(!D&&!oe&&(M="virtual",j("virtual",t)),D=!1,oe=!1)}function Et(){D=!1,oe=!0}function ie(){if(typeof window>"u"||Se)return;let t=HTMLElement.prototype.focus;HTMLElement.prototype.focus=function(){D=!0,t.apply(this,arguments)},document.addEventListener("keydown",we,!0),document.addEventListener("keyup",we,!0),document.addEventListener("click",Pt,!0),window.addEventListener("focus",Tt,!0),window.addEventListener("blur",Et,!1),typeof PointerEvent<"u"?(document.addEventListener("pointerdown",K,!0),document.addEventListener("pointermove",K,!0),document.addEventListener("pointerup",K,!0)):(document.addEventListener("mousedown",K,!0),document.addEventListener("mousemove",K,!0),document.addEventListener("mouseup",K,!0)),Se=!0}typeof document<"u"&&(document.readyState!=="loading"?ie():document.addEventListener("DOMContentLoaded",ie));function Wt(){return M!=="pointer"}function xt(){return M}function Bt(t){M=t,j(t,null)}function _t(){ie();let[t,e]=p.exports.useState(M);return p.exports.useEffect(()=>{let r=()=>{e(M)};return ae.add(r),()=>{ae.delete(r)}},[]),t}function Gt(t){let{isDisabled:e,onBlurWithin:r,onFocusWithin:s,onFocusWithinChange:a}=t,i=p.exports.useRef({isFocusWithin:!1}),c=p.exports.useCallback(m=>{i.current.isFocusWithin&&!m.currentTarget.contains(m.relatedTarget)&&(i.current.isFocusWithin=!1,r&&r(m),a&&a(!1))},[r,a,i]),f=He(c),$=p.exports.useCallback(m=>{i.current.isFocusWithin||(s&&s(m),a&&a(!0),i.current.isFocusWithin=!0,f(m))},[s,a,f]);return e?{focusWithinProps:{onFocus:null,onBlur:null}}:{focusWithinProps:{onFocus:$,onBlur:c}}}let V=!1,J=0;function le(){V=!0,setTimeout(()=>{V=!1},50)}function Le(t){t.pointerType==="touch"&&le()}function St(){if(!(typeof document>"u"))return typeof PointerEvent<"u"?document.addEventListener("pointerup",Le):document.addEventListener("touchend",le),J++,()=>{J--,!(J>0)&&(typeof PointerEvent<"u"?document.removeEventListener("pointerup",Le):document.removeEventListener("touchend",le))}}function Vt(t){let{onHoverStart:e,onHoverChange:r,onHoverEnd:s,isDisabled:a}=t,[i,c]=p.exports.useState(!1),f=p.exports.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;p.exports.useEffect(St,[]);let{hoverProps:$,triggerHoverEnd:m}=p.exports.useMemo(()=>{let h=(d,T)=>{if(f.pointerType=T,a||T==="touch"||f.isHovered||!d.currentTarget.contains(d.target))return;f.isHovered=!0;let w=d.currentTarget;f.target=w,e&&e({type:"hoverstart",target:w,pointerType:T}),r&&r(!0),c(!0)},C=(d,T)=>{if(f.pointerType="",f.target=null,T==="touch"||!f.isHovered)return;f.isHovered=!1;let w=d.currentTarget;s&&s({type:"hoverend",target:w,pointerType:T}),r&&r(!1),c(!1)},g={};return typeof PointerEvent<"u"?(g.onPointerEnter=d=>{V&&d.pointerType==="mouse"||h(d,d.pointerType)},g.onPointerLeave=d=>{!a&&d.currentTarget.contains(d.target)&&C(d,d.pointerType)}):(g.onTouchStart=()=>{f.ignoreEmulatedMouseEvents=!0},g.onMouseEnter=d=>{!f.ignoreEmulatedMouseEvents&&!V&&h(d,"mouse"),f.ignoreEmulatedMouseEvents=!1},g.onMouseLeave=d=>{!a&&d.currentTarget.contains(d.target)&&C(d,"mouse")}),{hoverProps:g,triggerHoverEnd:C}},[e,r,s,a,f]);return p.exports.useEffect(()=>{a&&m({currentTarget:f.target},f.pointerType)},[a]),{hoverProps:$,isHovered:i}}function Me(t){if(!t)return;let e=!0;return r=>{let s={...r,preventDefault(){r.preventDefault()},isDefaultPrevented(){return r.isDefaultPrevented()},stopPropagation(){console.error("stopPropagation is now the default behavior for events in React Spectrum. You can use continuePropagation() to revert this behavior.")},continuePropagation(){e=!1}};t(s),e&&r.stopPropagation()}}function wt(t){return{keyboardProps:t.isDisabled?{}:{onKeyDown:Me(t.onKeyDown),onKeyUp:Me(t.onKeyUp)}}}function jt(t,e){let{onScroll:r,isDisabled:s}=t,a=p.exports.useCallback(i=>{i.ctrlKey||(i.preventDefault(),i.stopPropagation(),r&&r({deltaX:i.deltaX,deltaY:i.deltaY}))},[r]);Ge(e,"wheel",s?null:a)}const Lt=500;function zt(t){let{isDisabled:e,onLongPressStart:r,onLongPressEnd:s,onLongPress:a,threshold:i=Lt,accessibilityDescription:c}=t;const f=p.exports.useRef(null);let{addGlobalListener:$,removeGlobalListener:m}=Fe(),{pressProps:h}=pt({isDisabled:e,onPressStart(g){if((g.pointerType==="mouse"||g.pointerType==="touch")&&(r&&r({...g,type:"longpressstart"}),f.current=setTimeout(()=>{g.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),a&&a({...g,type:"longpress"}),f.current=null},i),g.pointerType==="touch")){let d=T=>{T.preventDefault()};$(g.target,"contextmenu",d,{once:!0}),$(window,"pointerup",()=>{setTimeout(()=>{m(g.target,"contextmenu",d)},30)},{once:!0})}},onPressEnd(g){f.current&&clearTimeout(f.current),s&&(g.pointerType==="mouse"||g.pointerType==="touch")&&s({...g,type:"longpressend"})}}),C=ze(a&&!e?c:null);return{longPressProps:N(h,C)}}function Mt(t){if(xt()==="virtual"){let e=document.activeElement;Re(()=>{document.activeElement===e&&document.contains(t)&&O(t)})}else O(t)}function Ct(t){if(!(t instanceof HTMLElement)&&!(t instanceof SVGElement))return!1;let{display:e,visibility:r}=t.style,s=e!=="none"&&r!=="hidden"&&r!=="collapse";if(s){const{getComputedStyle:a}=t.ownerDocument.defaultView;let{display:i,visibility:c}=a(t);s=i!=="none"&&c!=="hidden"&&c!=="collapse"}return s}function Ft(t,e){return!t.hasAttribute("hidden")&&(t.nodeName==="DETAILS"&&e&&e.nodeName!=="SUMMARY"?t.hasAttribute("open"):!0)}function Ae(t,e){return t.nodeName!=="#comment"&&Ct(t)&&Ft(t,e)&&(!t.parentElement||Ae(t.parentElement,t))}const fe=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],Dt=fe.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";fe.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const Rt=fe.join(':not([hidden]):not([tabindex="-1"]),');function Ue(t,e){return e.some(r=>r.contains(t))}function Yt(t,e,r){let s=e!=null&&e.tabbable?Rt:Dt,a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode(i){var c;return!(e==null||(c=e.from)===null||c===void 0)&&c.contains(i)?NodeFilter.FILTER_REJECT:i.matches(s)&&Ae(i)&&(!r||Ue(i,r))&&(!(e!=null&&e.accept)||e.accept(i))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return e!=null&&e.from&&(a.currentNode=e.from),a}class de{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,r,s){let a=this.fastMap.get(r!=null?r:null),i=new Ce({scopeRef:e});a.addChild(i),i.parent=a,this.fastMap.set(e,i),s&&(i.nodeToRestore=s)}removeTreeNode(e){if(e===null)return;let r=this.fastMap.get(e),s=r.parent;for(let i of this.traverse())i!==r&&r.nodeToRestore&&i.nodeToRestore&&r.scopeRef.current&&Ue(i.nodeToRestore,r.scopeRef.current)&&(i.nodeToRestore=r.nodeToRestore);let a=r.children;s.removeChild(r),a.length>0&&a.forEach(i=>s.addChild(i)),this.fastMap.delete(r.scopeRef)}*traverse(e=this.root){if(e.scopeRef!=null&&(yield e),e.children.length>0)for(let r of e.children)yield*this.traverse(r)}clone(){let e=new de;for(let r of this.traverse())e.addTreeNode(r.scopeRef,r.parent.scopeRef,r.nodeToRestore);return e}constructor(){ee(this,"fastMap",new Map),this.root=new Ce({scopeRef:null}),this.fastMap.set(null,this.root)}}class Ce{addChild(e){this.children.push(e),e.parent=this}removeChild(e){this.children.splice(this.children.indexOf(e),1),e.parent=void 0}constructor(e){ee(this,"children",[]),ee(this,"contain",!1),this.scopeRef=e.scopeRef}}new de;let Kt=ue.createContext(null);function Ot(t){let e=p.exports.useContext(Kt)||{};Ke(e,t);let{ref:r,...s}=e;return s}function Xt(t,e){let{focusProps:r}=vt(t),{keyboardProps:s}=wt(t),a=N(r,s),i=Ot(e),c=t.isDisabled?{}:i,f=p.exports.useRef(t.autoFocus);return p.exports.useEffect(()=>{f.current&&e.current&&Mt(e.current),f.current=!1},[e]),{focusableProps:N({...a,tabIndex:t.excludeFromTabOrder&&!t.isDisabled?-1:void 0},c)}}export{Gt as $,ee as _,Ht as a,zt as b,Ut as c,Bt as d,_t as e,ce as f,Mt as g,pt as h,Yt as i,Vt as j,Wt as k,Xt as l,xt as m,vt as n,jt as o,At as p,Qe as q,Nt as r};

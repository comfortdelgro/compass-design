import{j as e,F as h,s as o,k as $,R as i,a as f}from"./index-d976ddeb.js";import{p as x}from"./pick-child-cf4aecd7.js";import{u as b,c as v,d as w,P as S,e as I}from"./utils-79137c63.js";const k=r=>e(h,{children:r.children}),F=k,L=o("li",{fontSize:"$label1",fontWeight:"$medium",padding:"$2 $4",outline:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"$2",color:"333333","&:hover":{backgroundColor:"#F3F2F1"},variants:{isFocused:{true:{backgroundColor:"#F3F2F1"}},isSelected:{true:{backgroundColor:"#F3F2F1"}},isDisabled:{true:{opacity:.4,cursor:"not-allowed"}}}}),W=o("div",{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:"$4",height:"$4",overflow:"hidden"}),j=o("div",{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:"$6",height:"$6",overflow:"hidden",svg:{width:"$6",height:"$6"}}),H=o("div",{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:"$6",height:"$6",borderRadius:"$md",background:"$$bg"}),N=o("div",{display:"flex",alignItems:"center",flexGrow:1}),C=$({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),E=o("div",{display:"flex",justifyContent:"center",margin:"$4 auto",".spinner":{display:"inline-block",position:"relative",width:"$4",height:"$4",div:{boxSizing:"border-box",display:"block",position:"absolute",width:"$4",height:"$4",border:"2px solid #757575",borderRadius:"50%",animation:`${C} 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite`,borderColor:"#757575 transparent transparent transparent"},".spinner-1":{animationDelay:"-0.45s"},".spinner-2":{animationDelay:"-0.3s"},".spinner-3":{animationDelay:"-0.15s"}}}),P=o("div",{backgroundColor:"$cdgBlue10",padding:"$2 $4",fontSize:"$label2",fontWeight:"$semibold",color:"#333333"});function V(r){const a=i.useRef(null),{listBoxRef:m=a,collection:s,rootChildren:g,sectionCollection:c,renderOptions:n}=r,l=i.useRef(null),d=i.useRef(null),t=b(l),u=i.useMemo(()=>v(c,s),[c,s]);i.useEffect(()=>{if(l.current&&d.current){const y=w(l.current,d.current);t&&y>0&&y<=1&&r.onLoadMore()}},[t]);const{child:p}=x(g,F);return f(h,{children:[p,e("ul",{ref:m,children:r.isLoading?e(E,{children:f("div",{className:"spinner",children:[e("div",{className:"spinner-1"}),e("div",{className:"spinner-2"}),e("div",{className:"spinner-3"}),e("div",{})]})}):f(h,{children:[n==null?void 0:n(u),[...s].length>0&&e("div",{style:{height:1},ref:l})]})}),e("div",{style:{height:1},ref:d})]})}const B=o("div",{position:"absolute",zIndex:"$$zIndex",margin:0,padding:"$2 0",borderRadius:"$md",width:"fit-content",minWidth:"100%",background:"#FFFFFF",boxShadow:"0px 0.6px 1.8px rgba(0, 0, 0, 0.1), 0px 3.2px 7.2px rgba(0, 0, 0, 0.13)",ul:{maxHeight:"$64",overflowY:"auto",listStyle:"none",marginBlockStart:0,marginBlockEnd:0,marginInlineStart:0,marginInlineEnd:0,paddingInlineStart:0,"&:focus":{outline:"none"}}});function _({children:r,triggerRef:a,close:m,handleKeyDown:s,...g}){var d;const c=i.useRef(null),{popoverRef:n=c,isEmpty:l=!1}=g;return i.useEffect(()=>{var u,p;const t=(u=n.current)==null?void 0:u.getBoundingClientRect();t&&(!(t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth))&&n.current?n.current.style.bottom=`${(((p=a.current)==null?void 0:p.clientHeight)??42)+10}px`:n.current&&(n.current.style.top="8px"))},[]),i.useEffect(()=>(document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)})),f(h,{children:[e("div",{onClick:m,style:{position:"fixed",inset:0,zIndex:S}}),e(B,{ref:n,style:{minWidth:(d=a.current)!=null&&d.clientWidth?a.current.clientWidth+2:"100%",display:l?"none":""},css:{$$zIndex:I},children:r})]})}export{V as B,F as D,_ as P,L as S,N as a,P as b,j as c,W as d,H as e};

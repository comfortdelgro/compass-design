import{r as h,f as yt,a as xt,j as te,F as qt,g as wt}from"./index-2a259d11.js";function Re(e){return e.split("-")[1]}function Qe(e){return e==="y"?"height":"width"}function ce(e){return e.split("-")[0]}function Ee(e){return["top","bottom"].includes(ce(e))?"x":"y"}function rt(e,t,n){let{reference:r,floating:o}=e;const i=r.x+r.width/2-o.width/2,s=r.y+r.height/2-o.height/2,u=Ee(t),c=Qe(u),a=r[c]/2-o[c]/2,v=u==="x";let l;switch(ce(t)){case"top":l={x:i,y:r.y-o.height};break;case"bottom":l={x:i,y:r.y+r.height};break;case"right":l={x:r.x+r.width,y:s};break;case"left":l={x:r.x-o.width,y:s};break;default:l={x:r.x,y:r.y}}switch(Re(t)){case"start":l[u]-=a*(n&&v?-1:1);break;case"end":l[u]+=a*(n&&v?-1:1)}return l}const jt=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,u=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let a=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:v,y:l}=rt(a,r,c),f=r,d={},b=0;for(let p=0;p<u.length;p++){const{name:y,fn:g}=u[p],{x:w,y:I,data:R,reset:A}=await g({x:v,y:l,initialPlacement:r,placement:f,strategy:o,middlewareData:d,rects:a,platform:s,elements:{reference:e,floating:t}});v=w??v,l=I??l,d={...d,[y]:{...d[y],...R}},A&&b<=50&&(b++,typeof A=="object"&&(A.placement&&(f=A.placement),A.rects&&(a=A.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):A.rects),{x:v,y:l}=rt(a,f,c)),p=-1)}return{x:v,y:l,placement:f,strategy:o,middlewareData:d}};function Rt(e){return typeof e!="number"?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(e):{top:e,right:e,bottom:e,left:e}}function Fe(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}async function Et(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:u,strategy:c}=e,{boundary:a="clippingAncestors",rootBoundary:v="viewport",elementContext:l="floating",altBoundary:f=!1,padding:d=0}=t,b=Rt(d),p=u[f?l==="floating"?"reference":"floating":l],y=Fe(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(p)))==null||n?p:p.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:a,rootBoundary:v,strategy:c})),g=l==="floating"?{...s.floating,x:r,y:o}:s.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),I=await(i.isElement==null?void 0:i.isElement(w))&&await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1},R=Fe(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:g,offsetParent:w,strategy:c}):g);return{top:(y.top-R.top+b.top)/I.y,bottom:(R.bottom-y.bottom+b.bottom)/I.y,left:(y.left-R.left+b.left)/I.x,right:(R.right-y.right+b.right)/I.x}}const Yt=Math.min,Xt=Math.max;function Ge(e,t,n){return Xt(e,Yt(t,n))}const ot=e=>({name:"arrow",options:e,async fn(t){const{element:n,padding:r=0}=e||{},{x:o,y:i,placement:s,rects:u,platform:c,elements:a}=t;if(n==null)return{};const v=Rt(r),l={x:o,y:i},f=Ee(s),d=Qe(f),b=await c.getDimensions(n),p=f==="y",y=p?"top":"left",g=p?"bottom":"right",w=p?"clientHeight":"clientWidth",I=u.reference[d]+u.reference[f]-l[f]-u.floating[d],R=l[f]-u.reference[f],A=await(c.getOffsetParent==null?void 0:c.getOffsetParent(n));let T=A?A[w]:0;T&&await(c.isElement==null?void 0:c.isElement(A))||(T=a.floating[w]||u.floating[d]);const $=I/2-R/2,V=v[y],W=T-b[d]-v[g],N=T/2-b[d]/2+$,S=Ge(V,N,W),M=Re(s)!=null&&N!=S&&u.reference[d]/2-(N<V?v[y]:v[g])-b[d]/2<0;return{[f]:l[f]-(M?N<V?V-N:W-N:0),data:{[f]:S,centerOffset:N-S}}}}),zt=["top","right","bottom","left"];zt.reduce((e,t)=>e.concat(t,t+"-start",t+"-end"),[]);const Gt={left:"right",right:"left",bottom:"top",top:"bottom"};function De(e){return e.replace(/left|right|bottom|top/g,t=>Gt[t])}function Ut(e,t,n){n===void 0&&(n=!1);const r=Re(e),o=Ee(e),i=Qe(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=De(s)),{main:s,cross:De(s)}}const Zt={start:"end",end:"start"};function Ke(e){return e.replace(/start|end/g,t=>Zt[t])}const Qn=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n;const{placement:r,middlewareData:o,rects:i,initialPlacement:s,platform:u,elements:c}=t,{mainAxis:a=!0,crossAxis:v=!0,fallbackPlacements:l,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:d="none",flipAlignment:b=!0,...p}=e,y=ce(r),g=ce(s)===s,w=await(u.isRTL==null?void 0:u.isRTL(c.floating)),I=l||(g||!b?[De(s)]:function(S){const M=De(S);return[Ke(S),M,Ke(M)]}(s));l||d==="none"||I.push(...function(S,M,x,m){const P=Re(S);let E=function(k,D,C){const L=["left","right"],F=["right","left"],O=["top","bottom"],H=["bottom","top"];switch(k){case"top":case"bottom":return C?D?F:L:D?L:F;case"left":case"right":return D?O:H;default:return[]}}(ce(S),x==="start",m);return P&&(E=E.map(k=>k+"-"+P),M&&(E=E.concat(E.map(Ke)))),E}(s,b,d,w));const R=[s,...I],A=await Et(t,p),T=[];let $=((n=o.flip)==null?void 0:n.overflows)||[];if(a&&T.push(A[y]),v){const{main:S,cross:M}=Ut(r,i,w);T.push(A[S],A[M])}if($=[...$,{placement:r,overflows:T}],!T.every(S=>S<=0)){var V,W;const S=(((V=o.flip)==null?void 0:V.index)||0)+1,M=R[S];if(M)return{data:{index:S,overflows:$},reset:{placement:M}};let x=(W=$.filter(m=>m.overflows[0]<=0).sort((m,P)=>m.overflows[1]-P.overflows[1])[0])==null?void 0:W.placement;if(!x)switch(f){case"bestFit":{var N;const m=(N=$.map(P=>[P.placement,P.overflows.filter(E=>E>0).reduce((E,k)=>E+k,0)]).sort((P,E)=>P[1]-E[1])[0])==null?void 0:N[0];m&&(x=m);break}case"initialPlacement":x=s}if(r!==x)return{reset:{placement:x}}}return{}}}},er=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await async function(i,s){const{placement:u,platform:c,elements:a}=i,v=await(c.isRTL==null?void 0:c.isRTL(a.floating)),l=ce(u),f=Re(u),d=Ee(u)==="x",b=["left","top"].includes(l)?-1:1,p=v&&d?-1:1,y=typeof s=="function"?s(i):s;let{mainAxis:g,crossAxis:w,alignmentAxis:I}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...y};return f&&typeof I=="number"&&(w=f==="end"?-1*I:I),d?{x:w*p,y:g*b}:{x:g*b,y:w*p}}(t,e);return{x:n+o.x,y:r+o.y,data:o}}}};function Jt(e){return e==="x"?"y":"x"}const tr=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:u={fn:y=>{let{x:g,y:w}=y;return{x:g,y:w}}},...c}=e,a={x:n,y:r},v=await Et(t,c),l=Ee(ce(o)),f=Jt(l);let d=a[l],b=a[f];if(i){const y=l==="y"?"bottom":"right";d=Ge(d+v[l==="y"?"top":"left"],d,d-v[y])}if(s){const y=f==="y"?"bottom":"right";b=Ge(b+v[f==="y"?"top":"left"],b,b-v[y])}const p=u.fn({...t,[l]:d,[f]:b});return{...p,data:{x:p.x-n,y:p.y-r}}}}};function X(e){var t;return((t=e.ownerDocument)==null?void 0:t.defaultView)||window}function J(e){return X(e).getComputedStyle(e)}function Tt(e){return e instanceof X(e).Node}function oe(e){return Tt(e)?(e.nodeName||"").toLowerCase():""}let Te;function St(){if(Te)return Te;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(Te=e.brands.map(t=>t.brand+"/"+t.version).join(" "),Te):navigator.userAgent}function Q(e){return e instanceof X(e).HTMLElement}function z(e){return e instanceof X(e).Element}function it(e){return typeof ShadowRoot>"u"?!1:e instanceof X(e).ShadowRoot||e instanceof ShadowRoot}function ye(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=J(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function Qt(e){return["table","td","th"].includes(oe(e))}function Ue(e){const t=/firefox/i.test(St()),n=J(e),r=n.backdropFilter||n.WebkitBackdropFilter;return n.transform!=="none"||n.perspective!=="none"||!!r&&r!=="none"||t&&n.willChange==="filter"||t&&!!n.filter&&n.filter!=="none"||["transform","perspective"].some(o=>n.willChange.includes(o))||["paint","layout","strict","content"].some(o=>{const i=n.contain;return i!=null&&i.includes(o)})}function Ze(){return/^((?!chrome|android).)*safari/i.test(St())}function We(e){return["html","body","#document"].includes(oe(e))}const st=Math.min,ge=Math.max,Ie=Math.round;function Pt(e){const t=J(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Q(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,u=Ie(n)!==i||Ie(r)!==s;return u&&(n=i,r=s),{width:n,height:r,fallback:u}}function Ct(e){return z(e)?e:e.contextElement}const At={x:1,y:1};function me(e){const t=Ct(e);if(!Q(t))return At;const n=t.getBoundingClientRect(),{width:r,height:o,fallback:i}=Pt(t);let s=(i?Ie(n.width):n.width)/r,u=(i?Ie(n.height):n.height)/o;return s&&Number.isFinite(s)||(s=1),u&&Number.isFinite(u)||(u=1),{x:s,y:u}}function ae(e,t,n,r){var o,i;t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),u=Ct(e);let c=At;t&&(r?z(r)&&(c=me(r)):c=me(e));const a=u?X(u):window,v=Ze()&&n;let l=(s.left+(v&&((o=a.visualViewport)==null?void 0:o.offsetLeft)||0))/c.x,f=(s.top+(v&&((i=a.visualViewport)==null?void 0:i.offsetTop)||0))/c.y,d=s.width/c.x,b=s.height/c.y;if(u){const p=X(u),y=r&&z(r)?X(r):r;let g=p.frameElement;for(;g&&r&&y!==p;){const w=me(g),I=g.getBoundingClientRect(),R=getComputedStyle(g);I.x+=(g.clientLeft+parseFloat(R.paddingLeft))*w.x,I.y+=(g.clientTop+parseFloat(R.paddingTop))*w.y,l*=w.x,f*=w.y,d*=w.x,b*=w.y,l+=I.x,f+=I.y,g=X(g).frameElement}}return Fe({width:d,height:b,x:l,y:f})}function ne(e){return((Tt(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ve(e){return z(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Lt(e){return ae(ne(e)).left+Ve(e).scrollLeft}function ve(e){if(oe(e)==="html")return e;const t=e.assignedSlot||e.parentNode||it(e)&&e.host||ne(e);return it(t)?t.host:t}function Ft(e){const t=ve(e);return We(t)?t.ownerDocument.body:Q(t)&&ye(t)?t:Ft(t)}function re(e,t){var n;t===void 0&&(t=[]);const r=Ft(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),i=X(r);return o?t.concat(i,i.visualViewport||[],ye(r)?r:[]):t.concat(r,re(r))}function ut(e,t,n){let r;if(t==="viewport")r=function(s,u){const c=X(s),a=ne(s),v=c.visualViewport;let l=a.clientWidth,f=a.clientHeight,d=0,b=0;if(v){l=v.width,f=v.height;const p=Ze();(!p||p&&u==="fixed")&&(d=v.offsetLeft,b=v.offsetTop)}return{width:l,height:f,x:d,y:b}}(e,n);else if(t==="document")r=function(s){const u=ne(s),c=Ve(s),a=s.ownerDocument.body,v=ge(u.scrollWidth,u.clientWidth,a.scrollWidth,a.clientWidth),l=ge(u.scrollHeight,u.clientHeight,a.scrollHeight,a.clientHeight);let f=-c.scrollLeft+Lt(s);const d=-c.scrollTop;return J(a).direction==="rtl"&&(f+=ge(u.clientWidth,a.clientWidth)-v),{width:v,height:l,x:f,y:d}}(ne(e));else if(z(t))r=function(s,u){const c=ae(s,!0,u==="fixed"),a=c.top+s.clientTop,v=c.left+s.clientLeft,l=Q(s)?me(s):{x:1,y:1};return{width:s.clientWidth*l.x,height:s.clientHeight*l.y,x:v*l.x,y:a*l.y}}(t,n);else{const s={...t};if(Ze()){var o,i;const u=X(e);s.x-=((o=u.visualViewport)==null?void 0:o.offsetLeft)||0,s.y-=((i=u.visualViewport)==null?void 0:i.offsetTop)||0}r=s}return Fe(r)}function Dt(e,t){const n=ve(e);return!(n===t||!z(n)||We(n))&&(J(n).position==="fixed"||Dt(n,t))}function lt(e,t){return Q(e)&&J(e).position!=="fixed"?t?t(e):e.offsetParent:null}function ct(e,t){const n=X(e);if(!Q(e))return n;let r=lt(e,t);for(;r&&Qt(r)&&J(r).position==="static";)r=lt(r,t);return r&&(oe(r)==="html"||oe(r)==="body"&&J(r).position==="static"&&!Ue(r))?n:r||function(o){let i=ve(o);for(;Q(i)&&!We(i);){if(Ue(i))return i;i=ve(i)}return null}(e)||n}function en(e,t,n){const r=Q(t),o=ne(t),i=ae(e,!0,n==="fixed",t);let s={scrollLeft:0,scrollTop:0};const u={x:0,y:0};if(r||!r&&n!=="fixed")if((oe(t)!=="body"||ye(o))&&(s=Ve(t)),Q(t)){const c=ae(t,!0);u.x=c.x+t.clientLeft,u.y=c.y+t.clientTop}else o&&(u.x=Lt(o));return{x:i.left+s.scrollLeft-u.x,y:i.top+s.scrollTop-u.y,width:i.width,height:i.height}}const tn={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const i=n==="clippingAncestors"?function(a,v){const l=v.get(a);if(l)return l;let f=re(a).filter(y=>z(y)&&oe(y)!=="body"),d=null;const b=J(a).position==="fixed";let p=b?ve(a):a;for(;z(p)&&!We(p);){const y=J(p),g=Ue(p);g||y.position!=="fixed"||(d=null),(b?!g&&!d:!g&&y.position==="static"&&d&&["absolute","fixed"].includes(d.position)||ye(p)&&!g&&Dt(a,p))?f=f.filter(w=>w!==p):d=y,p=ve(p)}return v.set(a,f),f}(t,this._c):[].concat(n),s=[...i,r],u=s[0],c=s.reduce((a,v)=>{const l=ut(t,v,o);return a.top=ge(l.top,a.top),a.right=st(l.right,a.right),a.bottom=st(l.bottom,a.bottom),a.left=ge(l.left,a.left),a},ut(t,u,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=Q(n),i=ne(n);if(n===i)return t;let s={scrollLeft:0,scrollTop:0},u={x:1,y:1};const c={x:0,y:0};if((o||!o&&r!=="fixed")&&((oe(n)!=="body"||ye(i))&&(s=Ve(n)),Q(n))){const a=ae(n);u=me(n),c.x=a.x+n.clientLeft,c.y=a.y+n.clientTop}return{width:t.width*u.x,height:t.height*u.y,x:t.x*u.x-s.scrollLeft*u.x+c.x,y:t.y*u.y-s.scrollTop*u.y+c.y}},isElement:z,getDimensions:function(e){return Pt(e)},getOffsetParent:ct,getDocumentElement:ne,getScale:me,async getElementRects(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||ct,i=this.getDimensions;return{reference:en(t,await o(n),r),floating:{x:0,y:0,...await i(n)}}},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>J(e).direction==="rtl"};function nr(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=!0,animationFrame:u=!1}=r,c=o||i?[...z(e)?re(e):e.contextElement?re(e.contextElement):[],...re(t)]:[];c.forEach(f=>{const d=!z(f)&&f.toString().includes("V");!o||u&&!d||f.addEventListener("scroll",n,{passive:!0}),i&&f.addEventListener("resize",n)});let a,v=null;s&&(v=new ResizeObserver(()=>{n()}),z(e)&&!u&&v.observe(e),z(e)||!e.contextElement||u||v.observe(e.contextElement),v.observe(t));let l=u?ae(e):null;return u&&function f(){const d=ae(e);!l||d.x===l.x&&d.y===l.y&&d.width===l.width&&d.height===l.height||n(),l=d,a=requestAnimationFrame(f)}(),n(),()=>{var f;c.forEach(d=>{o&&d.removeEventListener("scroll",n),i&&d.removeEventListener("resize",n)}),(f=v)==null||f.disconnect(),v=null,u&&cancelAnimationFrame(a)}}const nn=(e,t,n)=>{const r=new Map,o={platform:tn,...n},i={...o.platform,_c:r};return jt(e,t,{...o,platform:i})},rr=e=>{const{element:t,padding:n}=e;function r(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:e,fn(o){return t&&r(t)?t.current!=null?ot({element:t.current,padding:n}).fn(o):{}:t?ot({element:t,padding:n}).fn(o):{}}}};var Ce=typeof document<"u"?h.useLayoutEffect:h.useEffect;function Me(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Me(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Me(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function It(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function at(e,t){const n=It(e);return Math.round(t*n)/n}function ft(e){const t=h.useRef(e);return Ce(()=>{t.current=e}),t}function rn(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:u=!0,whileElementsMounted:c,open:a}=e,[v,l]=h.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[f,d]=h.useState(r);Me(f,r)||d(r);const[b,p]=h.useState(null),[y,g]=h.useState(null),w=h.useCallback(E=>{E!=T.current&&(T.current=E,p(E))},[p]),I=h.useCallback(E=>{E!==$.current&&($.current=E,g(E))},[g]),R=i||b,A=s||y,T=h.useRef(null),$=h.useRef(null),V=h.useRef(v),W=ft(c),N=ft(o),S=h.useCallback(()=>{if(!T.current||!$.current)return;const E={placement:t,strategy:n,middleware:f};N.current&&(E.platform=N.current),nn(T.current,$.current,E).then(k=>{const D={...k,isPositioned:!0};M.current&&!Me(V.current,D)&&(V.current=D,yt.flushSync(()=>{l(D)}))})},[f,t,n,N]);Ce(()=>{a===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,l(E=>({...E,isPositioned:!1})))},[a]);const M=h.useRef(!1);Ce(()=>(M.current=!0,()=>{M.current=!1}),[]),Ce(()=>{if(R&&(T.current=R),A&&($.current=A),R&&A){if(W.current)return W.current(R,A,S);S()}},[R,A,S,W]);const x=h.useMemo(()=>({reference:T,floating:$,setReference:w,setFloating:I}),[w,I]),m=h.useMemo(()=>({reference:R,floating:A}),[R,A]),P=h.useMemo(()=>{const E={position:n,left:0,top:0};if(!m.floating)return E;const k=at(m.floating,v.x),D=at(m.floating,v.y);return u?{...E,transform:"translate("+k+"px, "+D+"px)",...It(m.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:k,top:D}},[n,u,m.floating,v.x,v.y]);return h.useMemo(()=>({...v,update:S,refs:x,elements:m,floatingStyles:P}),[v,S,x,m,P])}var on=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},de=new WeakMap,Se=new WeakMap,Pe={},qe=0,Mt=function(e){return e&&(e.host||Mt(e.parentNode))},sn=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Mt(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},un=function(e,t,n,r){var o=sn(t,Array.isArray(e)?e:[e]);Pe[n]||(Pe[n]=new WeakMap);var i=Pe[n],s=[],u=new Set,c=new Set(o),a=function(l){!l||u.has(l)||(u.add(l),a(l.parentNode))};o.forEach(a);var v=function(l){!l||c.has(l)||Array.prototype.forEach.call(l.children,function(f){if(u.has(f))v(f);else{var d=f.getAttribute(r),b=d!==null&&d!=="false",p=(de.get(f)||0)+1,y=(i.get(f)||0)+1;de.set(f,p),i.set(f,y),s.push(f),p===1&&b&&Se.set(f,!0),y===1&&f.setAttribute(n,"true"),b||f.setAttribute(r,"true")}})};return v(t),u.clear(),qe++,function(){s.forEach(function(l){var f=de.get(l)-1,d=i.get(l)-1;de.set(l,f),i.set(l,d),f||(Se.has(l)||l.removeAttribute(r),Se.delete(l)),d||l.removeAttribute(n)}),qe--,qe||(de=new WeakMap,de=new WeakMap,Se=new WeakMap,Pe={})}},ln=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=t||on(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),un(r,o,n,"aria-hidden")):function(){return null}};/*!
* tabbable 6.1.2
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var cn=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Je=cn.join(","),kt=typeof Element>"u",xe=kt?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,ke=!kt&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},Oe=function e(t,n){var r;n===void 0&&(n=!0);var o=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),i=o===""||o==="true",s=i||n&&t&&e(t.parentNode);return s},an=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},fn=function(t,n,r){if(Oe(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(Je));return n&&xe.call(t,Je)&&o.unshift(t),o=o.filter(r),o},dn=function e(t,n,r){for(var o=[],i=Array.from(t);i.length;){var s=i.shift();if(!Oe(s,!1))if(s.tagName==="SLOT"){var u=s.assignedElements(),c=u.length?u:s.children,a=e(c,!0,r);r.flatten?o.push.apply(o,a):o.push({scopeParent:s,candidates:a})}else{var v=xe.call(s,Je);v&&r.filter(s)&&(n||!t.includes(s))&&o.push(s);var l=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),f=!Oe(l,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(l&&f){var d=e(l===!0?s.children:l.children,!0,r);r.flatten?o.push.apply(o,d):o.push({scopeParent:s,candidates:d})}else i.unshift.apply(i,s.children)}}return o},Ot=function(t,n){return t.tabIndex<0&&(n||/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||an(t))&&isNaN(parseInt(t.getAttribute("tabindex"),10))?0:t.tabIndex},mn=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},Nt=function(t){return t.tagName==="INPUT"},pn=function(t){return Nt(t)&&t.type==="hidden"},vn=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},gn=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},hn=function(t){if(!t.name)return!0;var n=t.form||ke(t),r=function(u){return n.querySelectorAll('input[type="radio"][name="'+u+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(t.name));else try{o=r(t.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var i=gn(o,t.form);return!i||i===t},bn=function(t){return Nt(t)&&t.type==="radio"},yn=function(t){return bn(t)&&!hn(t)},xn=function(t){var n,r=t&&ke(t),o=(n=r)===null||n===void 0?void 0:n.host,i=!1;if(r&&r!==t){var s,u,c;for(i=!!((s=o)!==null&&s!==void 0&&(u=s.ownerDocument)!==null&&u!==void 0&&u.contains(o)||t!=null&&(c=t.ownerDocument)!==null&&c!==void 0&&c.contains(t));!i&&o;){var a,v,l;r=ke(o),o=(a=r)===null||a===void 0?void 0:a.host,i=!!((v=o)!==null&&v!==void 0&&(l=v.ownerDocument)!==null&&l!==void 0&&l.contains(o))}}return i},dt=function(t){var n=t.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},wn=function(t,n){var r=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var i=xe.call(t,"details>summary:first-of-type"),s=i?t.parentElement:t;if(xe.call(s,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var u=t;t;){var c=t.parentElement,a=ke(t);if(c&&!c.shadowRoot&&o(c)===!0)return dt(t);t.assignedSlot?t=t.assignedSlot:!c&&a!==t.ownerDocument?t=a.host:t=c}t=u}if(xn(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return dt(t);return!1},Rn=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return xe.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},En=function(t,n){return!(n.disabled||Oe(n)||pn(n)||wn(n,t)||vn(n)||Rn(n))},mt=function(t,n){return!(yn(n)||Ot(n)<0||!En(t,n))},Tn=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Sn=function e(t){var n=[],r=[];return t.forEach(function(o,i){var s=!!o.scopeParent,u=s?o.scopeParent:o,c=Ot(u,s),a=s?e(o.candidates):u;c===0?s?n.push.apply(n,a):n.push(u):r.push({documentOrder:i,tabIndex:c,item:o,isScope:s,content:a})}),r.sort(mn).reduce(function(o,i){return i.isScope?o.push.apply(o,i.content):o.push(i.content),o},[]).concat(n)},Ne=function(t,n){n=n||{};var r;return n.getShadowRoot?r=dn([t],n.includeContainer,{filter:mt.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Tn}):r=fn(t,n.includeContainer,mt.bind(null,n)),Sn(r)},U=typeof document<"u"?h.useLayoutEffect:h.useEffect;let je=!1,Pn=0;const pt=()=>"floating-ui-"+Pn++;function Cn(){const[e,t]=h.useState(()=>je?pt():void 0);return U(()=>{e==null&&t(pt())},[]),h.useEffect(()=>{je||(je=!0)},[]),e}const An=wt["useId".toString()],et=An||Cn;function Ln(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const Fn=h.createContext(null),Dn=h.createContext(null),$t=()=>{var e;return((e=h.useContext(Fn))==null?void 0:e.id)||null},He=()=>h.useContext(Dn);function Y(e){return(e==null?void 0:e.ownerDocument)||document}function In(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function Mn(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function _e(e){return Y(e).defaultView||window}function Z(e){return e?e instanceof _e(e).Element:!1}function we(e){return e?e instanceof _e(e).HTMLElement:!1}function kn(e){if(typeof ShadowRoot>"u")return!1;const t=_e(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function On(e){if(e.mozInputSource===0&&e.isTrusted)return!0;const t=/Android/i;return(t.test(In())||t.test(Mn()))&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Nn(e){return e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType!=="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0}function $n(){return/apple/i.test(navigator.vendor)}function Bt(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function q(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&kn(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function he(e){const t=h.useRef(e);return U(()=>{t.current=e}),t}const vt="data-floating-ui-safe-polygon";function Ye(e,t,n){return n&&!Bt(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function or(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,elements:{domReference:s,floating:u},refs:c}=e,{enabled:a=!0,delay:v=0,handleClose:l=null,mouseOnly:f=!1,restMs:d=0,move:b=!0}=t,p=He(),y=$t(),g=he(l),w=he(v),I=h.useRef(),R=h.useRef(),A=h.useRef(),T=h.useRef(),$=h.useRef(!0),V=h.useRef(!1),W=h.useRef(()=>{}),N=h.useCallback(()=>{var m;const P=(m=o.current.openEvent)==null?void 0:m.type;return(P==null?void 0:P.includes("mouse"))&&P!=="mousedown"},[o]);h.useEffect(()=>{if(!a)return;function m(){clearTimeout(R.current),clearTimeout(T.current),$.current=!0}return i.on("dismiss",m),()=>{i.off("dismiss",m)}},[a,i]),h.useEffect(()=>{if(!a||!g.current||!n)return;function m(){N()&&r(!1)}const P=Y(u).documentElement;return P.addEventListener("mouseleave",m),()=>{P.removeEventListener("mouseleave",m)}},[u,n,r,a,g,o,N]);const S=h.useCallback(function(m){m===void 0&&(m=!0);const P=Ye(w.current,"close",I.current);P&&!A.current?(clearTimeout(R.current),R.current=setTimeout(()=>r(!1),P)):m&&(clearTimeout(R.current),r(!1))},[w,r]),M=h.useCallback(()=>{W.current(),A.current=void 0},[]),x=h.useCallback(()=>{if(V.current){const m=Y(c.floating.current).body;m.style.pointerEvents="",m.removeAttribute(vt),V.current=!1}},[c]);return h.useEffect(()=>{if(!a)return;function m(){return o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1}function P(D){if(clearTimeout(R.current),$.current=!1,f&&!Bt(I.current)||d>0&&Ye(w.current,"open")===0)return;o.current.openEvent=D;const C=Ye(w.current,"open",I.current);C?R.current=setTimeout(()=>{r(!0)},C):r(!0)}function E(D){if(m())return;W.current();const C=Y(u);if(clearTimeout(T.current),g.current){n||clearTimeout(R.current),A.current=g.current({...e,tree:p,x:D.clientX,y:D.clientY,onClose(){x(),M(),S()}});const F=A.current;C.addEventListener("mousemove",F),W.current=()=>{C.removeEventListener("mousemove",F)};return}(I.current==="touch"?!q(u,D.relatedTarget):!0)&&S()}function k(D){m()||g.current==null||g.current({...e,tree:p,x:D.clientX,y:D.clientY,onClose(){x(),M(),S()}})(D)}if(Z(s)){const D=s;return n&&D.addEventListener("mouseleave",k),u==null||u.addEventListener("mouseleave",k),b&&D.addEventListener("mousemove",P,{once:!0}),D.addEventListener("mouseenter",P),D.addEventListener("mouseleave",E),()=>{n&&D.removeEventListener("mouseleave",k),u==null||u.removeEventListener("mouseleave",k),b&&D.removeEventListener("mousemove",P),D.removeEventListener("mouseenter",P),D.removeEventListener("mouseleave",E)}}},[s,u,a,e,f,d,b,S,M,x,r,n,p,w,g,o]),U(()=>{var m;if(a&&n&&(m=g.current)!=null&&m.__options.blockPointerEvents&&N()){const k=Y(u).body;if(k.setAttribute(vt,""),k.style.pointerEvents="none",V.current=!0,Z(s)&&u){var P,E;const D=s,C=p==null||(P=p.nodesRef.current.find(L=>L.id===y))==null||(E=P.context)==null?void 0:E.elements.floating;return C&&(C.style.pointerEvents=""),D.style.pointerEvents="auto",u.style.pointerEvents="auto",()=>{D.style.pointerEvents="",u.style.pointerEvents=""}}}},[a,n,y,u,s,p,g,o,N]),U(()=>{n||(I.current=void 0,M(),x())},[n,M,x]),h.useEffect(()=>()=>{M(),clearTimeout(R.current),clearTimeout(T.current),x()},[a,M,x]),h.useMemo(()=>{if(!a)return{};function m(P){I.current=P.pointerType}return{reference:{onPointerDown:m,onPointerEnter:m,onMouseMove(){n||d===0||(clearTimeout(T.current),T.current=setTimeout(()=>{$.current||r(!0)},d))}},floating:{onMouseEnter(){clearTimeout(R.current)},onMouseLeave(){i.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),S(!1)}}}},[i,a,d,n,r,S])}function le(e){let t=e.activeElement;for(;((n=t)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;t=t.shadowRoot.activeElement}return t}let gt=0;function ue(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(gt);const i=()=>e==null?void 0:e.focus({preventScroll:n});o?i():gt=requestAnimationFrame(i)}function Bn(e,t){var n;let r=[],o=(n=e.find(i=>i.id===t))==null?void 0:n.parentId;for(;o;){const i=e.find(s=>s.id===o);o=i==null?void 0:i.parentId,i&&(r=r.concat(i))}return r}function pe(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(s=>{var u;return o.parentId===s.id&&((u=o.context)==null?void 0:u.open)})}),n=n.concat(r);return n}function tt(e){return"composedPath"in e?e.composedPath()[0]:e.target}const Wn="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Vn(e){return we(e)&&e.matches(Wn)}function Xe(e){e.preventDefault(),e.stopPropagation()}const $e=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Wt(e,t){const n=Ne(e,$e());t==="prev"&&n.reverse();const r=n.indexOf(le(Y(e)));return n.slice(r+1)[0]}function Vt(){return Wt(document.body,"next")}function Ht(){return Wt(document.body,"prev")}function be(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!q(n,r)}function Hn(e){Ne(e,$e()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function _n(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const nt={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let Kn;function ht(e){e.key==="Tab"&&(e.target,clearTimeout(Kn))}const Be=h.forwardRef(function(t,n){const[r,o]=h.useState();return U(()=>($n()&&o("button"),document.addEventListener("keydown",ht),()=>{document.removeEventListener("keydown",ht)}),[]),te("span",{...t,ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,"data-floating-ui-focus-guard":"",style:nt})}),_t=h.createContext(null);function qn(e){let{id:t,root:n}=e===void 0?{}:e;const[r,o]=h.useState(null),i=et(),s=Kt(),u=h.useMemo(()=>({id:t,root:n,portalContext:s,uniqueId:i}),[t,n,s,i]),c=h.useRef();return U(()=>()=>{r==null||r.remove()},[r,u]),U(()=>{if(c.current===u)return;c.current=u;const{id:a,root:v,portalContext:l,uniqueId:f}=u,d=a?document.getElementById(a):null,b="data-floating-ui-portal";if(d){const p=document.createElement("div");p.id=f,p.setAttribute(b,""),d.appendChild(p),o(p)}else{let p=(l==null?void 0:l.portalNode)||v||document.body,y=null;a&&(y=document.createElement("div"),y.id=a,p.appendChild(y));const g=document.createElement("div");g.id=f,g.setAttribute(b,""),p=y||p,p.appendChild(g),o(g)}},[u]),r}function ir(e){let{children:t,id:n,root:r=null,preserveTabOrder:o=!0}=e;const i=qn({id:n,root:r}),[s,u]=h.useState(null),c=h.useRef(null),a=h.useRef(null),v=h.useRef(null),l=h.useRef(null),f=!!s&&!s.modal&&s.open&&o&&!!(r||i);return h.useEffect(()=>{if(!i||!o||s!=null&&s.modal)return;function d(b){i&&be(b)&&(b.type==="focusin"?_n:Hn)(i)}return i.addEventListener("focusin",d,!0),i.addEventListener("focusout",d,!0),()=>{i.removeEventListener("focusin",d,!0),i.removeEventListener("focusout",d,!0)}},[i,o,s==null?void 0:s.modal]),xt(_t.Provider,{value:h.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:c,afterOutsideRef:a,beforeInsideRef:v,afterInsideRef:l,portalNode:i,setFocusManagerState:u}),[o,i]),children:[f&&i&&te(Be,{"data-type":"outside",ref:c,onFocus:d=>{if(be(d,i)){var b;(b=v.current)==null||b.focus()}else{const p=Ht()||(s==null?void 0:s.refs.domReference.current);p==null||p.focus()}}}),f&&i&&te("span",{"aria-owns":i.id,style:nt}),i&&yt.createPortal(t,i),f&&i&&te(Be,{"data-type":"outside",ref:a,onFocus:d=>{if(be(d,i)){var b;(b=l.current)==null||b.focus()}else{const p=Vt()||(s==null?void 0:s.refs.domReference.current);p==null||p.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1))}}})]})}const Kt=()=>h.useContext(_t),jn=h.forwardRef(function(t,n){return te("button",{...t,type:"button",ref:n,tabIndex:-1,style:nt})});function sr(e){const{context:t,children:n,order:r=["content"],guards:o=!0,initialFocus:i=0,returnFocus:s=!0,modal:u=!0,visuallyHiddenDismiss:c=!1,closeOnFocusOut:a=!0}=e,{open:v,refs:l,nodeId:f,onOpenChange:d,events:b,dataRef:p,elements:{domReference:y,floating:g}}=t,w=he(r),I=he(i),R=he(s),A=He(),T=Kt(),$=typeof i=="number"&&i<0,V=h.useRef(null),W=h.useRef(null),N=h.useRef(!1),S=h.useRef(null),M=h.useRef(!1),x=T!=null,m=y&&y.getAttribute("role")==="combobox"&&Vn(y),P=h.useCallback(function(C){return C===void 0&&(C=g),C?Ne(C,$e()):[]},[g]),E=h.useCallback(C=>{const L=P(C);return w.current.map(F=>y&&F==="reference"?y:g&&F==="floating"?g:L).filter(Boolean).flat()},[y,g,w,P]);h.useEffect(()=>{if(!u)return;function C(F){if(F.key==="Tab"){q(g,le(Y(g)))&&P().length===0&&!m&&Xe(F);const O=E(),H=tt(F);w.current[0]==="reference"&&H===y&&(Xe(F),F.shiftKey?ue(O[O.length-1]):ue(O[1])),w.current[1]==="floating"&&H===g&&F.shiftKey&&(Xe(F),ue(O[0]))}}const L=Y(g);return L.addEventListener("keydown",C),()=>{L.removeEventListener("keydown",C)}},[y,g,u,w,l,m,P,E]),h.useEffect(()=>{if(!a)return;function C(){M.current=!0,setTimeout(()=>{M.current=!1})}function L(F){const O=F.relatedTarget;queueMicrotask(()=>{const H=!(q(y,O)||q(g,O)||q(O,g)||q(T==null?void 0:T.portalNode,O)||O!=null&&O.hasAttribute("data-floating-ui-focus-guard")||A&&(pe(A.nodesRef.current,f).find(B=>{var _,G;return q((_=B.context)==null?void 0:_.elements.floating,O)||q((G=B.context)==null?void 0:G.elements.domReference,O)})||Bn(A.nodesRef.current,f).find(B=>{var _,G;return((_=B.context)==null?void 0:_.elements.floating)===O||((G=B.context)==null?void 0:G.elements.domReference)===O})));O&&H&&!M.current&&O!==S.current&&(N.current=!0,d(!1))})}if(g&&we(y))return y.addEventListener("focusout",L),y.addEventListener("pointerdown",C),!u&&g.addEventListener("focusout",L),()=>{y.removeEventListener("focusout",L),y.removeEventListener("pointerdown",C),!u&&g.removeEventListener("focusout",L)}},[y,g,u,f,A,T,d,a]),h.useEffect(()=>{var C;const L=Array.from((T==null||(C=T.portalNode)==null?void 0:C.querySelectorAll("[data-floating-ui-portal]"))||[]);function F(){return[V.current,W.current].filter(Boolean)}if(g&&u){const O=[g,...L,...F()],H=ln(w.current.includes("reference")||m?O.concat(y||[]):O);return()=>{H()}}},[y,g,u,w,T,m]),h.useEffect(()=>{if(u&&!o&&g){const C=[],L=$e(),F=Ne(Y(g).body,L),O=E(),H=F.filter(B=>!O.includes(B));return H.forEach((B,_)=>{C[_]=B.getAttribute("tabindex"),B.setAttribute("tabindex","-1")}),()=>{H.forEach((B,_)=>{const G=C[_];G==null?B.removeAttribute("tabindex"):B.setAttribute("tabindex",G)})}}},[g,u,o,E]),U(()=>{if(!g)return;const C=Y(g),L=le(C);queueMicrotask(()=>{const F=E(g),O=I.current,H=(typeof O=="number"?F[O]:O.current)||g,B=q(g,L);!$&&!B&&v&&ue(H,{preventScroll:H===g})})},[v,g,$,E,I]),U(()=>{if(!g)return;let C=!1;const L=Y(g),F=le(L),O=p.current;S.current=F;function H(B){if(B.type==="escapeKey"&&l.domReference.current&&(S.current=l.domReference.current),["referencePress","escapeKey"].includes(B.type))return;const _=B.data.returnFocus;typeof _=="object"?(N.current=!1,C=_.preventScroll):N.current=!_}return b.on("dismiss",H),()=>{b.off("dismiss",H);const B=le(L);(q(g,B)||A&&pe(A.nodesRef.current,f).some(G=>{var ee;return q((ee=G.context)==null?void 0:ee.elements.floating,B)})||O.openEvent&&["click","mousedown"].includes(O.openEvent.type))&&l.domReference.current&&(S.current=l.domReference.current),R.current&&we(S.current)&&!N.current&&ue(S.current,{cancelPrevious:!1,preventScroll:C})}},[g,R,p,l,b,A,f]),U(()=>{if(T)return T.setFocusManagerState({...t,modal:u,closeOnFocusOut:a,open:v}),()=>{T.setFocusManagerState(null)}},[T,u,v,a,t]),U(()=>{if(g&&typeof MutationObserver=="function"){const C=()=>{const F=g.getAttribute("tabindex");w.current.includes("floating")||le(Y(g))!==l.domReference.current&&P().length===0?F!=="0"&&g.setAttribute("tabindex","0"):F!=="-1"&&g.setAttribute("tabindex","-1")};C();const L=new MutationObserver(C);return L.observe(g,{childList:!0,subtree:!0,attributes:!0}),()=>{L.disconnect()}}},[g,l,w,P]);function k(C){return c&&u?te(jn,{ref:C==="start"?V:W,onClick:()=>d(!1),children:typeof c=="string"?c:"Dismiss"}):null}const D=o&&!m&&(x||u);return xt(qt,{children:[D&&te(Be,{"data-type":"inside",ref:T==null?void 0:T.beforeInsideRef,onFocus:C=>{if(u){const F=E();ue(r[0]==="reference"?F[0]:F[F.length-1])}else if(T!=null&&T.preserveTabOrder&&T.portalNode)if(N.current=!1,be(C,T.portalNode)){const F=Vt()||y;F==null||F.focus()}else{var L;(L=T.beforeOutsideRef.current)==null||L.focus()}}}),!m&&k("start"),n,k("end"),D&&te(Be,{"data-type":"inside",ref:T==null?void 0:T.afterInsideRef,onFocus:C=>{if(u)ue(E()[0]);else if(T!=null&&T.preserveTabOrder&&T.portalNode)if(a&&(N.current=!0),be(C,T.portalNode)){const F=Ht()||y;F==null||F.focus()}else{var L;(L=T.afterOutsideRef.current)==null||L.focus()}}})]})}const Yn=wt["useInsertionEffect".toString()],Xn=Yn||(e=>e());function Ae(e){const t=h.useRef(()=>{});return Xn(()=>{t.current=e}),h.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function Le(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const zn={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Gn={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Un=e=>{var t,n;return{escapeKeyBubbles:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePressBubbles:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function ur(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,nodeId:i,elements:{reference:s,domReference:u,floating:c},dataRef:a}=e,{enabled:v=!0,escapeKey:l=!0,outsidePress:f=!0,outsidePressEvent:d="pointerdown",referencePress:b=!1,referencePressEvent:p="pointerdown",ancestorScroll:y=!1,bubbles:g}=t,w=He(),I=$t()!=null,R=Ae(typeof f=="function"?f:()=>!1),A=typeof f=="function"?R:f,T=h.useRef(!1),{escapeKeyBubbles:$,outsidePressBubbles:V}=Un(g),W=Ae(S=>{if(!n||!v||!l||S.key!=="Escape")return;const M=w?pe(w.nodesRef.current,i):[];if(!$&&(S.stopPropagation(),M.length>0)){let x=!0;if(M.forEach(m=>{var P;if((P=m.context)!=null&&P.open&&!m.context.dataRef.current.__escapeKeyBubbles){x=!1;return}}),!x)return}o.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1)}),N=Ae(S=>{const M=T.current;if(T.current=!1,M||typeof A=="function"&&!A(S))return;const x=tt(S);if(we(x)&&c){const E=x.clientWidth>0&&x.scrollWidth>x.clientWidth,k=x.clientHeight>0&&x.scrollHeight>x.clientHeight;let D=k&&S.offsetX>x.clientWidth;if(k&&_e(c).getComputedStyle(x).direction==="rtl"&&(D=S.offsetX<=x.offsetWidth-x.clientWidth),D||E&&S.offsetY>x.clientHeight)return}const m=w&&pe(w.nodesRef.current,i).some(E=>{var k;return Le(S,(k=E.context)==null?void 0:k.elements.floating)});if(Le(S,c)||Le(S,u)||m)return;const P=w?pe(w.nodesRef.current,i):[];if(P.length>0){let E=!0;if(P.forEach(k=>{var D;if((D=k.context)!=null&&D.open&&!k.context.dataRef.current.__outsidePressBubbles){E=!1;return}}),!E)return}o.emit("dismiss",{type:"outsidePress",data:{returnFocus:I?{preventScroll:!0}:On(S)||Nn(S)}}),r(!1)});return h.useEffect(()=>{if(!n||!v)return;a.current.__escapeKeyBubbles=$,a.current.__outsidePressBubbles=V;function S(){r(!1)}const M=Y(c);l&&M.addEventListener("keydown",W),A&&M.addEventListener(d,N);let x=[];return y&&(Z(u)&&(x=re(u)),Z(c)&&(x=x.concat(re(c))),!Z(s)&&s&&s.contextElement&&(x=x.concat(re(s.contextElement)))),x=x.filter(m=>{var P;return m!==((P=M.defaultView)==null?void 0:P.visualViewport)}),x.forEach(m=>{m.addEventListener("scroll",S,{passive:!0})}),()=>{l&&M.removeEventListener("keydown",W),A&&M.removeEventListener(d,N),x.forEach(m=>{m.removeEventListener("scroll",S)})}},[a,c,u,s,l,A,d,n,r,y,v,$,V,W,N]),h.useEffect(()=>{T.current=!1},[A,d]),h.useMemo(()=>v?{reference:{onKeyDown:W,[zn[p]]:()=>{b&&(o.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1))}},floating:{onKeyDown:W,[Gn[d]]:()=>{T.current=!0}}}:{},[v,o,b,d,p,r,W])}function lr(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,refs:s,elements:{floating:u,domReference:c}}=e,{enabled:a=!0,keyboardOnly:v=!0}=t,l=h.useRef(""),f=h.useRef(!1),d=h.useRef();return h.useEffect(()=>{if(!a)return;const p=Y(u).defaultView||window;function y(){!n&&we(c)&&c===le(Y(c))&&(f.current=!0)}return p.addEventListener("blur",y),()=>{p.removeEventListener("blur",y)}},[u,c,n,a]),h.useEffect(()=>{if(!a)return;function b(p){(p.type==="referencePress"||p.type==="escapeKey")&&(f.current=!0)}return i.on("dismiss",b),()=>{i.off("dismiss",b)}},[i,a]),h.useEffect(()=>()=>{clearTimeout(d.current)},[]),h.useMemo(()=>a?{reference:{onPointerDown(b){let{pointerType:p}=b;l.current=p,f.current=!!(p&&v)},onMouseLeave(){f.current=!1},onFocus(b){var p;f.current||b.type==="focus"&&((p=o.current.openEvent)==null?void 0:p.type)==="mousedown"&&o.current.openEvent&&Le(o.current.openEvent,c)||(o.current.openEvent=b.nativeEvent,r(!0))},onBlur(b){f.current=!1;const p=b.relatedTarget,y=Z(p)&&p.hasAttribute("data-floating-ui-focus-guard")&&p.getAttribute("data-type")==="outside";d.current=setTimeout(()=>{q(s.floating.current,p)||q(c,p)||y||r(!1)})}}}:{},[a,v,c,s,o,r])}function cr(e,t){t===void 0&&(t={});const{open:n,floatingId:r}=e,{enabled:o=!0,role:i="dialog"}=t,s=et();return h.useMemo(()=>{const u={id:r,role:i};return o?i==="tooltip"?{reference:{"aria-describedby":n?r:void 0},floating:u}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?r:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:s}},floating:{...u,...i==="menu"&&{"aria-labelledby":s}}}:{}},[o,i,n,r,s])}function bt(e,t){const[n,r]=e;let o=!1;const i=t.length;for(let s=0,u=i-1;s<i;u=s++){const[c,a]=t[s]||[0,0],[v,l]=t[u]||[0,0];a>=r!=l>=r&&n<=(v-c)*(r-a)/(l-a)+c&&(o=!o)}return o}function Zn(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function ar(e){e===void 0&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e;let o,i=!1,s=null,u=null,c=performance.now();function a(l,f){const d=performance.now(),b=d-c;if(s===null||u===null||b===0)return s=l,u=f,c=d,null;const p=l-s,y=f-u,w=Math.sqrt(p*p+y*y)/b;return s=l,u=f,c=d,w}const v=l=>{let{x:f,y:d,placement:b,elements:p,onClose:y,nodeId:g,tree:w}=l;return function(R){function A(){clearTimeout(o),y()}if(clearTimeout(o),!p.domReference||!p.floating||b==null||f==null||d==null)return;const{clientX:T,clientY:$}=R,V=[T,$],W=tt(R),N=R.type==="mouseleave",S=q(p.floating,W),M=q(p.domReference,W),x=p.domReference.getBoundingClientRect(),m=p.floating.getBoundingClientRect(),P=b.split("-")[0],E=f>m.right-m.width/2,k=d>m.bottom-m.height/2,D=Zn(V,x),C=m.width>x.width,L=m.height>x.height,F=(C?x:m).left,O=(C?x:m).right,H=(L?x:m).top,B=(L?x:m).bottom;if(S&&(i=!0,!N))return;if(M&&(i=!1),M&&!N){i=!0;return}if(N&&Z(R.relatedTarget)&&q(p.floating,R.relatedTarget)||w&&pe(w.nodesRef.current,g).some(ee=>{let{context:K}=ee;return K==null?void 0:K.open}))return;if(P==="top"&&d>=x.bottom-1||P==="bottom"&&d<=x.top+1||P==="left"&&f>=x.right-1||P==="right"&&f<=x.left+1)return A();let _=[];switch(P){case"top":_=[[F,x.top+1],[F,m.bottom-1],[O,m.bottom-1],[O,x.top+1]];break;case"bottom":_=[[F,m.top+1],[F,x.bottom-1],[O,x.bottom-1],[O,m.top+1]];break;case"left":_=[[m.right-1,B],[m.right-1,H],[x.left+1,H],[x.left+1,B]];break;case"right":_=[[x.right-1,B],[x.right-1,H],[m.left+1,H],[m.left+1,B]];break}function G(ee){let[K,j]=ee;switch(P){case"top":{const ie=[C?K+t/2:E?K+t*4:K-t*4,j+t+1],se=[C?K-t/2:E?K+t*4:K-t*4,j+t+1],fe=[[m.left,E||C?m.bottom-t:m.top],[m.right,E?C?m.bottom-t:m.top:m.bottom-t]];return[ie,se,...fe]}case"bottom":{const ie=[C?K+t/2:E?K+t*4:K-t*4,j-t],se=[C?K-t/2:E?K+t*4:K-t*4,j-t],fe=[[m.left,E||C?m.top+t:m.bottom],[m.right,E?C?m.top+t:m.bottom:m.top+t]];return[ie,se,...fe]}case"left":{const ie=[K+t+1,L?j+t/2:k?j+t*4:j-t*4],se=[K+t+1,L?j-t/2:k?j+t*4:j-t*4];return[...[[k||L?m.right-t:m.left,m.top],[k?L?m.right-t:m.left:m.right-t,m.bottom]],ie,se]}case"right":{const ie=[K-t,L?j+t/2:k?j+t*4:j-t*4],se=[K-t,L?j-t/2:k?j+t*4:j-t*4],fe=[[k||L?m.left+t:m.right,m.top],[k?L?m.left+t:m.right:m.left+t,m.bottom]];return[ie,se,...fe]}}}if(!bt([T,$],_)){if(i&&!D)return A();if(!N&&r){const ee=a(R.clientX,R.clientY);if(ee!==null&&ee<.1)return A()}bt([T,$],G([f,d]))?!i&&r&&(o=window.setTimeout(A,40)):A()}}};return v.__options={blockPointerEvents:n},v}function fr(e){var t;e===void 0&&(e={});const{open:n=!1,onOpenChange:r,nodeId:o}=e,[i,s]=h.useState(null),u=((t=e.elements)==null?void 0:t.reference)||i,c=rn(e),a=He(),v=Ae(r),l=h.useRef(null),f=h.useRef({}),d=h.useState(()=>Ln())[0],b=et(),p=h.useCallback(R=>{const A=Z(R)?{getBoundingClientRect:()=>R.getBoundingClientRect(),contextElement:R}:R;c.refs.setReference(A)},[c.refs]),y=h.useCallback(R=>{(Z(R)||R===null)&&(l.current=R,s(R)),(Z(c.refs.reference.current)||c.refs.reference.current===null||R!==null&&!Z(R))&&c.refs.setReference(R)},[c.refs]),g=h.useMemo(()=>({...c.refs,setReference:y,setPositionReference:p,domReference:l}),[c.refs,y,p]),w=h.useMemo(()=>({...c.elements,domReference:u}),[c.elements,u]),I=h.useMemo(()=>({...c,refs:g,elements:w,dataRef:f,nodeId:o,floatingId:b,events:d,open:n,onOpenChange:v}),[c,o,b,d,n,v,g,w]);return U(()=>{const R=a==null?void 0:a.nodesRef.current.find(A=>A.id===o);R&&(R.context=I)}),h.useMemo(()=>({...c,context:I,refs:g,elements:w}),[c,g,w,I])}function ze(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(o=>o?o[n]:null).concat(e).reduce((o,i)=>(i&&Object.entries(i).forEach(s=>{let[u,c]=s;if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof c=="function"){var a;(a=r.get(u))==null||a.push(c),o[u]=function(){for(var v,l=arguments.length,f=new Array(l),d=0;d<l;d++)f[d]=arguments[d];return(v=r.get(u))==null?void 0:v.map(b=>b(...f)).find(b=>b!==void 0)}}}else o[u]=c}),o),{})}}function dr(e){e===void 0&&(e=[]);const t=e,n=h.useCallback(i=>ze(i,e,"reference"),t),r=h.useCallback(i=>ze(i,e,"floating"),t),o=h.useCallback(i=>ze(i,e,"item"),e.map(i=>i==null?void 0:i.item));return h.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:o}),[n,r,o])}export{er as D,ir as F,ur as a,dr as b,Qn as c,or as d,cr as e,et as f,sr as g,lr as h,rr as i,tr as k,ar as s,fr as u,nr as z};

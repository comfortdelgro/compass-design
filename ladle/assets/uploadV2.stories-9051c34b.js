import{s as d,R as D,r as t,a as l,j as e,F as W}from"./index-9137807e.js";import{C as B}from"./components-17c10c6a.js";import{u as G}from"./use-dom-ref-17bb3812.js";import{u as M}from"./useCurrentTheme-e9347e0b.js";const z=1024,P=d("div",{appearance:"none",border:"none",boxSizing:"border-box",margin:"0px",padding:"0px",background:"transparent",fontWeight:"$medium",fontSize:"$label2",lineHeight:"$normal",color:"#e31617",marginTop:"$1"}),q=d("div",{appearance:"none",border:"none",boxSizing:"border-box",margin:"0px",padding:"0px",background:"transparent",fontWeight:"$medium",fontSize:"$label2",lineHeight:"",color:"#b4b4b4"}),b=d("div",{appearance:"none",boxSizing:"border-box",padding:"0px",background:"transparent",position:"relative",display:"flex",border:"1px solid $divider",borderRadius:"$lg",overflow:"hidden",alignItems:"center",margin:"4px 0","& input":{position:"absolute",width:"100%",height:"100%",opacity:"0",zIndex:"1",cursor:"pointer"},"& span:nth-child(1)":{display:"flex",padding:"$3",borderRight:"1px solid $divider",fontWeight:"$medium",fontSize:"$label1",lineHeight:"$normal"},"& span:nth-child(2)":{padding:"12px 16px",color:"#b4b4b4",fontWeight:"$medium",fontSize:"$label1",lineHeight:"$normal",minWidth:"$57",whiteSpace:"nowrap",overflow:"hidden",maxWidth:"40ch",textOverflow:"ellipsis"},'& span:nth-child(2)[data-file="true"]':{color:"#333333"},'& [data-invalid="true"]':{borderColor:"$danger"},'& [data-invalid="true"] span:nth-child(1)':{borderColor:"$danger"}}),x=d("div",{appearance:"none",border:"none",boxSizing:"border-box",margin:"0px",padding:"0px",background:"transparent",fontWeight:"$medium",fontSize:"$label1",lineHeight:"$normal"}),H=d("div",{appearance:"none",border:"none",boxSizing:"border-box",margin:"0px",padding:"0px",background:"transparent",display:"flex",flexDirection:"column",width:"100%",variants:{isDarkTheme:{true:{[`${b}`]:{"& span:nth-child(1)":{backgroundColor:"$cdgBlue120",color:"$cdgBlue40"}},[`${x}`]:{color:"$tertiaryText"}},false:{[`${b}`]:{backgroundColor:"$gray10","& span:nth-child(1)":{backgroundColor:"#f7f8f9"}},[`${x}`]:{color:"$#3e3e3e","& .cdg-isRequired-Sign":{color:"$danger"}}}}}}),I=D.forwardRef((v,R)=>{const{css:E={},fileType:c,maxFileSize:g=0,title:$,value:y=void 0,fileValueName:u,customDescription:S,customError:r,onFileChange:s,placeholder:k="No file choosen",isRequired:F=!1,...U}=v,C=M(),[f,w]=t.useState(),[m,h]=t.useState(),o=t.useRef(null),T=G(R),j=i=>{if(!i.target.files||!i.target.files[0])return;const a=i.target.files[0],n=new FileReader;if(h(a.name),N(a))i.target.files&&i.target.files[0]&&(n.readAsDataURL(a),n.onload=()=>{s&&s(a)});else{i.target.value="";return}},N=i=>{let a=!0,n="";return c.type.includes(i.type)||(n="Sorry, you have upload an inccorect file type.",a=!1),i.size/z/z>g&&(n=`Sorry, you have upload a file that exceed ${g} MB.`,a=!1),a?w(""):(w(n),s&&s(null,n)),a};return t.useEffect(()=>{y?h(u):(h(""),o.current.value="")},[y,u]),t.useEffect(()=>{r&&o&&o.current&&(o.current.value="")},[r]),l(H,{css:E,ref:T,...U,isDarkTheme:C,children:[$?l(x,{children:[$,e("span",{className:"cdg-isRequired-Sign",children:F?" *":""})]}):null,l(b,{"data-invalid":!!f||!!r,children:[e("span",{children:"Browse file"}),e("span",{"data-file":!!m,children:m||k}),e("input",{type:"file",onChange:j,accept:c.accept,title:u,ref:o})]}),e(q,{children:S||`Only ${c.label} files are accepted. Maximum size: ${g} MB`}),f||r?e(P,{children:f||r}):""]})}),p=I;p.displayName="upload v2";const L=()=>l(B,{children:[e("h3",{children:"Basic"}),e(p,{fileType:{accept:"image/*",label:"PNG, JPEG",type:["image/jpeg","image/jpg","image/png"]},maxFileSize:10,title:"Upload your file"}),e("h3",{children:"isRequired"}),e(p,{fileType:{accept:"image/*",label:"PNG, JPEG",type:["image/jpeg","image/jpg","image/png"]},maxFileSize:10,title:"Upload your file",isRequired:!0}),e("h3",{children:"Custom description"}),e(p,{fileType:{accept:"image/*",label:"PNG, JPEG",type:["image/jpeg","image/jpg","image/png"]},maxFileSize:10,customDescription:l(W,{children:[e("span",{children:"Only files with the following extensions are allowed: pdf, image extension, excel, word, powerpoint"}),e("br",{}),e("span",{children:"Maximum file size is 30MB"})]})})]});typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{L as Variants};

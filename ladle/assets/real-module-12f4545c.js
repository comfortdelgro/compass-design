import{r as l,R as b}from"./index-16cf08cc.js";import{m as v}from"./module-57503715.js";import{l as L,x as w,y,z as S}from"./real-module-d20ebe4e.js";const C=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),z=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","glk","he","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]);function m(e){if(Intl.Locale){let t=new Intl.Locale(e).maximize().script;return C.has(t)}let a=e.split("-")[0];return z.has(a)}function s(){let e=typeof navigator<"u"&&(navigator.language||navigator.userLanguage)||"en-US";try{Intl.DateTimeFormat.supportedLocalesOf([e])}catch{e="en-US"}return{locale:e,direction:m(e)?"rtl":"ltr"}}let u=s(),f=new Set;function d(){u=s();for(let e of f)e(u)}function h(){let e=v(),[a,t]=l.useState(u);return l.useEffect(()=>(f.size===0&&window.addEventListener("languagechange",d),f.add(t),()=>{f.delete(t),f.size===0&&window.removeEventListener("languagechange",d)}),[]),e?{locale:"en-US",direction:"ltr"}:a}const p=b.createContext(null);function I(e){let{locale:a,children:t}=e,r=h(),c=a?{locale:a,direction:m(a)?"rtl":"ltr"}:r;return b.createElement(p.Provider,{value:c},t)}function n(){let e=h();return l.useContext(p)||e}const i=new WeakMap;function g(e){let a=i.get(e);return a||(a=new S(e),i.set(e,a)),a}function E(e){let{locale:a}=n(),t=l.useMemo(()=>g(e),[e]);return l.useMemo(()=>new w(a,t),[a,t])}function O(e={}){let{locale:a}=n();return l.useMemo(()=>new Intl.ListFormat(a,e),[a,e])}function T(e){let a=l.useRef(null);e&&a.current&&M(e,a.current)&&(e=a.current),a.current=e;let{locale:t}=n();return l.useMemo(()=>new L(t,e),[t,e])}function M(e,a){if(e===a)return!0;let t=Object.keys(e),r=Object.keys(a);if(t.length!==r.length)return!1;for(let c of t)if(a[c]!==e[c])return!1;return!0}function j(e={}){let{locale:a}=n();return l.useMemo(()=>new y(a,e),[a,e])}let $=new Map;function k(e){let{locale:a}=n(),t=a+(e?Object.entries(e).sort((c,o)=>c[0]<o[0]?-1:1).join():"");if($.has(t))return $.get(t);let r=new Intl.Collator(a,e);return $.set(t,r),r}function q(e){let a=k({usage:"search",...e});return{startsWith(t,r){return r.length===0?!0:(t=t.normalize("NFC"),r=r.normalize("NFC"),a.compare(t.slice(0,r.length),r)===0)},endsWith(t,r){return r.length===0?!0:(t=t.normalize("NFC"),r=r.normalize("NFC"),a.compare(t.slice(-r.length),r)===0)},contains(t,r){if(r.length===0)return!0;t=t.normalize("NFC"),r=r.normalize("NFC");let c=0,o=r.length;for(;c+o<=t.length;c++){let x=t.slice(c,c+o);if(a.compare(r,x)===0)return!0}return!1}}}export{n as $,I as a,k as b,T as c,q as d,O as e,E as f,j as g};

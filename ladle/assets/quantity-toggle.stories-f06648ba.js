import{r as n,s as de,R as H,a as U,j as d}from"./index-3a5a3ad8.js";import{C as Xe}from"./components-18b72c6a.js";import{$ as ea}from"./module-79851824.js";import{t as Q,A as aa,B as ra,a as la,$ as G,i as ta}from"./module-5f99fc77.js";import{c as ia,d as na,l as oa}from"./module-0a55680b.js";import{a as da}from"./module-0a8494b3.js";import{$ as sa,b as ie,a as ca}from"./import-51d21696.js";import{$ as ua,J as ba}from"./real-module-d674b8a9.js";import{$ as fa,b as M,a as $a}from"./module-81e83edc.js";import{u as se}from"./use-dom-ref-d55058be.js";import{$ as ma}from"./real-module-b2c044a5.js";import"./module-1579634c.js";import"./_define_property-1764bf98.js";import"./module-c1458ddb.js";function pa(e){return e&&e.__esModule?e.default:e}var ce={},ue={};ue={decrease:e=>`خفض ${e.fieldLabel}`,increase:e=>`زيادة ${e.fieldLabel}`,numberField:"حقل رقمي"};var be={};be={decrease:e=>`Намаляване ${e.fieldLabel}`,increase:e=>`Усилване ${e.fieldLabel}`,numberField:"Номер на полето"};var fe={};fe={decrease:e=>`Snížit ${e.fieldLabel}`,increase:e=>`Zvýšit ${e.fieldLabel}`,numberField:"Číselné pole"};var $e={};$e={decrease:e=>`Reducer ${e.fieldLabel}`,increase:e=>`Øg ${e.fieldLabel}`,numberField:"Talfelt"};var me={};me={decrease:e=>`${e.fieldLabel} verringern`,increase:e=>`${e.fieldLabel} erhöhen`,numberField:"Nummernfeld"};var pe={};pe={decrease:e=>`Μείωση ${e.fieldLabel}`,increase:e=>`Αύξηση ${e.fieldLabel}`,numberField:"Πεδίο αριθμού"};var xe={};xe={decrease:e=>`Decrease ${e.fieldLabel}`,increase:e=>`Increase ${e.fieldLabel}`,numberField:"Number field"};var ge={};ge={decrease:e=>`Reducir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo de número"};var Le={};Le={decrease:e=>`Vähenda ${e.fieldLabel}`,increase:e=>`Suurenda ${e.fieldLabel}`,numberField:"Numbri väli"};var he={};he={decrease:e=>`Vähennä ${e.fieldLabel}`,increase:e=>`Lisää ${e.fieldLabel}`,numberField:"Numerokenttä"};var ve={};ve={decrease:e=>`Diminuer ${e.fieldLabel}`,increase:e=>`Augmenter ${e.fieldLabel}`,numberField:"Champ de nombre"};var Fe={};Fe={decrease:e=>`הקטן ${e.fieldLabel}`,increase:e=>`הגדל ${e.fieldLabel}`,numberField:"שדה מספר"};var Pe={};Pe={decrease:e=>`Smanji ${e.fieldLabel}`,increase:e=>`Povećaj ${e.fieldLabel}`,numberField:"Polje broja"};var ye={};ye={decrease:e=>`${e.fieldLabel} csökkentése`,increase:e=>`${e.fieldLabel} növelése`,numberField:"Számmező"};var De={};De={decrease:e=>`Riduci ${e.fieldLabel}`,increase:e=>`Aumenta ${e.fieldLabel}`,numberField:"Campo numero"};var Ne={};Ne={decrease:e=>`${e.fieldLabel}を縮小`,increase:e=>`${e.fieldLabel}を拡大`,numberField:"数値フィールド"};var Se={};Se={decrease:e=>`${e.fieldLabel} 감소`,increase:e=>`${e.fieldLabel} 증가`,numberField:"번호 필드"};var Ve={};Ve={decrease:e=>`Sumažinti ${e.fieldLabel}`,increase:e=>`Padidinti ${e.fieldLabel}`,numberField:"Numerio laukas"};var Me={};Me={decrease:e=>`Samazināšana ${e.fieldLabel}`,increase:e=>`Palielināšana ${e.fieldLabel}`,numberField:"Skaitļu lauks"};var Re={};Re={decrease:e=>`Reduser ${e.fieldLabel}`,increase:e=>`Øk ${e.fieldLabel}`,numberField:"Tallfelt"};var Be={};Be={decrease:e=>`${e.fieldLabel} verlagen`,increase:e=>`${e.fieldLabel} verhogen`,numberField:"Getalveld"};var Ce={};Ce={decrease:e=>`Zmniejsz ${e.fieldLabel}`,increase:e=>`Zwiększ ${e.fieldLabel}`,numberField:"Pole numeru"};var Te={};Te={decrease:e=>`Diminuir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo de número"};var Ee={};Ee={decrease:e=>`Diminuir ${e.fieldLabel}`,increase:e=>`Aumentar ${e.fieldLabel}`,numberField:"Campo numérico"};var we={};we={decrease:e=>`Scădere ${e.fieldLabel}`,increase:e=>`Creștere ${e.fieldLabel}`,numberField:"Câmp numeric"};var Oe={};Oe={decrease:e=>`Уменьшение ${e.fieldLabel}`,increase:e=>`Увеличение ${e.fieldLabel}`,numberField:"Числовое поле"};var ke={};ke={decrease:e=>`Znížiť ${e.fieldLabel}`,increase:e=>`Zvýšiť ${e.fieldLabel}`,numberField:"Číselné pole"};var Ie={};Ie={decrease:e=>`Upadati ${e.fieldLabel}`,increase:e=>`Povečajte ${e.fieldLabel}`,numberField:"Številčno polje"};var We={};We={decrease:e=>`Decrease ${e.fieldLabel}`,increase:e=>`Increase ${e.fieldLabel}`,numberField:"Number field"};var Ue={};Ue={decrease:e=>`Minska ${e.fieldLabel}`,increase:e=>`Öka ${e.fieldLabel}`,numberField:"Nummerfält"};var Ae={};Ae={decrease:e=>`${e.fieldLabel} azalt`,increase:e=>`${e.fieldLabel} arttır`,numberField:"Sayı alanı"};var ze={};ze={decrease:e=>`Зменшити ${e.fieldLabel}`,increase:e=>`Збільшити ${e.fieldLabel}`,numberField:"Поле номера"};var je={};je={decrease:e=>`降低 ${e.fieldLabel}`,increase:e=>`提高 ${e.fieldLabel}`,numberField:"数字字段"};var Ke={};Ke={decrease:e=>`縮小 ${e.fieldLabel}`,increase:e=>`放大 ${e.fieldLabel}`,numberField:"數字欄位"};ce={"ar-AE":ue,"bg-BG":be,"cs-CZ":fe,"da-DK":$e,"de-DE":me,"el-GR":pe,"en-US":xe,"es-ES":ge,"et-EE":Le,"fi-FI":he,"fr-FR":ve,"he-IL":Fe,"hr-HR":Pe,"hu-HU":ye,"it-IT":De,"ja-JP":Ne,"ko-KR":Se,"lt-LT":Ve,"lv-LV":Me,"nb-NO":Re,"nl-NL":Be,"pl-PL":Ce,"pt-BR":Te,"pt-PT":Ee,"ro-RO":we,"ru-RU":Oe,"sk-SK":ke,"sl-SI":Ie,"sr-SP":We,"sv-SE":Ue,"tr-TR":Ae,"uk-UA":ze,"zh-CN":je,"zh-TW":Ke};function xa(e,a,r){let{id:o,decrementAriaLabel:t,incrementAriaLabel:f,isDisabled:$,isReadOnly:h,isRequired:i,minValue:x,maxValue:y,autoFocus:s,validationState:p,label:g,formatOptions:c,onBlur:L=()=>{},onFocus:R,onFocusChange:m,onKeyDown:D,onKeyUp:v,description:u,errorMessage:O,...k}=e,{increment:B,incrementToMax:b,decrement:F,decrementToMin:A,numberValue:I,commit:z}=a;const C=ua(pa(ce));let T=Q(o),{focusProps:j}=ia({onBlur:()=>{z()}}),{spinButtonProps:K,incrementButtonProps:q,decrementButtonProps:J}=sa({isDisabled:$,isReadOnly:h,isRequired:i,maxValue:y,minValue:x,onIncrement:B,onIncrementToMax:b,onDecrement:F,onDecrementToMin:A,value:I,textValue:a.inputValue}),[l,W]=n.useState(!1),{focusWithinProps:N}=na({isDisabled:$,onFocusWithinChange:W}),S=n.useCallback(P=>{Math.abs(P.deltaY)<=Math.abs(P.deltaX)||(P.deltaY>0?B():P.deltaY<0&&F())},[F,B]);oa({onScroll:S,isDisabled:$||h||!l},r);let _=ba(c),X=n.useMemo(()=>_.resolvedOptions(),[_]).maximumFractionDigits>0,ee=isNaN(a.minValue)||a.minValue<0,E="numeric";aa()?ee?E="text":X&&(E="decimal"):ra()&&(ee?E="numeric":X&&(E="decimal"));let qe=P=>{a.setInputValue(P)},Ze=la(e),{labelProps:ae,inputProps:He,descriptionProps:Qe,errorMessageProps:Ge}=da({...k,...Ze,label:g,autoFocus:s,isDisabled:$,isReadOnly:h,isRequired:i,validationState:p,value:a.inputValue,defaultValue:void 0,autoComplete:"off","aria-label":e["aria-label"]||null,"aria-labelledby":e["aria-labelledby"]||null,id:T,type:"text",inputMode:E,onChange:qe,onBlur:L,onFocus:R,onFocusChange:m,onKeyDown:D,onKeyUp:v,description:u,errorMessage:O},a,r),Ye=G(K,j,He,{role:null,"aria-roledescription":ta()?null:C.format("numberField"),"aria-valuemax":null,"aria-valuemin":null,"aria-valuenow":null,"aria-valuetext":null,autoCorrect:"off",spellCheck:"false"}),re=P=>{document.activeElement!==r.current&&(P.pointerType==="mouse"?r.current.focus():P.target.focus())},Z=e["aria-label"]||(typeof e.label=="string"?e.label:""),V;Z||(V=e.label!=null?ae.id:e["aria-labelledby"]);let le=Q(),te=Q(),Je=G(q,{"aria-label":f||C.format("increase",{fieldLabel:Z}).trim(),id:V&&!f?le:null,"aria-labelledby":V&&!f?`${le} ${V}`:null,"aria-controls":T,excludeFromTabOrder:!0,preventFocusOnPress:!0,allowFocusWhenDisabled:!0,isDisabled:!a.canIncrement,onPressStart:re}),_e=G(J,{"aria-label":t||C.format("decrease",{fieldLabel:Z}).trim(),id:V&&!t?te:null,"aria-labelledby":V&&!t?`${te} ${V}`:null,"aria-controls":T,excludeFromTabOrder:!0,preventFocusOnPress:!0,allowFocusWhenDisabled:!0,isDisabled:!a.canDecrement,onPressStart:re});return{groupProps:{role:"group","aria-disabled":$,"aria-invalid":p==="invalid"?"true":void 0,...N},labelProps:ae,inputProps:Ye,incrementButtonProps:Je,decrementButtonProps:_e,errorMessageProps:Ge,descriptionProps:Qe}}function ga(e){let{minValue:a,maxValue:r,step:o,formatOptions:t,value:f,defaultValue:$,onChange:h,locale:i,isDisabled:x,isReadOnly:y}=e,[s,p]=fa(f,isNaN($)?NaN:$,h),[g,c]=n.useState(()=>isNaN(s)?"":new ie(i,t).format(s)),L=n.useMemo(()=>new ca(i,t),[i,t]),R=n.useMemo(()=>L.getNumberingSystem(g),[L,g]),m=n.useMemo(()=>new ie(i,{...t,numberingSystem:R}),[i,t,R]),D=n.useMemo(()=>m.resolvedOptions(),[m]),v=n.useCallback(l=>isNaN(l)||l===null?"":m.format(l),[m]),u=isNaN(o)?1:o;D.style==="percent"&&isNaN(o)&&(u=.01);let O=n.useRef(s),k=n.useRef(i),B=n.useRef(t);(!Object.is(s,O.current)||i!==k.current||t!==B.current)&&(c(v(s)),O.current=s,k.current=i,B.current=t);let b=n.useMemo(()=>L.parse(g),[L,g]),F=n.useRef(0);F.current=b;let A=()=>{if(!g.length){p(NaN),c(f===void 0?"":v(s));return}if(isNaN(F.current)){c(v(s));return}let l;isNaN(o)?l=$a(F.current,a,r):l=M(F.current,a,r,o),l=L.parse(v(l)),p(l),c(v(f===void 0?l:s))},I=(l,W)=>{let N=F.current;if(isNaN(N)){let S=isNaN(W)?0:W;return M(S,a,r,u)}else{let S=M(N,a,r,u);return l==="+"&&S>N||l==="-"&&S<N?S:M(Y(l,N,u),a,r,u)}},z=()=>{let l=I("+",a);l===s&&c(v(l)),p(l)},C=()=>{let l=I("-",r);l===s&&c(v(l)),p(l)},T=()=>{r!=null&&p(M(r,a,r,u))},j=()=>{a!=null&&p(a)},K=n.useMemo(()=>!x&&!y&&(isNaN(b)||isNaN(r)||M(b,a,r,u)>b||Y("+",b,u)<=r),[x,y,a,r,u,b]),q=n.useMemo(()=>!x&&!y&&(isNaN(b)||isNaN(a)||M(b,a,r,u)<b||Y("-",b,u)>=a),[x,y,a,r,u,b]);return{validate:l=>L.isValidPartialNumber(l,a,r),increment:z,incrementToMax:T,decrement:C,decrementToMin:j,canIncrement:K,canDecrement:q,minValue:a,maxValue:r,numberValue:b,setInputValue:c,inputValue:g,commit:A}}function Y(e,a,r){let o=e==="+"?a+r:a-r;if(a%1!==0||r%1!==0){const t=a.toString().split("."),f=r.toString().split("."),$=t[1]&&t[1].length||0,h=f[1]&&f[1].length||0,i=Math.pow(10,Math.max($,h));a=Math.round(a*i),r=Math.round(r*i),o=e==="+"?a+r:a-r,o/=i}return o}const La=de("div",{width:"100%",display:"flex",flexDirection:"column",label:{fontSize:"$label1",fontWeight:"$medium",lineHeight:"$normal",display:"block",marginBottom:"$1",color:"$gray90",span:{marginLeft:"$1",color:"$danger"}},"div[role='group']":{display:"flex",width:"100%",input:{flex:1,color:"#323130",padding:"$3 $4",textAlign:"center",border:"1px solid #EDEBE9",borderRadius:"0",backgroundColor:"$white",fontSize:"$label1",fontWeight:"$semibold"},"input::placeholder":{color:"$gray40"},button:{color:"#323130",aspectRatio:"1",width:"$14",cursor:"pointer",fontWeight:"$bold",border:"1px solid #EDEBE9",backgroundColor:"$gray10"},'button[aria-label="Decrease"]':{borderRight:"none",borderRadius:"4px 0 0 4px"},'button[aria-label="Increase"]':{borderLeft:"none",borderRadius:"0 4px 4px 0"}},".quantity-toggle-label":{fontSize:"$label1",fontWeight:"$semibold",marginBottom:"$1",color:"$gray90"},".quantity-toggle-helper-text":{fontSize:"$label3",fontWeight:"$semibold",margin:0,marginTop:"$1",color:"$gray50"},variants:{isDisabled:{true:{"div[role='group']":{input:{backgroundColor:"#EDEBE9"},button:{borderColor:"#EDEBE9",cursor:"not-allowed"}}}},isErrored:{true:{"div[role='group']":{input:{borderColor:"$danger"},button:{borderColor:"$danger"}}}}}}),ne=de("div",{fontSize:"$label2",fontWeight:"$medium",transition:"$default",marginTop:"$1",color:"$gray70",variants:{error:{true:{color:"$danger"}}}}),oe=e=>{const a=se(),{buttonProps:r}=ea(e,a);return d("button",{...r,ref:a,children:e.children})},ha=H.forwardRef((e,a)=>{const{css:r={},isErrored:o,disableScroll:t=!0,...f}=e,[$,h]=H.useState(!1),i={},x=se(a),{locale:y}=ma(),s=ga({...f,locale:y}),{labelProps:p,groupProps:g,inputProps:c,incrementButtonProps:L,decrementButtonProps:R}=xa(e,s,x);return H.useEffect(()=>{var m;if($){const D=c.value;(m=e.onUpdate)==null||m.call(e,D,parseFloat(D==null?void 0:D.replace(/[^0-9.-]+/g,"")))}else h(!0)},[c.value]),U(La,{css:r,...i,isErrored:!!o,isDisabled:!!c.disabled,children:[e.label&&U("label",{...p,children:[e.label,e.isRequired&&d("span",{children:"*"})]}),U("div",{...g,children:[d(oe,{...R,children:"-"}),t&&d("input",{...c,ref:x,style:{display:"none"}}),d("input",{...c,ref:t?null:x,onWheel:m=>{m.preventDefault(),m.stopPropagation()}}),d(oe,{...L,children:"+"})]}),o&&e.errorMessage&&d(ne,{error:!0,children:e.errorMessage}),e.helperText&&d(ne,{children:e.helperText})]})}),w=ha;w.displayName="QuantityToggle";const ka=()=>{const[e,a]=n.useState(0);return U(Xe,{children:[d("h3",{children:"Controlled"}),d(w,{disableScroll:!1,placeholder:"Price",value:e,onChange:r=>a(r),formatOptions:{style:"currency",currency:"USD"},onUpdate:(r,o)=>{console.log("onUpdate value",r),console.log("onUpdate number",o)}}),d("h3",{children:"Un-Controlled"}),d(w,{placeholder:"Price",formatOptions:{style:"currency",currency:"USD"}}),d("h3",{children:"Disabled"}),d(w,{defaultValue:2,isDisabled:!0,helperText:"Bla Bla Bla"}),d("h3",{children:"Errored"}),d(w,{defaultValue:2,isErrored:!0,helperText:"Bla Bla Bla"})]})};typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{ka as Variants};

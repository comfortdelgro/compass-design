import{r as f,$ as Et}from"./index-6c164b11.js";import{r as Rt}from"./index-4593f2b5.js";import{s as zt,h as Xt,a as Ut}from"./index-318acb9e.js";const ve=Math.min,le=Math.max,Ae=Math.round,Ce=Math.floor,re=e=>({x:e,y:e}),Gt={left:"right",right:"left",bottom:"top",top:"bottom"},Zt={start:"end",end:"start"};function ze(e,t,n){return le(e,ve(t,n))}function Ee(e,t){return typeof e=="function"?e(t):e}function fe(e){return e.split("-")[0]}function Re(e){return e.split("-")[1]}function Tt(e){return e==="x"?"y":"x"}function Ge(e){return e==="y"?"height":"width"}function $e(e){return["top","bottom"].includes(fe(e))?"y":"x"}function Ze(e){return Tt($e(e))}function Jt(e,t,n){n===void 0&&(n=!1);const r=Re(e),o=Ze(e),i=Ge(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=Fe(s)),[s,Fe(s)]}function Qt(e){const t=Fe(e);return[Xe(e),t,Xe(t)]}function Xe(e){return e.replace(/start|end/g,t=>Zt[t])}function en(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function tn(e,t,n,r){const o=Re(e);let i=en(fe(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(Xe)))),i}function Fe(e){return e.replace(/left|right|bottom|top/g,t=>Gt[t])}function nn(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ct(e){return typeof e!="number"?nn(e):{top:e,right:e,bottom:e,left:e}}function Le(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function st(e,t,n){let{reference:r,floating:o}=e;const i=$e(t),s=Ze(t),u=Ge(s),c=fe(t),a=i==="y",p=r.x+r.width/2-o.width/2,g=r.y+r.height/2-o.height/2,v=r[u]/2-o[u]/2;let l;switch(c){case"top":l={x:p,y:r.y-o.height};break;case"bottom":l={x:p,y:r.y+r.height};break;case"right":l={x:r.x+r.width,y:g};break;case"left":l={x:r.x-o.width,y:g};break;default:l={x:r.x,y:r.y}}switch(Re(t)){case"start":l[s]-=v*(n&&a?-1:1);break;case"end":l[s]+=v*(n&&a?-1:1);break}return l}const rn=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,u=i.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(t));let a=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:p,y:g}=st(a,r,c),v=r,l={},b=0;for(let m=0;m<u.length;m++){const{name:R,fn:y}=u[m],{x:h,y:F,data:w,reset:C}=await y({x:p,y:g,initialPlacement:r,placement:v,strategy:o,middlewareData:l,rects:a,platform:s,elements:{reference:e,floating:t}});p=h??p,g=F??g,l={...l,[R]:{...l[R],...w}},C&&b<=50&&(b++,typeof C=="object"&&(C.placement&&(v=C.placement),C.rects&&(a=C.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):C.rects),{x:p,y:g}=st(a,v,c)),m=-1)}return{x:p,y:g,placement:v,strategy:o,middlewareData:l}};async function St(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:u,strategy:c}=e,{boundary:a="clippingAncestors",rootBoundary:p="viewport",elementContext:g="floating",altBoundary:v=!1,padding:l=0}=Ee(t,e),b=Ct(l),R=u[v?g==="floating"?"reference":"floating":g],y=Le(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(R)))==null||n?R:R.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:a,rootBoundary:p,strategy:c})),h=g==="floating"?{...s.floating,x:r,y:o}:s.reference,F=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),w=await(i.isElement==null?void 0:i.isElement(F))?await(i.getScale==null?void 0:i.getScale(F))||{x:1,y:1}:{x:1,y:1},C=Le(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:h,offsetParent:F,strategy:c}):h);return{top:(y.top-C.top+b.top)/w.y,bottom:(C.bottom-y.bottom+b.bottom)/w.y,left:(y.left-C.left+b.left)/w.x,right:(C.right-y.right+b.right)/w.x}}const on=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:u,middlewareData:c}=t,{element:a,padding:p=0}=Ee(e,t)||{};if(a==null)return{};const g=Ct(p),v={x:n,y:r},l=Ze(o),b=Ge(l),m=await s.getDimensions(a),R=l==="y",y=R?"top":"left",h=R?"bottom":"right",F=R?"clientHeight":"clientWidth",w=i.reference[b]+i.reference[l]-v[l]-i.floating[b],C=v[l]-i.reference[l],k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a));let D=k?k[F]:0;(!D||!await(s.isElement==null?void 0:s.isElement(k)))&&(D=u.floating[F]||i.floating[b]);const S=w/2-C/2,_=D/2-m[b]/2-1,W=ve(g[y],_),L=ve(g[h],_),P=W,x=D-m[b]-L,d=D/2-m[b]/2+S,E=ze(P,d,x),O=!c.arrow&&Re(o)!=null&&d!==E&&i.reference[b]/2-(d<P?W:L)-m[b]/2<0,T=O?d<P?d-P:d-x:0;return{[l]:v[l]+T,data:{[l]:E,centerOffset:d-E-T,...O&&{alignmentOffset:T}},reset:O}}}),sn=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:u,platform:c,elements:a}=t,{mainAxis:p=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:l="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:m=!0,...R}=Ee(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=fe(o),h=fe(u)===u,F=await(c.isRTL==null?void 0:c.isRTL(a.floating)),w=v||(h||!m?[Fe(u)]:Qt(u));!v&&b!=="none"&&w.push(...tn(u,m,b,F));const C=[u,...w],k=await St(t,R),D=[];let S=((r=i.flip)==null?void 0:r.overflows)||[];if(p&&D.push(k[y]),g){const P=Jt(o,s,F);D.push(k[P[0]],k[P[1]])}if(S=[...S,{placement:o,overflows:D}],!D.every(P=>P<=0)){var _,W;const P=(((_=i.flip)==null?void 0:_.index)||0)+1,x=C[P];if(x)return{data:{index:P,overflows:S},reset:{placement:x}};let d=(W=S.filter(E=>E.overflows[0]<=0).sort((E,O)=>E.overflows[1]-O.overflows[1])[0])==null?void 0:W.placement;if(!d)switch(l){case"bestFit":{var L;const E=(L=S.map(O=>[O.placement,O.overflows.filter(T=>T>0).reduce((T,A)=>T+A,0)]).sort((O,T)=>O[1]-T[1])[0])==null?void 0:L[0];E&&(d=E);break}case"initialPlacement":d=u;break}if(o!==d)return{reset:{placement:d}}}return{}}}};async function cn(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=fe(n),u=Re(n),c=$e(n)==="y",a=["left","top"].includes(s)?-1:1,p=i&&c?-1:1,g=Ee(t,e);let{mainAxis:v,crossAxis:l,alignmentAxis:b}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...g};return u&&typeof b=="number"&&(l=u==="end"?b*-1:b),c?{x:l*p,y:v*a}:{x:v*a,y:l*p}}const Er=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:i,placement:s,middlewareData:u}=t,c=await cn(t,e);return s===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:o+c.x,y:i+c.y,data:{...c,placement:s}}}}},un=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:u={fn:R=>{let{x:y,y:h}=R;return{x:y,y:h}}},...c}=Ee(e,t),a={x:n,y:r},p=await St(t,c),g=$e(fe(o)),v=Tt(g);let l=a[v],b=a[g];if(i){const R=v==="y"?"top":"left",y=v==="y"?"bottom":"right",h=l+p[R],F=l-p[y];l=ze(h,l,F)}if(s){const R=g==="y"?"top":"left",y=g==="y"?"bottom":"right",h=b+p[R],F=b-p[y];b=ze(h,b,F)}const m=u.fn({...t,[v]:l,[g]:b});return{...m,data:{x:m.x-n,y:m.y-r}}}}};function oe(e){return Pt(e)?(e.nodeName||"").toLowerCase():"#document"}function U(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function te(e){var t;return(t=(Pt(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Pt(e){return e instanceof Node||e instanceof U(e).Node}function ee(e){return e instanceof Element||e instanceof U(e).Element}function Q(e){return e instanceof HTMLElement||e instanceof U(e).HTMLElement}function ct(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof U(e).ShadowRoot}function Te(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=J(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function ln(e){return["table","td","th"].includes(oe(e))}function Je(e){const t=Qe(),n=J(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function an(e){let t=he(e);for(;Q(t)&&!Ve(t);){if(Je(t))return t;t=he(t)}return null}function Qe(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ve(e){return["html","body","#document"].includes(oe(e))}function J(e){return U(e).getComputedStyle(e)}function We(e){return ee(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function he(e){if(oe(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ct(e)&&e.host||te(e);return ct(t)?t.host:t}function Ot(e){const t=he(e);return Ve(t)?e.ownerDocument?e.ownerDocument.body:e.body:Q(t)&&Te(t)?t:Ot(t)}function ne(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=Ot(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=U(o);return i?t.concat(s,s.visualViewport||[],Te(o)?o:[],s.frameElement&&n?ne(s.frameElement):[]):t.concat(o,ne(o,[],n))}function At(e){const t=J(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Q(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,u=Ae(n)!==i||Ae(r)!==s;return u&&(n=i,r=s),{width:n,height:r,$:u}}function et(e){return ee(e)?e:e.contextElement}function ge(e){const t=et(e);if(!Q(t))return re(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=At(t);let s=(i?Ae(n.width):n.width)/r,u=(i?Ae(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!u||!Number.isFinite(u))&&(u=1),{x:s,y:u}}const fn=re(0);function Ft(e){const t=U(e);return!Qe()||!t.visualViewport?fn:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function dn(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==U(e)?!1:t}function de(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=et(e);let s=re(1);t&&(r?ee(r)&&(s=ge(r)):s=ge(e));const u=dn(i,n,r)?Ft(i):re(0);let c=(o.left+u.x)/s.x,a=(o.top+u.y)/s.y,p=o.width/s.x,g=o.height/s.y;if(i){const v=U(i),l=r&&ee(r)?U(r):r;let b=v,m=b.frameElement;for(;m&&r&&l!==b;){const R=ge(m),y=m.getBoundingClientRect(),h=J(m),F=y.left+(m.clientLeft+parseFloat(h.paddingLeft))*R.x,w=y.top+(m.clientTop+parseFloat(h.paddingTop))*R.y;c*=R.x,a*=R.y,p*=R.x,g*=R.y,c+=F,a+=w,b=U(m),m=b.frameElement}}return Le({width:p,height:g,x:c,y:a})}const mn=[":popover-open",":modal"];function Lt(e){return mn.some(t=>{try{return e.matches(t)}catch{return!1}})}function gn(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const i=o==="fixed",s=te(r),u=t?Lt(t.floating):!1;if(r===s||u&&i)return n;let c={scrollLeft:0,scrollTop:0},a=re(1);const p=re(0),g=Q(r);if((g||!g&&!i)&&((oe(r)!=="body"||Te(s))&&(c=We(r)),Q(r))){const v=de(r);a=ge(r),p.x=v.x+r.clientLeft,p.y=v.y+r.clientTop}return{width:n.width*a.x,height:n.height*a.y,x:n.x*a.x-c.scrollLeft*a.x+p.x,y:n.y*a.y-c.scrollTop*a.y+p.y}}function pn(e){return Array.from(e.getClientRects())}function It(e){return de(te(e)).left+We(e).scrollLeft}function vn(e){const t=te(e),n=We(e),r=e.ownerDocument.body,o=le(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=le(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+It(e);const u=-n.scrollTop;return J(r).direction==="rtl"&&(s+=le(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:u}}function hn(e,t){const n=U(e),r=te(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,u=0,c=0;if(o){i=o.width,s=o.height;const a=Qe();(!a||a&&t==="fixed")&&(u=o.offsetLeft,c=o.offsetTop)}return{width:i,height:s,x:u,y:c}}function bn(e,t){const n=de(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Q(e)?ge(e):re(1),s=e.clientWidth*i.x,u=e.clientHeight*i.y,c=o*i.x,a=r*i.y;return{width:s,height:u,x:c,y:a}}function ut(e,t,n){let r;if(t==="viewport")r=hn(e,n);else if(t==="document")r=vn(te(e));else if(ee(t))r=bn(t,n);else{const o=Ft(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return Le(r)}function Dt(e,t){const n=he(e);return n===t||!ee(n)||Ve(n)?!1:J(n).position==="fixed"||Dt(n,t)}function yn(e,t){const n=t.get(e);if(n)return n;let r=ne(e,[],!1).filter(u=>ee(u)&&oe(u)!=="body"),o=null;const i=J(e).position==="fixed";let s=i?he(e):e;for(;ee(s)&&!Ve(s);){const u=J(s),c=Je(s);!c&&u.position==="fixed"&&(o=null),(i?!c&&!o:!c&&u.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Te(s)&&!c&&Dt(e,s))?r=r.filter(p=>p!==s):o=u,s=he(s)}return t.set(e,r),r}function wn(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?yn(t,this._c):[].concat(n),r],u=s[0],c=s.reduce((a,p)=>{const g=ut(t,p,o);return a.top=le(g.top,a.top),a.right=ve(g.right,a.right),a.bottom=ve(g.bottom,a.bottom),a.left=le(g.left,a.left),a},ut(t,u,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function xn(e){const{width:t,height:n}=At(e);return{width:t,height:n}}function En(e,t,n){const r=Q(t),o=te(t),i=n==="fixed",s=de(e,!0,i,t);let u={scrollLeft:0,scrollTop:0};const c=re(0);if(r||!r&&!i)if((oe(t)!=="body"||Te(o))&&(u=We(t)),r){const g=de(t,!0,i,t);c.x=g.x+t.clientLeft,c.y=g.y+t.clientTop}else o&&(c.x=It(o));const a=s.left+u.scrollLeft-c.x,p=s.top+u.scrollTop-c.y;return{x:a,y:p,width:s.width,height:s.height}}function lt(e,t){return!Q(e)||J(e).position==="fixed"?null:t?t(e):e.offsetParent}function Mt(e,t){const n=U(e);if(!Q(e)||Lt(e))return n;let r=lt(e,t);for(;r&&ln(r)&&J(r).position==="static";)r=lt(r,t);return r&&(oe(r)==="html"||oe(r)==="body"&&J(r).position==="static"&&!Je(r))?n:r||an(e)||n}const Rn=async function(e){const t=this.getOffsetParent||Mt,n=this.getDimensions;return{reference:En(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,...await n(e.floating)}}};function Tn(e){return J(e).direction==="rtl"}const Cn={convertOffsetParentRelativeRectToViewportRelativeRect:gn,getDocumentElement:te,getClippingRect:wn,getOffsetParent:Mt,getElementRects:Rn,getClientRects:pn,getDimensions:xn,getScale:ge,isElement:ee,isRTL:Tn};function Sn(e,t){let n=null,r;const o=te(e);function i(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function s(u,c){u===void 0&&(u=!1),c===void 0&&(c=1),i();const{left:a,top:p,width:g,height:v}=e.getBoundingClientRect();if(u||t(),!g||!v)return;const l=Ce(p),b=Ce(o.clientWidth-(a+g)),m=Ce(o.clientHeight-(p+v)),R=Ce(a),h={rootMargin:-l+"px "+-b+"px "+-m+"px "+-R+"px",threshold:le(0,ve(1,c))||1};let F=!0;function w(C){const k=C[0].intersectionRatio;if(k!==c){if(!F)return s();k?s(!1,k):r=setTimeout(()=>{s(!1,1e-7)},100)}F=!1}try{n=new IntersectionObserver(w,{...h,root:o.ownerDocument})}catch{n=new IntersectionObserver(w,h)}n.observe(e)}return s(!0),i}function Rr(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,a=et(e),p=o||i?[...a?ne(a):[],...ne(t)]:[];p.forEach(y=>{o&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const g=a&&u?Sn(a,n):null;let v=-1,l=null;s&&(l=new ResizeObserver(y=>{let[h]=y;h&&h.target===a&&l&&(l.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var F;(F=l)==null||F.observe(t)})),n()}),a&&!c&&l.observe(a),l.observe(t));let b,m=c?de(e):null;c&&R();function R(){const y=de(e);m&&(y.x!==m.x||y.y!==m.y||y.width!==m.width||y.height!==m.height)&&n(),m=y,b=requestAnimationFrame(R)}return n(),()=>{var y;p.forEach(h=>{o&&h.removeEventListener("scroll",n),i&&h.removeEventListener("resize",n)}),g==null||g(),(y=l)==null||y.disconnect(),l=null,c&&cancelAnimationFrame(b)}}const Tr=un,Cr=sn,at=on,Pn=(e,t,n)=>{const r=new Map,o={platform:Cn,...n},i={...o.platform,_c:r};return rn(e,t,{...o,platform:i})},Sr=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?at({element:r.current,padding:o}).fn(n):{}:r?at({element:r,padding:o}).fn(n):{}}}};var Se=typeof document<"u"?f.useLayoutEffect:f.useEffect;function Ie(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Ie(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Ie(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function kt(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ft(e,t){const n=kt(e);return Math.round(t*n)/n}function dt(e){const t=f.useRef(e);return Se(()=>{t.current=e}),t}function On(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:u=!0,whileElementsMounted:c,open:a}=e,[p,g]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[v,l]=f.useState(r);Ie(v,r)||l(r);const[b,m]=f.useState(null),[R,y]=f.useState(null),h=f.useCallback(T=>{T!==k.current&&(k.current=T,m(T))},[]),F=f.useCallback(T=>{T!==D.current&&(D.current=T,y(T))},[]),w=i||b,C=s||R,k=f.useRef(null),D=f.useRef(null),S=f.useRef(p),_=c!=null,W=dt(c),L=dt(o),P=f.useCallback(()=>{if(!k.current||!D.current)return;const T={placement:t,strategy:n,middleware:v};L.current&&(T.platform=L.current),Pn(k.current,D.current,T).then(A=>{const B={...A,isPositioned:!0};x.current&&!Ie(S.current,B)&&(S.current=B,Rt.flushSync(()=>{g(B)}))})},[v,t,n,L]);Se(()=>{a===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,g(T=>({...T,isPositioned:!1})))},[a]);const x=f.useRef(!1);Se(()=>(x.current=!0,()=>{x.current=!1}),[]),Se(()=>{if(w&&(k.current=w),C&&(D.current=C),w&&C){if(W.current)return W.current(w,C,P);P()}},[w,C,P,W,_]);const d=f.useMemo(()=>({reference:k,floating:D,setReference:h,setFloating:F}),[h,F]),E=f.useMemo(()=>({reference:w,floating:C}),[w,C]),O=f.useMemo(()=>{const T={position:n,left:0,top:0};if(!E.floating)return T;const A=ft(E.floating,p.x),B=ft(E.floating,p.y);return u?{...T,transform:"translate("+A+"px, "+B+"px)",...kt(E.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:A,top:B}},[n,u,E.floating,p.x,p.y]);return f.useMemo(()=>({...p,update:P,refs:d,elements:E,floatingStyles:O}),[p,P,d,E,O])}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var An=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Ue=An.join(","),Nt=typeof Element>"u",xe=Nt?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,De=!Nt&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},Me=function e(t,n){var r;n===void 0&&(n=!0);var o=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),i=o===""||o==="true",s=i||n&&t&&e(t.parentNode);return s},Fn=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},Ln=function(t,n,r){if(Me(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(Ue));return n&&xe.call(t,Ue)&&o.unshift(t),o=o.filter(r),o},In=function e(t,n,r){for(var o=[],i=Array.from(t);i.length;){var s=i.shift();if(!Me(s,!1))if(s.tagName==="SLOT"){var u=s.assignedElements(),c=u.length?u:s.children,a=e(c,!0,r);r.flatten?o.push.apply(o,a):o.push({scopeParent:s,candidates:a})}else{var p=xe.call(s,Ue);p&&r.filter(s)&&(n||!t.includes(s))&&o.push(s);var g=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),v=!Me(g,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(g&&v){var l=e(g===!0?s.children:g.children,!0,r);r.flatten?o.push.apply(o,l):o.push({scopeParent:s,candidates:l})}else i.unshift.apply(i,s.children)}}return o},Bt=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},$t=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||Fn(t))&&!Bt(t)?0:t.tabIndex},Dn=function(t,n){var r=$t(t);return r<0&&n&&!Bt(t)?0:r},Mn=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},Vt=function(t){return t.tagName==="INPUT"},kn=function(t){return Vt(t)&&t.type==="hidden"},Nn=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},Bn=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},$n=function(t){if(!t.name)return!0;var n=t.form||De(t),r=function(u){return n.querySelectorAll('input[type="radio"][name="'+u+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(t.name));else try{o=r(t.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var i=Bn(o,t.form);return!i||i===t},Vn=function(t){return Vt(t)&&t.type==="radio"},Wn=function(t){return Vn(t)&&!$n(t)},_n=function(t){var n,r=t&&De(t),o=(n=r)===null||n===void 0?void 0:n.host,i=!1;if(r&&r!==t){var s,u,c;for(i=!!((s=o)!==null&&s!==void 0&&(u=s.ownerDocument)!==null&&u!==void 0&&u.contains(o)||t!=null&&(c=t.ownerDocument)!==null&&c!==void 0&&c.contains(t));!i&&o;){var a,p,g;r=De(o),o=(a=r)===null||a===void 0?void 0:a.host,i=!!((p=o)!==null&&p!==void 0&&(g=p.ownerDocument)!==null&&g!==void 0&&g.contains(o))}}return i},mt=function(t){var n=t.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},Hn=function(t,n){var r=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var i=xe.call(t,"details>summary:first-of-type"),s=i?t.parentElement:t;if(xe.call(s,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var u=t;t;){var c=t.parentElement,a=De(t);if(c&&!c.shadowRoot&&o(c)===!0)return mt(t);t.assignedSlot?t=t.assignedSlot:!c&&a!==t.ownerDocument?t=a.host:t=c}t=u}if(_n(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return mt(t);return!1},Kn=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return xe.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},jn=function(t,n){return!(n.disabled||Me(n)||kn(n)||Hn(n,t)||Nn(n)||Kn(n))},gt=function(t,n){return!(Wn(n)||$t(n)<0||!jn(t,n))},qn=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Yn=function e(t){var n=[],r=[];return t.forEach(function(o,i){var s=!!o.scopeParent,u=s?o.scopeParent:o,c=Dn(u,s),a=s?e(o.candidates):u;c===0?s?n.push.apply(n,a):n.push(u):r.push({documentOrder:i,tabIndex:c,item:o,isScope:s,content:a})}),r.sort(Mn).reduce(function(o,i){return i.isScope?o.push.apply(o,i.content):o.push(i.content),o},[]).concat(n)},tt=function(t,n){n=n||{};var r;return n.getShadowRoot?r=In([t],n.includeContainer,{filter:gt.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:qn}):r=Ln(t,n.includeContainer,gt.bind(null,n)),Yn(r)};function ke(){return ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ke.apply(this,arguments)}var G=typeof document<"u"?f.useLayoutEffect:f.useEffect;let Ke=!1,zn=0;const pt=()=>"floating-ui-"+zn++;function Xn(){const[e,t]=f.useState(()=>Ke?pt():void 0);return G(()=>{e==null&&t(pt())},[]),f.useEffect(()=>{Ke||(Ke=!0)},[]),e}const Un=Et["useId".toString()],nt=Un||Xn;function Gn(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const Zn=f.createContext(null),Jn=f.createContext(null),Wt=()=>{var e;return((e=f.useContext(Zn))==null?void 0:e.id)||null},_e=()=>f.useContext(Jn);function X(e){return(e==null?void 0:e.ownerDocument)||document}function Qn(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function er(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function He(e){return X(e).defaultView||window}function Z(e){return e?e instanceof Element||e instanceof He(e).Element:!1}function be(e){return e?e instanceof HTMLElement||e instanceof He(e).HTMLElement:!1}function tr(e){if(typeof ShadowRoot>"u")return!1;const t=He(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function nr(e){if(e.mozInputSource===0&&e.isTrusted)return!0;const t=/Android/i;return(t.test(Qn())||t.test(er()))&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function rr(e){return e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType!=="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0}function or(){return/apple/i.test(navigator.vendor)}function Ne(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function ir(e){return"nativeEvent"in e}function Y(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&tr(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function ae(e){return"data-floating-ui-"+e}function ye(e){const t=f.useRef(e);return G(()=>{t.current=e}),t}const vt=ae("safe-polygon");function je(e,t,n){return n&&!Ne(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function Pr(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,elements:{domReference:s,floating:u},refs:c}=e,{enabled:a=!0,delay:p=0,handleClose:g=null,mouseOnly:v=!1,restMs:l=0,move:b=!0}=t,m=_e(),R=Wt(),y=ye(g),h=ye(p),F=f.useRef(),w=f.useRef(),C=f.useRef(),k=f.useRef(),D=f.useRef(!0),S=f.useRef(!1),_=f.useRef(()=>{}),W=f.useCallback(()=>{var d;const E=(d=o.current.openEvent)==null?void 0:d.type;return(E==null?void 0:E.includes("mouse"))&&E!=="mousedown"},[o]);f.useEffect(()=>{if(!a)return;function d(){clearTimeout(w.current),clearTimeout(k.current),D.current=!0}return i.on("dismiss",d),()=>{i.off("dismiss",d)}},[a,i]),f.useEffect(()=>{if(!a||!y.current||!n)return;function d(O){W()&&r(!1,O)}const E=X(u).documentElement;return E.addEventListener("mouseleave",d),()=>{E.removeEventListener("mouseleave",d)}},[u,n,r,a,y,o,W]);const L=f.useCallback(function(d,E){E===void 0&&(E=!0);const O=je(h.current,"close",F.current);O&&!C.current?(clearTimeout(w.current),w.current=setTimeout(()=>r(!1,d),O)):E&&(clearTimeout(w.current),r(!1,d))},[h,r]),P=f.useCallback(()=>{_.current(),C.current=void 0},[]),x=f.useCallback(()=>{if(S.current){const d=X(c.floating.current).body;d.style.pointerEvents="",d.removeAttribute(vt),S.current=!1}},[c]);return f.useEffect(()=>{if(!a)return;function d(){return o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1}function E(A){if(clearTimeout(w.current),D.current=!1,v&&!Ne(F.current)||l>0&&je(h.current,"open")===0)return;const B=je(h.current,"open",F.current);B?w.current=setTimeout(()=>{r(!0,A)},B):r(!0,A)}function O(A){if(d())return;_.current();const B=X(u);if(clearTimeout(k.current),y.current){n||clearTimeout(w.current),C.current=y.current({...e,tree:m,x:A.clientX,y:A.clientY,onClose(){x(),P(),L(A)}});const M=C.current;B.addEventListener("mousemove",M),_.current=()=>{B.removeEventListener("mousemove",M)};return}(F.current==="touch"?!Y(u,A.relatedTarget):!0)&&L(A)}function T(A){d()||y.current==null||y.current({...e,tree:m,x:A.clientX,y:A.clientY,onClose(){x(),P(),L(A)}})(A)}if(Z(s)){const A=s;return n&&A.addEventListener("mouseleave",T),u==null||u.addEventListener("mouseleave",T),b&&A.addEventListener("mousemove",E,{once:!0}),A.addEventListener("mouseenter",E),A.addEventListener("mouseleave",O),()=>{n&&A.removeEventListener("mouseleave",T),u==null||u.removeEventListener("mouseleave",T),b&&A.removeEventListener("mousemove",E),A.removeEventListener("mouseenter",E),A.removeEventListener("mouseleave",O)}}},[s,u,a,e,v,l,b,L,P,x,r,n,m,h,y,o]),G(()=>{var d;if(a&&n&&(d=y.current)!=null&&d.__options.blockPointerEvents&&W()){const T=X(u).body;if(T.setAttribute(vt,""),T.style.pointerEvents="none",S.current=!0,Z(s)&&u){var E,O;const A=s,B=m==null||(E=m.nodesRef.current.find(z=>z.id===R))==null||(O=E.context)==null?void 0:O.elements.floating;return B&&(B.style.pointerEvents=""),A.style.pointerEvents="auto",u.style.pointerEvents="auto",()=>{A.style.pointerEvents="",u.style.pointerEvents=""}}}},[a,n,R,u,s,m,y,o,W]),G(()=>{n||(F.current=void 0,P(),x())},[n,P,x]),f.useEffect(()=>()=>{P(),clearTimeout(w.current),clearTimeout(k.current),x()},[a,P,x]),f.useMemo(()=>{if(!a)return{};function d(E){F.current=E.pointerType}return{reference:{onPointerDown:d,onPointerEnter:d,onMouseMove(E){n||l===0||(clearTimeout(k.current),k.current=setTimeout(()=>{D.current||r(!0,E.nativeEvent)},l))}},floating:{onMouseEnter(){clearTimeout(w.current)},onMouseLeave(E){i.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),L(E.nativeEvent,!1)}}}},[i,a,l,n,r,L])}function ue(e){let t=e.activeElement;for(;((n=t)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;t=t.shadowRoot.activeElement}return t}let ht=0;function ce(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(ht);const i=()=>e==null?void 0:e.focus({preventScroll:n});o?i():ht=requestAnimationFrame(i)}function sr(e,t){var n;let r=[],o=(n=e.find(i=>i.id===t))==null?void 0:n.parentId;for(;o;){const i=e.find(s=>s.id===o);o=i==null?void 0:i.parentId,i&&(r=r.concat(i))}return r}function pe(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(s=>{var u;return o.parentId===s.id&&((u=o.context)==null?void 0:u.open)})}),n=n.concat(r);return n}function rt(e){return"composedPath"in e?e.composedPath()[0]:e.target}const cr="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function _t(e){return be(e)&&e.matches(cr)}function qe(e){e.preventDefault(),e.stopPropagation()}const ot=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Ht(e,t){const n=tt(e,ot());t==="prev"&&n.reverse();const r=n.indexOf(ue(X(e)));return n.slice(r+1)[0]}function Kt(){return Ht(document.body,"next")}function jt(){return Ht(document.body,"prev")}function we(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!Y(n,r)}function ur(e){tt(e,ot()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function lr(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const it={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let ar;function bt(e){e.key==="Tab"&&(e.target,clearTimeout(ar))}const Be=f.forwardRef(function(t,n){const[r,o]=f.useState();G(()=>(or()&&o("button"),document.addEventListener("keydown",bt),()=>{document.removeEventListener("keydown",bt)}),[]);const i={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[ae("focus-guard")]:"",style:it};return f.createElement("span",ke({},t,i))}),qt=f.createContext(null);function fr(e){let{id:t,root:n}=e===void 0?{}:e;const[r,o]=f.useState(null),i=nt(),s=Yt(),u=f.useMemo(()=>({id:t,root:n,portalContext:s,uniqueId:i}),[t,n,s,i]),c=f.useRef();return G(()=>()=>{r==null||r.remove()},[r,u]),G(()=>{if(c.current===u)return;c.current=u;const{id:a,root:p,portalContext:g,uniqueId:v}=u,l=a?document.getElementById(a):null,b=ae("portal");if(l){const m=document.createElement("div");m.id=v,m.setAttribute(b,""),l.appendChild(m),o(m)}else{let m=p||(g==null?void 0:g.portalNode);m&&!Z(m)&&(m=m.current),m=m||document.body;let R=null;a&&(R=document.createElement("div"),R.id=a,m.appendChild(R));const y=document.createElement("div");y.id=v,y.setAttribute(b,""),m=R||m,m.appendChild(y),o(y)}},[u]),r}function Or(e){let{children:t,id:n,root:r=null,preserveTabOrder:o=!0}=e;const i=fr({id:n,root:r}),[s,u]=f.useState(null),c=f.useRef(null),a=f.useRef(null),p=f.useRef(null),g=f.useRef(null),v=!!s&&!s.modal&&s.open&&o&&!!(r||i);return f.useEffect(()=>{if(!i||!o||s!=null&&s.modal)return;function l(b){i&&we(b)&&(b.type==="focusin"?lr:ur)(i)}return i.addEventListener("focusin",l,!0),i.addEventListener("focusout",l,!0),()=>{i.removeEventListener("focusin",l,!0),i.removeEventListener("focusout",l,!0)}},[i,o,s==null?void 0:s.modal]),f.createElement(qt.Provider,{value:f.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:c,afterOutsideRef:a,beforeInsideRef:p,afterInsideRef:g,portalNode:i,setFocusManagerState:u}),[o,i])},v&&i&&f.createElement(Be,{"data-type":"outside",ref:c,onFocus:l=>{if(we(l,i)){var b;(b=p.current)==null||b.focus()}else{const m=jt()||(s==null?void 0:s.refs.domReference.current);m==null||m.focus()}}}),v&&i&&f.createElement("span",{"aria-owns":i.id,style:it}),i&&Rt.createPortal(t,i),v&&i&&f.createElement(Be,{"data-type":"outside",ref:a,onFocus:l=>{if(we(l,i)){var b;(b=g.current)==null||b.focus()}else{const m=Kt()||(s==null?void 0:s.refs.domReference.current);m==null||m.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1,l.nativeEvent))}}}))}const Yt=()=>f.useContext(qt),dr=f.forwardRef(function(t,n){return f.createElement("button",ke({},t,{type:"button",ref:n,tabIndex:-1,style:it}))});function Ar(e){const{context:t,children:n,disabled:r=!1,order:o=["content"],guards:i=!0,initialFocus:s=0,returnFocus:u=!0,modal:c=!0,visuallyHiddenDismiss:a=!1,closeOnFocusOut:p=!0}=e,{open:g,refs:v,nodeId:l,onOpenChange:b,events:m,dataRef:R,elements:{domReference:y,floating:h}}=t,F=zt()?i:!0,w=ye(o),C=ye(s),k=ye(u),D=_e(),S=Yt(),_=typeof s=="number"&&s<0,W=f.useRef(null),L=f.useRef(null),P=f.useRef(!1),x=f.useRef(null),d=f.useRef(!1),E=S!=null,O=y&&y.getAttribute("role")==="combobox"&&_t(y),T=f.useCallback(function(M){return M===void 0&&(M=h),M?tt(M,ot()):[]},[h]),A=f.useCallback(M=>{const N=T(M);return w.current.map(I=>y&&I==="reference"?y:h&&I==="floating"?h:N).filter(Boolean).flat()},[y,h,w,T]);f.useEffect(()=>{if(r||!c)return;function M(I){if(I.key==="Tab"){Y(h,ue(X(h)))&&T().length===0&&!O&&qe(I);const $=A(),K=rt(I);w.current[0]==="reference"&&K===y&&(qe(I),I.shiftKey?ce($[$.length-1]):ce($[1])),w.current[1]==="floating"&&K===h&&I.shiftKey&&(qe(I),ce($[0]))}}const N=X(h);return N.addEventListener("keydown",M),()=>{N.removeEventListener("keydown",M)}},[r,y,h,c,w,v,O,T,A]),f.useEffect(()=>{if(r||!p)return;function M(){d.current=!0,setTimeout(()=>{d.current=!1})}function N(I){const $=I.relatedTarget;queueMicrotask(()=>{const K=!(Y(y,$)||Y(h,$)||Y($,h)||Y(S==null?void 0:S.portalNode,$)||$!=null&&$.hasAttribute(ae("focus-guard"))||D&&(pe(D.nodesRef.current,l).find(j=>{var q,V;return Y((q=j.context)==null?void 0:q.elements.floating,$)||Y((V=j.context)==null?void 0:V.elements.domReference,$)})||sr(D.nodesRef.current,l).find(j=>{var q,V;return((q=j.context)==null?void 0:q.elements.floating)===$||((V=j.context)==null?void 0:V.elements.domReference)===$})));$&&K&&!d.current&&$!==x.current&&(P.current=!0,b(!1,I))})}if(h&&be(y))return y.addEventListener("focusout",N),y.addEventListener("pointerdown",M),!c&&h.addEventListener("focusout",N),()=>{y.removeEventListener("focusout",N),y.removeEventListener("pointerdown",M),!c&&h.removeEventListener("focusout",N)}},[r,y,h,c,l,D,S,b,p]),f.useEffect(()=>{var M;if(r)return;const N=Array.from((S==null||(M=S.portalNode)==null?void 0:M.querySelectorAll("["+ae("portal")+"]"))||[]);if(h&&c){const I=[h,...N,W.current,L.current].filter(j=>j!=null),K=(F?Xt:Ut)(w.current.includes("reference")||O?I.concat(y||[]):I,void 0,ae("inert"));return()=>{K()}}},[r,y,h,c,w,S,O,F]),G(()=>{if(r||!h)return;const M=X(h),N=ue(M);queueMicrotask(()=>{const I=A(h),$=C.current,K=(typeof $=="number"?I[$]:$.current)||h,j=Y(h,N);!_&&!j&&g&&ce(K,{preventScroll:K===h})})},[r,g,h,_,A,C]),G(()=>{if(r||!h)return;let M=!1;const N=X(h),I=ue(N),$=R.current;x.current=I;function K(j){if(j.type==="escapeKey"&&v.domReference.current&&(x.current=v.domReference.current),["referencePress","escapeKey"].includes(j.type))return;const q=j.data.returnFocus;typeof q=="object"?(P.current=!1,M=q.preventScroll):P.current=!q}return m.on("dismiss",K),()=>{m.off("dismiss",K);const j=ue(N);(Y(h,j)||D&&pe(D.nodesRef.current,l).some(V=>{var H;return Y((H=V.context)==null?void 0:H.elements.floating,j)})||$.openEvent&&["click","mousedown"].includes($.openEvent.type))&&v.domReference.current&&(x.current=v.domReference.current),k.current&&be(x.current)&&!P.current&&ce(x.current,{cancelPrevious:!1,preventScroll:M})}},[r,h,k,R,v,m,D,l]),G(()=>{if(!(r||!S))return S.setFocusManagerState({...t,modal:c,closeOnFocusOut:p,open:g}),()=>{S.setFocusManagerState(null)}},[r,S,c,g,p,t]),G(()=>{if(!r&&h&&typeof MutationObserver=="function"){const M=()=>{const I=h.getAttribute("tabindex");w.current.includes("floating")||ue(X(h))!==v.domReference.current&&T().length===0?I!=="0"&&h.setAttribute("tabindex","0"):I!=="-1"&&h.setAttribute("tabindex","-1")};M();const N=new MutationObserver(M);return N.observe(h,{childList:!0,subtree:!0,attributes:!0}),()=>{N.disconnect()}}},[r,h,v,w,T]);function B(M){return r||!a||!c?null:f.createElement(dr,{ref:M==="start"?W:L,onClick:N=>b(!1,N.nativeEvent)},typeof a=="string"?a:"Dismiss")}const z=!r&&F&&!O&&(E||c);return f.createElement(f.Fragment,null,z&&f.createElement(Be,{"data-type":"inside",ref:S==null?void 0:S.beforeInsideRef,onFocus:M=>{if(c){const I=A();ce(o[0]==="reference"?I[0]:I[I.length-1])}else if(S!=null&&S.preserveTabOrder&&S.portalNode)if(P.current=!1,we(M,S.portalNode)){const I=Kt()||y;I==null||I.focus()}else{var N;(N=S.beforeOutsideRef.current)==null||N.focus()}}}),!O&&B("start"),n,B("end"),z&&f.createElement(Be,{"data-type":"inside",ref:S==null?void 0:S.afterInsideRef,onFocus:M=>{if(c)ce(A()[0]);else if(S!=null&&S.preserveTabOrder&&S.portalNode)if(p&&(P.current=!0),we(M,S.portalNode)){const I=jt()||y;I==null||I.focus()}else{var N;(N=S.afterOutsideRef.current)==null||N.focus()}}}))}function yt(e){return be(e.target)&&e.target.tagName==="BUTTON"}function wt(e){return _t(e)}function Fr(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,elements:{domReference:i}}=e,{enabled:s=!0,event:u="click",toggle:c=!0,ignoreMouse:a=!1,keyboardHandlers:p=!0}=t,g=f.useRef(),v=f.useRef(!1);return f.useMemo(()=>s?{reference:{onPointerDown(l){g.current=l.pointerType},onMouseDown(l){l.button===0&&(Ne(g.current,!0)&&a||u!=="click"&&(n&&c&&(!o.current.openEvent||o.current.openEvent.type==="mousedown")?r(!1,l.nativeEvent):(l.preventDefault(),r(!0,l.nativeEvent))))},onClick(l){if(u==="mousedown"&&g.current){g.current=void 0;return}Ne(g.current,!0)&&a||(n&&c&&(!o.current.openEvent||o.current.openEvent.type==="click")?r(!1,l.nativeEvent):r(!0,l.nativeEvent))},onKeyDown(l){g.current=void 0,!(l.defaultPrevented||!p||yt(l))&&(l.key===" "&&!wt(i)&&(l.preventDefault(),v.current=!0),l.key==="Enter"&&r(!(n&&c),l.nativeEvent))},onKeyUp(l){l.defaultPrevented||!p||yt(l)||wt(i)||l.key===" "&&v.current&&(v.current=!1,r(!(n&&c),l.nativeEvent))}}}:{},[s,o,u,a,p,i,c,n,r])}const mr=Et["useInsertionEffect".toString()],gr=mr||(e=>e());function Pe(e){const t=f.useRef(()=>{});return gr(()=>{t.current=e}),f.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function Oe(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const pr={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},vr={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},hr=e=>{var t,n;return{escapeKeyBubbles:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePressBubbles:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function Lr(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,nodeId:i,elements:{reference:s,domReference:u,floating:c},dataRef:a}=e,{enabled:p=!0,escapeKey:g=!0,outsidePress:v=!0,outsidePressEvent:l="pointerdown",referencePress:b=!1,referencePressEvent:m="pointerdown",ancestorScroll:R=!1,bubbles:y}=t,h=_e(),F=Wt()!=null,w=Pe(typeof v=="function"?v:()=>!1),C=typeof v=="function"?w:v,k=f.useRef(!1),{escapeKeyBubbles:D,outsidePressBubbles:S}=hr(y),_=Pe(L=>{if(!n||!p||!g||L.key!=="Escape")return;const P=h?pe(h.nodesRef.current,i):[];if(!D&&(L.stopPropagation(),P.length>0)){let x=!0;if(P.forEach(d=>{var E;if((E=d.context)!=null&&E.open&&!d.context.dataRef.current.__escapeKeyBubbles){x=!1;return}}),!x)return}o.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1,ir(L)?L.nativeEvent:L)}),W=Pe(L=>{const P=k.current;if(k.current=!1,P||typeof C=="function"&&!C(L))return;const x=rt(L);if(be(x)&&c){const O=x.clientWidth>0&&x.scrollWidth>x.clientWidth,T=x.clientHeight>0&&x.scrollHeight>x.clientHeight;let A=T&&L.offsetX>x.clientWidth;if(T&&He(c).getComputedStyle(x).direction==="rtl"&&(A=L.offsetX<=x.offsetWidth-x.clientWidth),A||O&&L.offsetY>x.clientHeight)return}const d=h&&pe(h.nodesRef.current,i).some(O=>{var T;return Oe(L,(T=O.context)==null?void 0:T.elements.floating)});if(Oe(L,c)||Oe(L,u)||d)return;const E=h?pe(h.nodesRef.current,i):[];if(E.length>0){let O=!0;if(E.forEach(T=>{var A;if((A=T.context)!=null&&A.open&&!T.context.dataRef.current.__outsidePressBubbles){O=!1;return}}),!O)return}o.emit("dismiss",{type:"outsidePress",data:{returnFocus:F?{preventScroll:!0}:nr(L)||rr(L)}}),r(!1,L)});return f.useEffect(()=>{if(!n||!p)return;a.current.__escapeKeyBubbles=D,a.current.__outsidePressBubbles=S;function L(d){r(!1,d)}const P=X(c);g&&P.addEventListener("keydown",_),C&&P.addEventListener(l,W);let x=[];return R&&(Z(u)&&(x=ne(u)),Z(c)&&(x=x.concat(ne(c))),!Z(s)&&s&&s.contextElement&&(x=x.concat(ne(s.contextElement)))),x=x.filter(d=>{var E;return d!==((E=P.defaultView)==null?void 0:E.visualViewport)}),x.forEach(d=>{d.addEventListener("scroll",L,{passive:!0})}),()=>{g&&P.removeEventListener("keydown",_),C&&P.removeEventListener(l,W),x.forEach(d=>{d.removeEventListener("scroll",L)})}},[a,c,u,s,g,C,l,n,r,R,p,D,S,_,W]),f.useEffect(()=>{k.current=!1},[C,l]),f.useMemo(()=>p?{reference:{onKeyDown:_,[pr[m]]:L=>{b&&(o.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1,L.nativeEvent))}},floating:{onKeyDown:_,[vr[l]]:()=>{k.current=!0}}}:{},[p,o,b,l,m,r,_])}function Ir(e){var t;e===void 0&&(e={});const{open:n=!1,onOpenChange:r,nodeId:o}=e,[i,s]=f.useState(null),u=((t=e.elements)==null?void 0:t.reference)||i,c=On(e),a=_e(),p=Pe((w,C)=>{w&&(v.current.openEvent=C),r==null||r(w,C)}),g=f.useRef(null),v=f.useRef({}),l=f.useState(()=>Gn())[0],b=nt(),m=f.useCallback(w=>{const C=Z(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;c.refs.setReference(C)},[c.refs]),R=f.useCallback(w=>{(Z(w)||w===null)&&(g.current=w,s(w)),(Z(c.refs.reference.current)||c.refs.reference.current===null||w!==null&&!Z(w))&&c.refs.setReference(w)},[c.refs]),y=f.useMemo(()=>({...c.refs,setReference:R,setPositionReference:m,domReference:g}),[c.refs,R,m]),h=f.useMemo(()=>({...c.elements,domReference:u}),[c.elements,u]),F=f.useMemo(()=>({...c,refs:y,elements:h,dataRef:v,nodeId:o,floatingId:b,events:l,open:n,onOpenChange:p}),[c,o,b,l,n,p,y,h]);return G(()=>{const w=a==null?void 0:a.nodesRef.current.find(C=>C.id===o);w&&(w.context=F)}),f.useMemo(()=>({...c,context:F,refs:y,elements:h}),[c,y,h,F])}function Dr(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,refs:s,elements:{floating:u,domReference:c}}=e,{enabled:a=!0,keyboardOnly:p=!0}=t,g=f.useRef(""),v=f.useRef(!1),l=f.useRef();return f.useEffect(()=>{if(!a)return;const m=X(u).defaultView||window;function R(){!n&&be(c)&&c===ue(X(c))&&(v.current=!0)}return m.addEventListener("blur",R),()=>{m.removeEventListener("blur",R)}},[u,c,n,a]),f.useEffect(()=>{if(!a)return;function b(m){(m.type==="referencePress"||m.type==="escapeKey")&&(v.current=!0)}return i.on("dismiss",b),()=>{i.off("dismiss",b)}},[i,a]),f.useEffect(()=>()=>{clearTimeout(l.current)},[]),f.useMemo(()=>a?{reference:{onPointerDown(b){let{pointerType:m}=b;g.current=m,v.current=!!(m&&p)},onMouseLeave(){v.current=!1},onFocus(b){var m;v.current||b.type==="focus"&&((m=o.current.openEvent)==null?void 0:m.type)==="mousedown"&&Oe(o.current.openEvent,c)||r(!0,b.nativeEvent)},onBlur(b){v.current=!1;const m=b.relatedTarget,R=Z(m)&&m.hasAttribute(ae("focus-guard"))&&m.getAttribute("data-type")==="outside";l.current=setTimeout(()=>{Y(s.floating.current,m)||Y(c,m)||R||r(!1,b.nativeEvent)})}}}:{},[a,p,c,s,o,r])}function Ye(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(o=>o?o[n]:null).concat(e).reduce((o,i)=>(i&&Object.entries(i).forEach(s=>{let[u,c]=s;if(u.indexOf("on")===0){if(r.has(u)||r.set(u,[]),typeof c=="function"){var a;(a=r.get(u))==null||a.push(c),o[u]=function(){for(var p,g=arguments.length,v=new Array(g),l=0;l<g;l++)v[l]=arguments[l];return(p=r.get(u))==null?void 0:p.map(b=>b(...v)).find(b=>b!==void 0)}}}else o[u]=c}),o),{})}}function Mr(e){e===void 0&&(e=[]);const t=e,n=f.useCallback(i=>Ye(i,e,"reference"),t),r=f.useCallback(i=>Ye(i,e,"floating"),t),o=f.useCallback(i=>Ye(i,e,"item"),e.map(i=>i==null?void 0:i.item));return f.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:o}),[n,r,o])}function kr(e){return f.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}function Nr(e,t){t===void 0&&(t={});const{open:n,floatingId:r}=e,{enabled:o=!0,role:i="dialog"}=t,s=nt();return f.useMemo(()=>{const u={id:r,role:i};return o?i==="tooltip"?{reference:{"aria-describedby":n?r:void 0},floating:u}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?r:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:s}},floating:{...u,...i==="menu"&&{"aria-labelledby":s}}}:{}},[o,i,n,r,s])}function xt(e,t){const[n,r]=e;let o=!1;const i=t.length;for(let s=0,u=i-1;s<i;u=s++){const[c,a]=t[s]||[0,0],[p,g]=t[u]||[0,0];a>=r!=g>=r&&n<=(p-c)*(r-a)/(g-a)+c&&(o=!o)}return o}function br(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function Br(e){e===void 0&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e;let o,i=!1,s=null,u=null,c=performance.now();function a(g,v){const l=performance.now(),b=l-c;if(s===null||u===null||b===0)return s=g,u=v,c=l,null;const m=g-s,R=v-u,h=Math.sqrt(m*m+R*R)/b;return s=g,u=v,c=l,h}const p=g=>{let{x:v,y:l,placement:b,elements:m,onClose:R,nodeId:y,tree:h}=g;return function(w){function C(){clearTimeout(o),R()}if(clearTimeout(o),!m.domReference||!m.floating||b==null||v==null||l==null)return;const{clientX:k,clientY:D}=w,S=[k,D],_=rt(w),W=w.type==="mouseleave",L=Y(m.floating,_),P=Y(m.domReference,_),x=m.domReference.getBoundingClientRect(),d=m.floating.getBoundingClientRect(),E=b.split("-")[0],O=v>d.right-d.width/2,T=l>d.bottom-d.height/2,A=br(S,x),B=d.width>x.width,z=d.height>x.height,M=(B?x:d).left,N=(B?x:d).right,I=(z?x:d).top,$=(z?x:d).bottom;if(L&&(i=!0,!W))return;if(P&&(i=!1),P&&!W){i=!0;return}if(W&&Z(w.relatedTarget)&&Y(m.floating,w.relatedTarget)||h&&pe(h.nodesRef.current,y).some(q=>{let{context:V}=q;return V==null?void 0:V.open}))return;if(E==="top"&&l>=x.bottom-1||E==="bottom"&&l<=x.top+1||E==="left"&&v>=x.right-1||E==="right"&&v<=x.left+1)return C();let K=[];switch(E){case"top":K=[[M,x.top+1],[M,d.bottom-1],[N,d.bottom-1],[N,x.top+1]];break;case"bottom":K=[[M,d.top+1],[M,x.bottom-1],[N,x.bottom-1],[N,d.top+1]];break;case"left":K=[[d.right-1,$],[d.right-1,I],[x.left+1,I],[x.left+1,$]];break;case"right":K=[[x.right-1,$],[x.right-1,I],[d.left+1,I],[d.left+1,$]];break}function j(q){let[V,H]=q;switch(E){case"top":{const ie=[B?V+t/2:O?V+t*4:V-t*4,H+t+1],se=[B?V-t/2:O?V+t*4:V-t*4,H+t+1],me=[[d.left,O||B?d.bottom-t:d.top],[d.right,O?B?d.bottom-t:d.top:d.bottom-t]];return[ie,se,...me]}case"bottom":{const ie=[B?V+t/2:O?V+t*4:V-t*4,H-t],se=[B?V-t/2:O?V+t*4:V-t*4,H-t],me=[[d.left,O||B?d.top+t:d.bottom],[d.right,O?B?d.top+t:d.bottom:d.top+t]];return[ie,se,...me]}case"left":{const ie=[V+t+1,z?H+t/2:T?H+t*4:H-t*4],se=[V+t+1,z?H-t/2:T?H+t*4:H-t*4];return[...[[T||z?d.right-t:d.left,d.top],[T?z?d.right-t:d.left:d.right-t,d.bottom]],ie,se]}case"right":{const ie=[V-t,z?H+t/2:T?H+t*4:H-t*4],se=[V-t,z?H-t/2:T?H+t*4:H-t*4],me=[[T||z?d.left+t:d.right,d.top],[T?z?d.left+t:d.right:d.left+t,d.bottom]];return[ie,se,...me]}}}if(!xt([k,D],K)){if(i&&!A)return C();if(!W&&r){const q=a(w.clientX,w.clientY);if(q!==null&&q<.1)return C()}xt([k,D],j([v,l]))?!i&&r&&(o=window.setTimeout(C,40)):C()}}};return p.__options={blockPointerEvents:n},p}export{Or as F,Pr as a,Fr as b,Lr as c,Nr as d,Mr as e,Rr as f,Cr as g,Tr as h,kr as i,Dr as j,Sr as k,nt as l,Ar as m,Er as o,Br as s,Ir as u};

import{s as v,r as o,R as D,j as a,a as F}from"./index-12a99532.js";import{u as R}from"./use-dom-ref-2bd5dd1a.js";import{C as B}from"./components-79765e20.js";const M=v("input",{appearance:"none",backgroundColor:"transparent",boxSizing:"border-box",padding:"0px",lineHeight:"1em",width:"3rem",height:"3rem",margin:"0",fontSize:"2rem",textAlign:"center",borderRadius:"10px",border:"1px solid rgba(0, 0, 0, 0.2)","&[type=number]":{"-moz-appearance":"textfield","&::-webkit-outer-spin-button, &::-webkit-inner-spin-button":{"-webkit-appearance":"none",margin:0}},"&:disabled":{cursor:"not-allowed"}}),L=v("div",{appearance:"none",border:"none",backgroundColor:"transparent",boxSizing:"border-box",padding:"0px",lineHeight:"1em",margin:"5% auto",display:"flex",gap:"2rem","@media screen and (max-width: 640px)":{gap:"1rem",input:{width:"2.5rem",height:"2.5rem",fontSize:"1.8rem",borderRadius:"6px"}},variants:{isMobile:{true:{margin:0,[`${M}`]:{height:"$16",width:"$12",fontSize:"$label1",lineHeight:"$tight",borderRadius:"$lg",borderColor:"$grayShades20"}}}}});function _(t){const i=o.useRef();return o.useEffect(()=>{i.current=t},[t]),i.current}const K=D.forwardRef((t,i)=>{const{css:f={},focus:r,autoFocus:c,...C}=t,l=R(i),g=_(!!r);return o.useLayoutEffect(()=>{l.current&&(r&&c&&l.current.focus(),r&&c&&r!==g&&(l.current.focus(),l.current.select()))},[c,r,g]),a(M,{ref:l,css:f,...C})}),q=o.memo(K),G=q,J=D.forwardRef((t,i)=>{const{css:f={},length:r=6,isNumberInput:c,autoFocus:C,disabled:l,isMobile:g=!1,onChangeOTP:I,...N}=t,$=R(i),[s,O]=o.useState(0),[u,w]=o.useState(Array(r).fill("")),y=o.useCallback(e=>{const n=e.join("");I(n)},[I]),m=o.useCallback(e=>{const n=e;return c?!n||/\d/.test(n)?n:"":n},[c]),h=o.useCallback(e=>{const n=[...u];n[s]=e[0]||"",w(n),y(n)},[s,y,u]),d=o.useCallback(e=>{const n=Math.max(Math.min(r-1,e),0);O(n)},[r]),P=o.useCallback(()=>{d(s-1)},[s,d]),b=o.useCallback(()=>{d(s+1)},[s,d]),A=o.useCallback(e=>()=>{d(e)},[d]),V=o.useCallback(e=>{const n=m(e.currentTarget.value);if(!n){e.preventDefault();return}h(n),b()},[h,b,m]),z=o.useCallback(()=>{O(-1)},[]),E=o.useCallback(e=>{switch(e.key){case"Backspace":case"Delete":{e.preventDefault(),u[s]&&h(""),P();break}case"ArrowLeft":{e.preventDefault(),P();break}case"ArrowRight":{e.preventDefault(),b();break}case" ":{e.preventDefault();break}}},[s,h,b,P,u]),j=o.useCallback(e=>{e.preventDefault();const n=e.clipboardData.getData("text/plain").trim().slice(0,r-s).split("");if(n){let S=0;const k=[...u];k.forEach((H,T)=>{if(T>=s){const x=m(n.shift()||H);x&&(k[T]=x,S=T)}}),w(k),O(Math.min(S+1,r-1))}},[s,m,r,u]);return a(L,{css:f,ref:$,isMobile:g,...N,children:Array.from(Array(r).keys()).map(e=>a(G,{focus:s===e,autoFocus:C,value:u&&u[e],onFocus:A(e),onChange:V,onKeyDown:E,onBlur:z,onPaste:j,...c?{type:"number",pattern:"d{1}",inputMode:"numeric"}:void 0,autoComplete:"one-time-code",disabled:l},`SingleInput-${e}`))})}),Q=o.memo(J),p=Q;p.displayName="OTPInput";const Y=()=>F(B,{children:[a("h2",{children:"Number OTP"}),a(p,{length:4,isNumberInput:!0,autoFocus:!0,onChangeOTP:t=>console.log("Number OTP: ",t)}),a("h2",{children:"6 Numbers"}),a(p,{isNumberInput:!0,autoFocus:!0,onChangeOTP:t=>console.log("Number OTP: ",t)}),a("h2",{children:"String OTP"}),a(p,{autoFocus:!0,length:4,onChangeOTP:t=>console.log("String OTP: ",t)}),a("h2",{children:"Disabled"}),a(p,{disabled:!0,length:4,onChangeOTP:t=>console.log("String OTP: ",t)}),a("h2",{children:"Mobile view"}),a(p,{css:{marginBottom:"$8"},length:4,onChangeOTP:t=>console.log("String OTP: ",t),autoFocus:!0,isNumberInput:!0,isMobile:!0})]}),Z={decorators:[t=>F("div",{children:[a("style",{dangerouslySetInnerHTML:{__html:".ladle-main { background: #F7F8F9; }"}}),a(t,{})]})]};typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{Y as Variants,Z as default};

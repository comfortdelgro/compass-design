import{e as B,v as qe,w as Ne,x as Ae,y as Ke,b as H,z as Oe,A as Je,B as Qe,c as er,k as ie,C as A,D as rr,E as Ue,d as Be,F as tr,G as nr,H as or,$ as He,J as We,K as ir,L as ar,a as sr,M as cr,N as lr,i as ur}from"./import-59a51461.js";import{s as ae,r as p,R as dr,j as E,F as fr,a as z}from"./index-beb8cb0b.js";import{u as gr}from"./use-dom-ref-34f0fc00.js";import{i as hr,j as Se}from"./index-cf8b885c.js";import"./index-6277563f.js";import{a as se}from"./index-0353602c.js";import{B as ce}from"./button-ac5d4c13.js";const Ce=ae("td",{cursor:"pointer","&.focused":{height:"100%",outline:"$cdgBlue120 solid 2px"},"&.today .calendar-cell-value":{color:"$cdgBlue",fontWeight:"bold"},"&:hover":{backgroundColor:"$cdgBlue40 !important",borderRadius:"$md"},"&.selected":{backgroundColor:"$gray20"},"&.highlighted":{backgroundColor:"$cdgBlue100",borderRadius:"$md"},"&.unavailable .calendar-cell-value":{textDecoration:"line-through",color:"$gray50"},"&.highlighted .calendar-cell-value":{color:"$whiteText"},"& .calendar-cell-value":{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",fontSize:"$body3",color:"$gray100"},"& .calendar-cell-value.disabled":{cursor:"not-allowed",color:"$gray50"}}),br={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit"},je=new WeakMap;function le(r,e,t){return r==null?!1:e!=null&&r.compare(e)<0||t!=null&&r.compare(t)>0}function pr(r,e){if(r===null)return null;if(r)return B(r,e)}const Q=(r,e,t,n,i)=>{const a={months:0},c=X(r,e,t).subtract(a);return q(r,c,e,t,n,i)};function X(r,e,t,n,i){let a=r;return e.years?a=qe(r):e.months?a=Ne(r):e.weeks&&(a=Ae(r,t)),q(r,a,e,t,n,i)}function q(r,e,t,n,i,a){return i&&r.compare(i)>=0&&(e=Ke(e,X(H(i),t,n))),a&&r.compare(a)<=0&&(e=Oe(e,mr(H(a),t,n))),e}function mr(r,e,t,n,i){const a={...e};a.days?a.days--:a.weeks?a.weeks--:a.months?a.months--:a.years&&a.years--;const c=X(r,e,t).subtract(a);return q(r,c,e,t,n,i)}function W(r,e,t){return e&&(r=Ke(r,H(e))),t&&(r=Oe(r,H(t))),r}function yr(r,e,t){if(!e)return null;if(!t)return r;for(;r.compare(e)>=0&&t(r);)r=r.subtract({days:1});return r.compare(e)>=0?r:null}function vr(r){const e=r.width/2||r.radiusX||0,t=r.height/2||r.radiusY||0;return{top:r.clientY-t,right:r.clientX+e,bottom:r.clientY+t,left:r.clientX-e}}function Pr(r,e){return!(r.left>e.right||e.left>r.right||r.top>e.bottom||e.top>r.bottom)}function ee(r,e){if(!e)return;const t=e.getBoundingClientRect(),n=vr(r);return Pr(t,n)}function pt(r){return r&&"hour"in r?r:new Je}function mt(r,e){r={...br,...r};const t=e.granularity||"minute",n=Object.keys(r);let i=n.indexOf(e.maxGranularity??"year");i<0&&(i=0);let a=n.indexOf(t);if(a<0&&(a=2),i>a)throw new Error("maxGranularity must be greater than granularity");const c=n.slice(i,a+1).reduce((h,d)=>(h[d]=r[d],h),{});return e.hourCycle!=null&&(c.hour12=e.hourCycle===12),c.timeZone=e.timeZone||"UTC",(t==="hour"||t==="minute"||t==="second")&&e.timeZone&&!e.hideTimeZone&&(c.timeZoneName="short"),e.showEra&&i===0&&(c.era="short"),c}function yt(r,e,t){var i,a;if(!e.visibleRange)throw new Error("visibleRange is not defined on state");let n=r.add({days:t});for(;(t<0?n.compare(e.visibleRange.start)>=0:n.compare(e.visibleRange.end)<=0)&&!((i=e.isCellUnavailable)!=null&&i.call(e,n));)n=n.add({days:t});return(a=e.isCellUnavailable)!=null&&a.call(e,n)?n.add({days:-t}):null}function vt(r,e,t,n){if(r)return pr(r,t);const i=B(Qe(n).set({hour:0,minute:0,second:0,millisecond:0}),t);return e==="year"||e==="month"||e==="day"?H(i):n?i:er(i)}function Pt(r,e){const t={year:"yyyy",month:"mm",day:"dd"};return r==="era"||r==="dayPeriod"?e:r==="year"||r==="month"||r==="day"?t[r]:"––"}const Tr=new Set(["id"]),Dr=/^(data-.*)$/;function Tt(r,e={}){const{labelable:t,propNames:n}=e,i={};for(const a in r)Object.prototype.hasOwnProperty.call(r,a)&&(Tr.has(a)||t&&labelablePropNames.has(a)||n!=null&&n.has(a)||Dr.test(a))&&(i[a]=r[a]);return i}const Dt=1900,Sr=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),St={"en-US":{previous:"Previous",next:"Next",selectedDateDescription:"Selected Date: {date}",selectedRangeDescription:"Selected Range: {dateRange}",todayDate:"Today, {date}",todayDateSelected:"Today, {date} selected",dateSelected:"{date} selected",startRangeSelectionPrompt:"Click to start selecting date range",finishRangeSelectionPrompt:"Click to finish selecting date range",calendar:"Calendar",minimumDate:"First available date",maximumDate:"Last available date",dateRange:"{startDate} to {endDate}",era:"era",year:"year",month:"month",day:"day",hour:"hour",minute:"minute",second:"second",dayPeriod:"AM/PM",startDate:"Start Date",endDate:"End Date",weekday:"day of the week",timeZoneName:"time zone",selectedTimeDescription:"Selected Time: {time}",Empty:"Empty"}};function Cr(r){return r.width===0&&r.height===0||r.width===1&&r.height===1&&r.pressure===0&&r.detail===0&&r.pointerType==="mouse"}function he(r){return r.tagName==="A"&&r.hasAttribute("href")}function Ze(r,e){return r.type==="checkbox"||r.type==="radio"?e===" ":Sr.has(r.type)}function ue(r,e){const{key:t,code:n}=r,i=e,a=i.getAttribute("role");return(t==="Enter"||t===" "||t==="Spacebar"||n==="Space")&&!(i instanceof HTMLInputElement&&!Ze(i,t)||i instanceof HTMLTextAreaElement||i.isContentEditable)&&(!he(i)||a==="button"&&t!=="Enter")&&!(a==="link"&&t!=="Enter")}const me=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],wr=me.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";me.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const $r=me.join(':not([hidden]):not([tabindex="-1"]),'),Ct=`__role_${Date.now()}`,wt=`__focusManager_${Date.now()}`;function ye(r){var e;return typeof window<"u"&&window.navigator!=null?r.test(r.test(((e=window.navigator.userAgentData)==null?void 0:e.platform)||window.navigator.platform)):!1}function Er(r){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)==null?void 0:e.brands.some(t=>r.test(t.brand)))||r.test(window.navigator.userAgent)}function xr(){return ye(/^Mac/i)}function Rr(){return ye(/^iPhone/i)}function kr(){return ye(/^iPad/i)||xr()&&navigator.maxTouchPoints>1}function Ve(){return Rr()||kr()}function Mr(){return Er(/Android/i)}let j="default";const Fr=new Map,Ir=new Set,oe=new WeakMap;let be="";function Lr(r){requestAnimationFrame(()=>{Fr.size===0?r():Ir.add(r)})}function re(r){if(Ve()){if(j!=="disabled")return;j="restoring",setTimeout(()=>{Lr(()=>{j==="restoring"&&(document.documentElement.style.webkitUserSelect==="none"&&(document.documentElement.style.webkitUserSelect=be||""),be="",j="default")})},300)}else if((r instanceof HTMLElement||r instanceof SVGElement)&&r&&oe.has(r)){const e=oe.get(r);r.style.userSelect==="none"&&(r.style.userSelect=e),r.getAttribute("style")===""&&r.removeAttribute("style"),oe.delete(r)}}function we(r){Ve()?(j==="default"&&(be=document.documentElement.style.webkitUserSelect,document.documentElement.style.webkitUserSelect="none"),j="disabled"):(r instanceof HTMLElement||r instanceof SVGElement)&&(oe.set(r,r.style.userSelect),r.style.userSelect="none")}let te=null;function Nr(){if(te==null){te=!1;try{document.createElement("div").focus({get preventScroll(){return te=!0,!0}})}catch{}}return te}function Y(r){if(Nr())r.focus({preventScroll:!0});else{const e=Kr(r);r.focus(),Ar(e)}}function Ar(r){for(const{element:e,scrollTop:t,scrollLeft:n}of r)e.scrollTop=t,e.scrollLeft=n}function Kr(r){let e=r.parentNode;const t=[],n=document.scrollingElement||document.documentElement;for(;e instanceof HTMLElement&&e!==n;)(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&t.push({element:e,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),e=e.parentNode;return n instanceof HTMLElement&&t.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),t}function $e(r){return r.mozInputSource===0&&r.isTrusted?!0:Mr()&&r.pointerType?r.type==="click"&&r.buttons===1:r.detail===0&&!r.pointerType}function Or(r){if(!(r instanceof HTMLElement)&&!(r instanceof SVGElement))return!1;const{display:e,visibility:t}=r.style;let n=e!=="none"&&t!=="hidden"&&t!=="collapse";if(n){const{getComputedStyle:i}=r.ownerDocument.defaultView,{display:a,visibility:c}=i(r);n=a!=="none"&&c!=="hidden"&&c!=="collapse"}return n}function Ur(r,e){return!r.hasAttribute("hidden")&&(r.nodeName==="DETAILS"&&e&&e.nodeName!=="SUMMARY"?r.hasAttribute("open"):!0)}function _e(r,e){return r.nodeName!=="#comment"&&Or(r)&&Ur(r,e)&&(!r.parentElement||_e(r.parentElement,r))}function Br(r,e){return e.some(t=>t.contains(r))}function ne(r,e,t){const n=e!=null&&e.tabbable?$r:wr,i=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode(a){var c;return(c=e==null?void 0:e.from)!=null&&c.contains(a)?NodeFilter.FILTER_REJECT:a.matches(n)&&_e(a)&&(!t||Br(a,t))&&(!(e!=null&&e.accept)||e.accept(a))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return e!=null&&e.from&&(i.currentNode=e.from),i}function Hr(r){Y(r)}function G(r,e=!1){if(r!=null&&!e)try{Hr(r)}catch{}else if(r!=null)try{r.focus()}catch{}}function de(r){let e,t;do t=r.lastChild(),t&&(e=t);while(t);return e}function $t(r,e={}){return{focusNext(t={}){const n=r.current;if(!n)return;const{from:i,tabbable:a=e.tabbable,wrap:c=e.wrap,accept:f=e.accept}=t,h=i||document.activeElement,d=ne(n,{tabbable:a,accept:f});n.contains(h)&&(d.currentNode=h);let b=d.nextNode();return!b&&c&&(d.currentNode=n,b=d.nextNode()),b&&G(b,!0),b},focusPrevious(t=e){const n=r.current;if(!n)return;const{from:i,tabbable:a=e.tabbable,wrap:c=e.wrap,accept:f=e.accept}=t,h=i||document.activeElement,d=ne(n,{tabbable:a,accept:f});if(n.contains(h))d.currentNode=h;else{const g=de(d);return g&&G(g,!0),g}let b=d.previousNode();return!b&&c&&(d.currentNode=n,b=de(d)),b&&G(b,!0),b},focusFirst(t=e){const n=r.current;if(!n)return;const{tabbable:i=e.tabbable,accept:a=e.accept}=t,f=ne(n,{tabbable:i,accept:a}).nextNode();return f&&G(f,!0),f},focusLast(t=e){const n=r.current;if(!n)return;const{tabbable:i=e.tabbable,accept:a=e.accept}=t,c=ne(n,{tabbable:i,accept:a}),f=de(c);return f&&G(f,!0),f}}}class Et{constructor(e,t){this.nativeEvent=t,this.target=t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget,this.bubbles=t.bubbles,this.cancelable=t.cancelable,this.defaultPrevented=t.defaultPrevented,this.eventPhase=t.eventPhase,this.isTrusted=t.isTrusted,this.timeStamp=t.timeStamp,this.type=e}isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}}function Ee(r){for(xe(r)&&(r=r.parentElement);r&&!xe(r);)r=r.parentElement;return r||document.scrollingElement||document.documentElement}function xe(r){const e=window.getComputedStyle(r);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}function Re(r,e,t){const n=t==="left"?"offsetLeft":"offsetTop";let i=0;for(;e.offsetParent&&(i+=e[n],e.offsetParent!==r);){if(e.offsetParent.contains(r)){i-=r[n];break}e=e.offsetParent}return i}function Wr(r,e){const t=Re(r,e,"left"),n=Re(r,e,"top"),i=e.offsetWidth,a=e.offsetHeight;let c=r.scrollLeft,f=r.scrollTop;const{borderTopWidth:h,borderLeftWidth:d}=getComputedStyle(r),b=r.scrollLeft+parseInt(d,10),g=r.scrollTop+parseInt(h,10),C=b+r.clientWidth,v=g+r.clientHeight;t<=c?c=t-parseInt(d,10):t+i>C&&(c+=t+i-C),n<=g?f=n-parseInt(h,10):n+a>v&&(f+=n+a-v),r.scrollLeft=c,r.scrollTop=f}function xt(r,e){var t,n,i,a;if(document.contains(r)){const c=document.scrollingElement||document.documentElement;if(window.getComputedStyle(c).overflow==="hidden"){let h=Ee(r);for(;r&&h&&r!==c&&h!==c;)Wr(h,r),r=h,h=Ee(r)}else{const{left:h,top:d}=r.getBoundingClientRect();(t=r==null?void 0:r.scrollIntoView)==null||t.call(r,{block:"nearest"});const{left:b,top:g}=r.getBoundingClientRect();(Math.abs(h-b)>1||Math.abs(d-g)>1)&&((i=(n=e==null?void 0:e.containingElement)==null?void 0:n.scrollIntoView)==null||i.call(n,{block:"center",inline:"center"}),(a=r.scrollIntoView)==null||a.call(r,{block:"nearest"}))}}}let jr=0;const fe=new Map;function Zr(r){const[e,t]=p.useState(void 0);return p.useLayoutEffect(()=>{if(!r)return;let n=fe.get(r);if(n)t(n.element.id);else{const i=`react-aria-description-${jr++}`;t(i);const a=document.createElement("div");a.id=i,a.style.display="none",a.textContent=r,document.body.appendChild(a),n={refCount:0,element:a},fe.set(r,n)}return n.refCount++,()=>{n&&--n.refCount===0&&(n.element.remove(),fe.delete(r))}},[r]),{"aria-describedby":r?e:void 0}}function Vr(){const r=p.useRef(new Map),e=p.useCallback((i,a,c,f)=>{const h=f!=null&&f.once?(...d)=>{r.current.delete(c),c(...d)}:c;r.current.set(c,{type:a,eventTarget:i,fn:h,options:f}),i.addEventListener(a,c,f)},[]),t=p.useCallback((i,a,c,f)=>{var d;const h=((d=r.current.get(c))==null?void 0:d.fn)||c;i.removeEventListener(a,h,f),r.current.delete(c)},[]),n=p.useCallback(()=>{r.current.forEach((i,a)=>{t(i.eventTarget,i.type,a,i.options)})},[t]);return p.useEffect(()=>n,[n]),{addGlobalListener:e,removeGlobalListener:t,removeAllGlobalListeners:n}}const Ge=p.createContext(null);Ge.displayName="PressResponderContext";function _r(r,e){p.useLayoutEffect(()=>(r!=null&&r.ref&&e&&(r.ref.current=e.current),()=>{r!=null&&r.ref&&e&&(r.ref.current=null)}),[r,e])}function Gr(r){const e=p.useContext(Ge);if(e){const{register:t,...n}=e;r={...n,...r},t()}return _r(e,r.ref),r}function O(r,e){return{currentTarget:r,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey}}function ke(r,e){return r instanceof HTMLInputElement?!Ze(r,e):r instanceof HTMLButtonElement?r.type!=="submit":!0}function ge(r){return!(r instanceof HTMLElement)||!r.draggable}function Yr(r){const{targetTouches:e}=r;return e.length>0?e[0]:null}function zr(r){const{onPress:e,onPressChange:t,onPressStart:n,onPressEnd:i,onPressUp:a,isDisabled:c,isPressed:f,preventFocusOnPress:h,shouldCancelOnPointerExit:d,allowTextSelectionOnPress:b,ref:g,...C}=Gr(r),v=p.useRef(null);v.current={onPress:e,onPressChange:t,onPressStart:n,onPressEnd:i,onPressUp:a,isDisabled:c,shouldCancelOnPointerExit:d};const[P,D]=p.useState(!1),x=p.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:"mouse"}),{addGlobalListener:k,removeAllGlobalListeners:m}=Vr(),I=p.useMemo(()=>{const o=x.current,L=(l,F)=>{if(!v.current)return;const{onPressStart:u,onPressChange:s,isDisabled:w}=v.current;w||o.didFirePressStart||(u&&u({type:"pressstart",pointerType:F,target:l.currentTarget,shiftKey:l.shiftKey,metaKey:l.metaKey,ctrlKey:l.ctrlKey,altKey:l.altKey}),s&&s(!0),o.didFirePressStart=!0,D(!0))},T=(l,F,u=!0)=>{if(!v.current||!F)return;const{onPressEnd:s,onPressChange:w,onPress:y,isDisabled:R}=v.current;o.didFirePressStart&&(o.ignoreClickAfterPress=!0,o.didFirePressStart=!1,y&&u&&!R&&y({type:"press",pointerType:F,target:l.currentTarget,shiftKey:l.shiftKey,metaKey:l.metaKey,ctrlKey:l.ctrlKey,altKey:l.altKey}),s&&s({type:"pressend",pointerType:F,target:l.currentTarget,shiftKey:l.shiftKey,metaKey:l.metaKey,ctrlKey:l.ctrlKey,altKey:l.altKey}),w&&w(!1),D(!1))},S=(l,F)=>{if(!v.current)return;const{onPressUp:u,isDisabled:s}=v.current;s||u&&u({type:"pressup",pointerType:F,target:l.currentTarget,shiftKey:l.shiftKey,metaKey:l.metaKey,ctrlKey:l.ctrlKey,altKey:l.altKey})},$=l=>{o.isPressed&&(o.isOverTarget&&T(O(o.target,l),o.pointerType,!1),o.isPressed=!1,o.isOverTarget=!1,o.activePointerId=null,o.pointerType="mouse",m(),b||re(o.target))},M={"aria-label":"","aria-labelledby":void 0,onKeyDown(l){ue(l.nativeEvent,l.currentTarget)&&l.currentTarget.contains(l.target)?(ke(l.target,l.key)&&l.preventDefault(),l.stopPropagation(),!o.isPressed&&!l.repeat&&(o.target=l.currentTarget,o.isPressed=!0,L(l,"keyboard"),k(document,"keyup",N,!1))):l.key==="Enter"&&he(l.currentTarget)&&l.stopPropagation()},onKeyUp(l){S(O(o.target,l),"keyboard"),ue(l.nativeEvent,l.currentTarget)&&l.currentTarget.contains(l.target)&&S(O(o.target,l),"keyboard")},onClick(l){l.currentTarget.contains(l.target)&&l&&l.button===0&&(l.stopPropagation(),c&&l.preventDefault(),!o.ignoreClickAfterPress&&!o.ignoreEmulatedMouseEvents&&(o.pointerType==="virtual"||$e(l.nativeEvent))&&(!c&&!h&&Y(l.currentTarget),L(l,"virtual"),S(l,"virtual"),T(l,"virtual")),o.ignoreEmulatedMouseEvents=!1,o.ignoreClickAfterPress=!1)}},N=l=>{if(o.isPressed&&ue(l,o.target)){ke(l.target,l.key)&&l.preventDefault(),l.stopPropagation(),o.isPressed=!1;const F=l.target;o.target&&T(O(o.target,l),"keyboard",o.target.contains(F)),m(),o.target instanceof HTMLElement&&o.target.contains(F)&&(he(o.target)||o.target.getAttribute("role")==="link")&&o.target.click()}};if(typeof p.PointerEvent<"u"){M.onPointerDown=s=>{if(!(s.button!==0||!s.currentTarget.contains(s.target))){if(Cr(s.nativeEvent)){o.pointerType="virtual";return}ge(s.currentTarget)&&s.preventDefault(),o.pointerType=s.pointerType,s.stopPropagation(),o.isPressed||(o.isPressed=!0,o.isOverTarget=!0,o.activePointerId=s.pointerId,o.target=s.currentTarget,!c&&!h&&Y(s.currentTarget),b||we(o.target),L(s,o.pointerType),k(document,"pointermove",l,!1),k(document,"pointerup",F,!1),k(document,"pointercancel",u,!1))}},M.onMouseDown=s=>{s.currentTarget.contains(s.target)&&s.button===0&&(ge(s.currentTarget)&&s.preventDefault(),s.stopPropagation())},M.onPointerUp=s=>{!s.currentTarget.contains(s.target)||o.pointerType==="virtual"||s.button===0&&ee(s,s.currentTarget)&&S(s,o.pointerType||s.pointerType)};const l=s=>{s.pointerId===o.activePointerId&&(ee(s,o.target)?o.isOverTarget||(o.isOverTarget=!0,L(O(o.target,s),o.pointerType)):o.isOverTarget&&(o.isOverTarget=!1,T(O(o.target,s),o.pointerType,!1),v.current.shouldCancelOnPointerExit&&$(s)))},F=s=>{s.pointerId===o.activePointerId&&o.isPressed&&s.button===0&&(ee(s,o.target)?T(O(o.target,s),o.pointerType):o.isOverTarget&&T(O(o.target,s),o.pointerType,!1),o.isPressed=!1,o.isOverTarget=!1,o.activePointerId=null,o.pointerType="pen",m(),b||re(o.target))},u=s=>{$(s)};M.onDragStart=s=>{s.currentTarget.contains(s.target)&&$(s)}}else{M.onMouseDown=u=>{u.button!==0||!u.currentTarget.contains(u.target)||(ge(u.currentTarget)&&u.preventDefault(),u.stopPropagation(),!o.ignoreEmulatedMouseEvents&&(o.isPressed=!0,o.isOverTarget=!0,o.target=u.currentTarget,o.pointerType=$e(u.nativeEvent)?"virtual":"mouse",!c&&!h&&Y(u.currentTarget),L(u,o.pointerType),k(document,"mouseup",l,!1)))},M.onMouseEnter=u=>{u.currentTarget.contains(u.target)&&(u.stopPropagation(),o.isPressed&&!o.ignoreEmulatedMouseEvents&&(o.isOverTarget=!0,L(u,o.pointerType)))},M.onMouseLeave=u=>{u.currentTarget.contains(u.target)&&(u.stopPropagation(),o.isPressed&&!o.ignoreEmulatedMouseEvents&&(o.isOverTarget=!1,T(u,o.pointerType,!1),v.current.shouldCancelOnPointerExit&&$(u)))},M.onMouseUp=u=>{u.currentTarget.contains(u.target)&&!o.ignoreEmulatedMouseEvents&&u.button===0&&S(u,o.pointerType)};const l=u=>{if(u.button===0){if(o.isPressed=!1,m(),o.ignoreEmulatedMouseEvents){o.ignoreEmulatedMouseEvents=!1;return}ee(u,o.target)?T(O(o.target,u),o.pointerType):o.isOverTarget&&T(O(o.target,u),o.pointerType,!1),o.isOverTarget=!1}};M.onTouchStart=u=>{if(!u.currentTarget.contains(u.target))return;u.stopPropagation();const s=Yr(u.nativeEvent);s&&(o.activePointerId=s.identifier,o.ignoreEmulatedMouseEvents=!0,o.isOverTarget=!0,o.isPressed=!0,o.target=u.currentTarget,o.pointerType="touch",!c&&!h&&Y(u.currentTarget),b||we(o.target),L(u,o.pointerType),k(window,"scroll",F,!0))},M.onTouchMove=u=>{u.currentTarget.contains(u.target)&&(u.stopPropagation(),o.isPressed)},M.onTouchEnd=u=>{u.currentTarget.contains(u.target)&&(u.stopPropagation(),o.isPressed&&(o.isPressed=!1,o.activePointerId=null,o.isOverTarget=!1,o.ignoreEmulatedMouseEvents=!0,b||re(o.target),m()))},M.onTouchCancel=u=>{u.currentTarget.contains(u.target)&&(u.stopPropagation(),o.isPressed&&$(u))};const F=u=>{o.isPressed&&u.target.contains(o.target)&&$({currentTarget:o.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};M.onDragStart=u=>{u.currentTarget.contains(u.target)&&$(u)}}return M},[k,c,h,m,b]);return p.useEffect(()=>()=>{b||re(x.current.target)},[b]),{isPressed:f??P,pressProps:{...C,...I}}}function Me(r,e){var N,l,F,u,s,w;let{date:t,isDisabled:n}=r;const{errorMessageId:i,selectedDateDescription:a}=je.get(e)??{errorMessageId:void 0,selectedDateDescription:""},c=ie({weekday:"long",day:"numeric",month:"long",year:"numeric",era:void 0,timeZone:e.timeZone});let f=(N=e.isSelected)==null?void 0:N.call(e,t);const h=(l=e.isCellFocused)==null?void 0:l.call(e,t);n=n||((F=e.isCellDisabled)==null?void 0:F.call(e,t));const d=(u=e.isCellUnavailable)==null?void 0:u.call(e,t),b=!n&&!d,g=e.validationState==="invalid"&&("highlightedRange"in e?!e.anchorDate&&e.highlightedRange&&t.compare(e.highlightedRange.start)>=0&&t.compare(e.highlightedRange.end)<=0:e.value&&A(e.value,t));g&&(f=!0);const C=p.useRef();C.current&&rr(t,C.current)&&(t=C.current),C.current=t;const v=p.useMemo(()=>t.toDate(e.timeZone??"UTC"),[t,e.timeZone]),P=Ue(t,e.timeZone??"UTC"),D=p.useMemo(()=>{let y="";return"highlightedRange"in e&&e.value&&!e.anchorDate&&(A(t,e.value.start)||A(t,e.value.end))&&(y=a+", "),y+=c.format(v),P?y=f?"I dag, {date} selected".replace("{date}",y):"I dag, {date}".replace("{date}",y):f&&(y="{date} selected".replace("{date}",y)),e.minValue&&A(t,e.minValue)?y+=", First available date":e.maxValue&&A(t,e.maxValue)&&(y+=", Last available date"),y},[c,v,f,P,t,e,a]);let x="";"anchorDate"in e&&h&&!e.isReadOnly&&b&&(e.anchorDate?x="Click to finish selecting date range":x="Click to start selecting date range");const k=Zr(x),m=p.useRef(!1),I=p.useRef(!1),o=p.useRef(),{pressProps:L,isPressed:T}=zr({shouldCancelOnPointerExit:"anchorDate"in e&&!!e.anchorDate,preventFocusOnPress:!0,isDisabled:!b||e.isReadOnly,onPressStart(y){var R,U,K;if(e.isReadOnly){(R=e.setFocusedDate)==null||R.call(e,t);return}if("highlightedRange"in e&&!e.anchorDate&&(y.pointerType==="mouse"||y.pointerType==="touch")){if(e.highlightedRange&&!g){if(A(t,e.highlightedRange.start)){e.setAnchorDate(e.highlightedRange.end),(U=e.setFocusedDate)==null||U.call(e,t),e.setDragging(!0),I.current=!0;return}else if(A(t,e.highlightedRange.end)){e.setAnchorDate(e.highlightedRange.start),(K=e.setFocusedDate)==null||K.call(e,t),e.setDragging(!0),I.current=!0;return}}const Z=()=>{var V,_;e.setDragging(!0),o.current=null,(V=e.selectDate)==null||V.call(e,t),(_=e.setFocusedDate)==null||_.call(e,t),m.current=!0};y.pointerType==="touch"?o.current=setTimeout(Z,200):Z()}},onPressEnd(){I.current=!1,m.current=!1,clearTimeout(o.current),o.current=null},onPress(){var y,R;!("anchorDate"in e)&&!e.isReadOnly&&((y=e.selectDate)==null||y.call(e,t),(R=e.setFocusedDate)==null||R.call(e,t))},onPressUp(y){var R,U,K,Z,V,_,ve,Pe,Te,De;if(!e.isReadOnly&&("anchorDate"in e&&o.current&&((R=e.selectDate)==null||R.call(e,t),(U=e.setFocusedDate)==null||U.call(e,t)),"anchorDate"in e))if(I.current)e.setAnchorDate(t);else if(e.anchorDate&&!m.current)(K=e.selectDate)==null||K.call(e,t),(Z=e.setFocusedDate)==null||Z.call(e,t);else if(y.pointerType==="keyboard"&&!e.anchorDate){(V=e.selectDate)==null||V.call(e,t);let J=t.add({days:1});(_=e.isInvalid)!=null&&_.call(e,J)&&(J=t.subtract({days:1})),(ve=e.isInvalid)!=null&&ve.call(e,J)||(Pe=e.setFocusedDate)==null||Pe.call(e,J)}else y.pointerType==="virtual"&&((Te=e.selectDate)==null||Te.call(e,t),(De=e.setFocusedDate)==null||De.call(e,t))}});let S;n||(S=A(t,e.focusedDate)?0:-1);const $=ie({day:"numeric",timeZone:e.timeZone,calendar:t.calendar.identifier}),M=p.useMemo(()=>{var y;return(y=$.formatToParts(v).find(R=>R.type==="day"))==null?void 0:y.value},[$,v]);return{cellProps:{role:"gridcell","aria-disabled":!b,"aria-selected":f,"aria-invalid":g},buttonProps:{...L,onFocus(){var y;n||(y=e.setFocusedDate)==null||y.call(e,t)},tabIndex:S,role:"button","aria-disabled":!b,"aria-label":D,"aria-invalid":g,"aria-describedby":[g?i:null,k["aria-describedby"]].filter(Boolean).join(" ")||void 0,onPointerEnter(y){"highlightDate"in e&&(y.pointerType!=="touch"||e.isDragging)&&b&&e.highlightDate(t)},onContextMenu(y){y.preventDefault()}},isPressed:T,isFocused:h,isSelected:f,isDisabled:n,isUnavailable:d,isOutsideVisibleRange:t.compare((s=e==null?void 0:e.visibleRange)==null?void 0:s.start)<0||t.compare((w=e==null?void 0:e.visibleRange)==null?void 0:w.end)>0,isInvalid:g,formattedDate:M}}const Xr=dr.forwardRef((r,e)=>{const{state:t,date:n,currentMonth:i,css:a={},maxValue:c=Be("2099-02-17")}=r,f=gr(e),{cellProps:h,buttonProps:d,isSelected:b,isUnavailable:g,formattedDate:C}=Me({date:n},t);let{isDisabled:v}=Me({date:n},t);const P=!tr(i,n),D=Ue(n,nr()),x="highlightedRange"in t;let k=!1,m=!1;x&&(k=t.highlightedRange?A(n,t.highlightedRange.start):b,m=t.highlightedRange?A(n,t.highlightedRange.end):b);const I=()=>{let S="";return T&&(S+="focused "),b&&x?S+="selected ":b&&!x&&(S+="highlighted "),(k||m)&&(S+="highlighted "),g&&(S+="unavailable "),D&&(S+="today "),S};(()=>{c&&n>c&&(v=!0)})();const{focusProps:L,isFocusVisible:T}=or();return E(fr,{children:v?E(Ce,{...h,css:a,className:I(),children:E("div",{ref:f,hidden:P,className:`calendar-cell-value  disabled ${b?"selected":""}`,children:C})}):E(Ce,{...h,css:a,className:I(),"aria-label":d["aria-label"],"aria-disabled":d["aria-disabled"],"aria-invalid":d["aria-invalid"],role:d.role,tabIndex:d.tabIndex,...L,onClick:S=>{var $;($=d.onMouseDown)==null||$.call(d,S)},onMouseDown:S=>{var $;($=d.onMouseDown)==null||$.call(d,S)},children:E("div",{ref:f,hidden:P,className:`calendar-cell-value  ${v?"disabled":""} ${b?"selected":""}`,children:C})})})}),qr=Xr,Jr=ae("table",{marginTop:"$2",borderCollapse:"collapse","& .calendar-weekday":{fontSize:"$label2",fontWeight:"$semibold",color:"$cdgBlue120"},"& th, & td":{width:"$10"},"& td":{height:"$8"},"& td > div":{display:"flex",justifyContent:"center"}}),Qr=ae("tr",{height:"$8"}),Ye={prefix:String(Math.round(Math.random()*1e10)),current:0,isSSR:!1};function et(r=!1){const e=p.useContext(ze),t=p.useRef(null);return t.current===null&&!r&&(t.current=++e.current),t.current}const rt=!!(typeof window<"u"&&window.document.createElement),ze=p.createContext(Ye);function tt(r){const e=p.useContext(ze);e===Ye&&!rt&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");const t=et(!!r);return r??`compass-design${e.prefix}-${t}`}const Fe=new Map;function pe(r){const[e,t]=p.useState(r),n=p.useRef(null),i=tt(e),a=p.useCallback(c=>{n.current=c},[]);return Fe.set(i,a),p.useLayoutEffect(()=>{const c=i;return()=>{Fe.delete(c)}},[i]),p.useEffect(()=>{const c=n.current;c&&(n.current=null,t(c))}),i}function Xe(r,e){let{id:t,"aria-label":n,"aria-labelledby":i}=r;return t=pe(t),i&&n?i=[...new Set([...i.trim().split(/\s+/),t])].join(" "):i&&(i=i.trim().split(/\s+/).join(" ")),!n&&!i&&e&&(n=e),{id:t,"aria-label":n,"aria-labelledby":i}}function Rt(r){const{label:e,"aria-label":t,labelElementType:n="label"}=r;let{id:i,"aria-labelledby":a}=r;i=pe(i);const c=pe();let f={};e?(a=a?`${a} ${c}`:c,f={id:c,htmlFor:n==="label"?i:void 0}):!a&&!t&&console.warn("If you do not provide a visible label, you must specify an aria-label or aria-labelledby attribute for accessibility");const h=Xe({id:i,"aria-label":t,"aria-labelledby":a});return{labelProps:f,fieldProps:h}}function nt(r,e){const t=ie({month:"long",year:"numeric",era:void 0,calendar:r.calendar.identifier,timeZone:e});return p.useMemo(()=>t.format(r.toDate(e)),[r,t,e])}function ot(r,e){var b;const{startDate:t=(b=e.visibleRange)==null?void 0:b.start}=r,{direction:n}=He(),i=nt(t,e.timeZone??"UTC"),{ariaLabel:a,ariaLabelledBy:c}=je.get(e)??{ariaLabel:void 0,ariaLabelledBy:void 0},f=Xe({id:"","aria-label":[a,i].filter(Boolean).join(", "),"aria-labelledby":c}),h=["SUN","MON","TUE","WED","THU","FRI","SAT"],d=g=>{var C,v,P,D,x,k,m,I,o,L,T;switch(g.key){case"Enter":case" ":g.preventDefault(),(C=e.selectFocusedDate)==null||C.call(e);break;case"PageUp":g.preventDefault(),g.stopPropagation(),(v=e.focusPreviousSection)==null||v.call(e,g.shiftKey);break;case"PageDown":g.preventDefault(),g.stopPropagation(),(P=e.focusNextSection)==null||P.call(e,g.shiftKey);break;case"End":g.preventDefault(),g.stopPropagation(),(D=e.focusSectionEnd)==null||D.call(e);break;case"Home":g.preventDefault(),g.stopPropagation(),(x=e.focusSectionStart)==null||x.call(e);break;case"ArrowLeft":g.preventDefault(),g.stopPropagation(),n==="rtl"?(k=e.focusNextDay)==null||k.call(e):(m=e.focusPreviousDay)==null||m.call(e);break;case"ArrowUp":g.preventDefault(),g.stopPropagation(),(I=e.focusPreviousRow)==null||I.call(e);break;case"ArrowRight":g.preventDefault(),g.stopPropagation(),n==="rtl"?(o=e.focusPreviousDay)==null||o.call(e):(L=e.focusNextDay)==null||L.call(e);break;case"ArrowDown":g.preventDefault(),g.stopPropagation(),(T=e.focusNextRow)==null||T.call(e);break;case"Escape":"setAnchorDate"in e&&(g.preventDefault(),e.setAnchorDate(null));break}};return{gridProps:{...f,role:"grid","aria-readonly":e.isReadOnly||null,"aria-disabled":e.isDisabled||null,"aria-multiselectable":"highlightedRange"in e||void 0,onKeyDown:d,onFocus:()=>{var g;return(g=e.setFocused)==null?void 0:g.call(e,!0)},onBlur:()=>{var g;return(g=e.setFocused)==null?void 0:g.call(e,!1)}},headerProps:{"aria-hidden":!0},weekDays:h}}const it={days:0,months:0,weeks:0,years:0},at=r=>{var v;const{state:e,offset:t=it,css:n={},maxValue:i=Be("2999-02-17")}=r,{locale:a}=He(),c=(v=e==null?void 0:e.visibleRange)==null?void 0:v.start.add(t),f=We(c),{gridProps:h,headerProps:d,weekDays:b}=ot({startDate:c,endDate:f},e),g=ir(c,a),C=[...new Array(g).keys()].length===5;return z(Jr,{...h,css:n,cellPadding:"0",className:"cdg-calendar-grid",children:[E("thead",{...d,children:E("tr",{children:b.map((P,D)=>E("th",{className:"calendar-weekday",children:P},D))})}),z("tbody",{children:[[...new Array(g).keys()].map(P=>{var D;return E("tr",{children:(D=e.getDatesInWeek)==null?void 0:D.call(e,P,c).map((x,k)=>x?E(qr,{state:e,date:x,currentMonth:c,maxValue:i},k):E("td",{},k))},P)}),C&&E(Qr,{"aria-hidden":!0,className:"week-sixth-placeholder"})]})]})},kt=at,st=ae("div",{display:"flex",alignItems:"center",justifyContent:"space-between","& .calendar-header-left-side, & .calendar-header-right-side":{display:"flex",alignItems:"center",flex:1},"& h2":{fontWeight:"$semibold",fontSize:"$body3",color:"$cdgBlue100",margin:0,marginLeft:"auto",marginRight:"auto"},"& .calendar-header-icon":{width:"$3",height:"$3"}}),ct=r=>{var h,d;const{state:e,variant:t="default",calendarProps:n,prevButtonProps:i,nextButtonProps:a,css:c={}}=r,f=ie({month:"long",year:"numeric",timeZone:e.timeZone});return z(st,{css:c,children:[E(ar,{children:E("h2",{children:n["aria-label"]})}),z("div",{className:"calendar-header-left-side",children:[E(ce,{variant:"ghost",...i,children:E(se,{className:"calendar-header-icon chevron-left",icon:hr})}),E("h2",{"aria-hidden":!0,children:f.format((h=e==null?void 0:e.visibleRange)==null?void 0:h.start.toDate(e.timeZone??"UTC"))}),t==="default"&&E(ce,{variant:"ghost",...a,children:E(se,{className:"calendar-header-icon chevron-right",icon:Se})})]}),t==="range"&&z("div",{className:"calendar-header-right-side",children:[E("h2",{"aria-hidden":!0,children:f.format((d=e==null?void 0:e.visibleRange)==null?void 0:d.start.add({months:1}).toDate(e.timeZone??"UTC"))}),E(ce,{variant:"ghost",...a,children:E(se,{className:"calendar-header-icon chevron-right",icon:Se})})]})]})},Mt=ct;function Ie(r,e,t){const[n,i]=p.useState(r||e),a=p.useRef(r!==void 0),c=a.current,f=r!==void 0,h=p.useRef(n);c!==f&&console.warn(`WARN: A component changed from ${c?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}.`),a.current=f;const d=p.useCallback((b,...g)=>{const C=(v,...P)=>{t&&(Object.is(h.current,v)||t(v,...P)),f||(h.current=v)};typeof b=="function"?(console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),i((P,...D)=>{const x=b(f?h.current:P,...D);return C(x,...g),f?P:x})):(f||i(b),C(b,...g))},[f,t]);return f?h.current=r:r=n,[r,d]}function Le(r){const e={...r};for(const t in r)e[t]=1;return e}const Ft=r=>{const{locale:e,createCalendar:t,visibleDuration:n={months:1},minValue:i,maxValue:a,isDateUnavailable:c,onChange:f}=r,h=()=>{},[d,b]=Ie(r.value,r.defaultValue,f),g=p.useMemo(()=>new sr(e),[e]),C=p.useMemo(()=>g.resolvedOptions(),[g]),v=p.useMemo(()=>d&&"timeZone"in d?d.timeZone:C.timeZone,[d,C.timeZone]),P=p.useMemo(()=>t(C.calendar),[t,C.calendar]),D=p.useMemo(()=>d?B(H(d),P):null,[d,P]),x=p.useMemo(()=>r.focusedValue?W(B(H(r.focusedValue),P),i,a):void 0,[r.focusedValue,P,i,a]),k=p.useMemo(()=>W(r.defaultFocusedValue?B(H(r.defaultFocusedValue),P):D??B(cr(v),P),i,a),[r.defaultFocusedValue,D,v,P,i,a]),[m,I]=Ie(x,k,h),[o,L]=p.useState(r.autoFocus||!1),[T,S]=p.useState(()=>Q(m,{months:1},e,i,a)),$=p.useMemo(()=>{const s={...n};return T.add(s)},[T]),M=p.useRef(P.identifier);if(P.identifier!==M.current){const s=B(m,P);S(Q(s,n,e,i,a)),I(s),M.current=P.identifier}i&&a&&le(m,i,a)?I(W(m,i,a)):(m&&m.compare(T)<0||m&&m.compare($)>0)&&S(Q(m,n,e,i,a));function N(s){s=W(s,i,a),I(s)}function l(s){if(!r.isDisabled&&!r.isReadOnly){if(s=W(s,i,a),s=yr(s,T,c),!s)return;s=B(s,(d==null?void 0:d.calendar)??new ur),d&&"hour"in d?b(d.set(s)):b(s)}}const F=p.useMemo(()=>!i||!a?!0:D?c&&c(D)?!0:le(D,i,a):!1,[D,c,i,a]),u=r.validationState||(F?"invalid":null);return{isDisabled:r.isDisabled??!1,isReadOnly:r.isReadOnly??!1,value:D,setValue:l,visibleRange:{start:T,end:$},minValue:i,maxValue:a,focusedDate:m,timeZone:v,validationState:u,setFocusedDate(s){N(s),L(!0)},focusNextDay(){N(m.add({days:1}))},focusPreviousDay(){N(m.subtract({days:1}))},focusNextRow(){N(m.add({weeks:1}))},focusPreviousRow(){N(m.subtract({weeks:1}))},focusNextPage(){const s=T.add(n);I(W(m.add(n),i,a)),S(X(q(m,s,n,e,i,a),n,e))},focusPreviousPage(){const s=T.subtract(n);I(W(m.subtract(n),i,a)),S(X(q(m,s,n,e,i,a),n,e))},focusSectionStart(){n.months&&N(Ne(m))},focusSectionEnd(){n.months&&N(We(m))},focusNextSection(s){if(s)N(m.add({years:1}));else{N(m.add(Le(n)));return}},focusPreviousSection(s){if(s)N(m.subtract({years:1}));else{N(m.subtract(Le(n)));return}},selectFocusedDate(){l(m)},selectDate(s){l(s)},isFocused:o,setFocused:L,isInvalid(s){return le(s,i,a)},isCellUnavailable(s){var w;return((w=r.isDateUnavailable)==null?void 0:w.call(r,s))??!1},isSelected(s){var w,y;return D!=null&&A(s,D)&&!((w=this.isCellDisabled)!=null&&w.call(this,s))&&!((y=this.isCellUnavailable)!=null&&y.call(this,s))},isCellFocused(s){return o&&A(s,m)},isCellDisabled(s){var w;return r.isDisabled||s.compare(T)<0||s.compare($)>0||((w=this.isInvalid)==null?void 0:w.call(this,s))},isPreviousVisibleRangeInvalid(){var w;const s=T.subtract({days:1});return A(s,T)||((w=this.isInvalid)==null?void 0:w.call(this,s))},isNextVisibleRangeInvalid(){var w;const s=$.add({days:1});return A(s,$)||((w=this.isInvalid)==null?void 0:w.call(this,s))},getDatesInWeek(s,w=T){let y=w.add({weeks:s});const R=[];y=Ae(y,e);const U=lr(y,e);for(let K=0;K<U;K++)R.push(null);for(;R.length<7;){R.push(y);const K=y.add({days:1});if(A(y,K))break;y=K}for(;R.length<7;)R.push(null);return R}}};export{kt as A,Q as B,Mt as C,yt as D,W as E,yr as F,Dt as M,Et as S,Zr as a,Ie as b,$t as c,mt as d,wt as e,Tt as f,pt as g,zr as h,le as i,ne as j,Rt as k,je as l,pr as m,vt as n,Pt as o,St as p,Vr as q,Ct as r,Ve as s,Xe as t,pe as u,xr as v,xt as w,Ee as x,nt as y,Ft as z};

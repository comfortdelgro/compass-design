import{e as B,v as Qe,w as Oe,x as ve,y as Ue,b as Z,z as Be,A as et,B as tt,c as rt,k as q,C as A,D as nt,E as Ze,d as He,F as ot,G as he,H as it,$ as be,J as We,K as je,L as at,M as st,a as ct,N as lt,i as ut}from"./import-0e52c6a7.js";import{s as ae,r as b,R as dt,j as x,F as ft,a as X}from"./index-e285302b.js";import{u as gt}from"./use-dom-ref-58648911.js";import{t as ht,m as $e}from"./index-c774b727.js";import"./index-76d34920.js";import{a as se}from"./index-e91c34d0.js";import{B as ce}from"./button-1deb7e4d.js";const xe=ae("td",{cursor:"pointer","&.focused":{height:"100%",outline:"$cdgBlue120 solid 2px"},"&.today .calendar-cell-value":{color:"$cdgBlue",fontWeight:"bold"},"&:hover":{backgroundColor:"$cdgBlue40 !important",borderRadius:"$md"},"&.selected":{backgroundColor:"$gray20"},"&.highlighted":{backgroundColor:"$cdgBlue100",borderRadius:"$md"},"&.unavailable .calendar-cell-value":{textDecoration:"line-through",color:"$gray50"},"&.highlighted .calendar-cell-value":{color:"$whiteText"},"& .calendar-cell-value":{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",fontSize:"$body3",color:"$gray100"},"& .calendar-cell-value.disabled":{cursor:"not-allowed",color:"$gray50"}}),bt={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit"},Ve=new WeakMap;function le(t,e,r){return t==null?!1:e!=null&&t.compare(e)<0||r!=null&&t.compare(r)>0}function pt(t,e){if(t===null)return null;if(t)return B(t,e)}const te=(t,e,r,n,i)=>{const a={months:0},c=J(t,e,r).subtract(a);return Q(t,c,e,r,n,i)};function J(t,e,r,n,i){let a=t;return e.years?a=Qe(t):e.months?a=Oe(t):e.weeks&&(a=ve(t,r)),Q(t,a,e,r,n,i)}function Q(t,e,r,n,i,a){return i&&t.compare(i)>=0&&(e=Ue(e,J(Z(i),r,n))),a&&t.compare(a)<=0&&(e=Be(e,mt(Z(a),r,n))),e}function mt(t,e,r,n,i){const a={...e};a.days?a.days--:a.weeks?a.weeks--:a.months?a.months--:a.years&&a.years--;const c=J(t,e,r).subtract(a);return Q(t,c,e,r,n,i)}function H(t,e,r){return e&&(t=Ue(t,Z(e))),r&&(t=Be(t,Z(r))),t}function yt(t,e,r){if(!e)return null;if(!r)return t;for(;t.compare(e)>=0&&r(t);)t=t.subtract({days:1});return t.compare(e)>=0?t:null}function vt(t){const e=t.width/2||t.radiusX||0,r=t.height/2||t.radiusY||0;return{top:t.clientY-r,right:t.clientX+e,bottom:t.clientY+r,left:t.clientX-e}}function Pt(t,e){return!(t.left>e.right||e.left>t.right||t.top>e.bottom||e.top>t.bottom)}function G(t,e){if(!e)return;const r=e.getBoundingClientRect(),n=vt(t);return Pt(r,n)}function mr(t){return t&&"hour"in t?t:new et}function yr(t,e){t={...bt,...t};const r=e.granularity||"minute",n=Object.keys(t);let i=n.indexOf(e.maxGranularity??"year");i<0&&(i=0);let a=n.indexOf(r);if(a<0&&(a=2),i>a)throw new Error("maxGranularity must be greater than granularity");const c=n.slice(i,a+1).reduce((h,g)=>(h[g]=t[g],h),{});return e.hourCycle!=null&&(c.hour12=e.hourCycle===12),c.timeZone=e.timeZone||"UTC",(r==="hour"||r==="minute"||r==="second")&&e.timeZone&&!e.hideTimeZone&&(c.timeZoneName="short"),e.showEra&&i===0&&(c.era="short"),c}function vr(t,e,r){var i,a;if(!e.visibleRange)throw new Error("visibleRange is not defined on state");let n=t.add({days:r});for(;(r<0?n.compare(e.visibleRange.start)>=0:n.compare(e.visibleRange.end)<=0)&&!((i=e.isCellUnavailable)!=null&&i.call(e,n));)n=n.add({days:r});return(a=e.isCellUnavailable)!=null&&a.call(e,n)?n.add({days:-r}):null}function Pr(t,e,r,n){if(t)return pt(t,r);const i=B(tt(n).set({hour:0,minute:0,second:0,millisecond:0}),r);return e==="year"||e==="month"||e==="day"?Z(i):n?i:rt(i)}function Tr(t,e){const r={year:"yyyy",month:"mm",day:"dd"};return t==="era"||t==="dayPeriod"?e:t==="year"||t==="month"||t==="day"?r[t]:"––"}const Tt=new Set(["id"]),Dt=/^(data-.*)$/;function Dr(t,e={}){const{labelable:r,propNames:n}=e,i={};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(Tt.has(a)||r&&labelablePropNames.has(a)||n!=null&&n.has(a)||Dt.test(a))&&(i[a]=t[a]);return i}const Sr=1900,St=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),wr={"en-US":{previous:"Previous",next:"Next",selectedDateDescription:"Selected Date: {date}",selectedRangeDescription:"Selected Range: {dateRange}",todayDate:"Today, {date}",todayDateSelected:"Today, {date} selected",dateSelected:"{date} selected",startRangeSelectionPrompt:"Click to start selecting date range",finishRangeSelectionPrompt:"Click to finish selecting date range",calendar:"Calendar",minimumDate:"First available date",maximumDate:"Last available date",dateRange:"{startDate} to {endDate}",era:"era",year:"year",month:"month",day:"day",hour:"hour",minute:"minute",second:"second",dayPeriod:"AM/PM",startDate:"Start Date",endDate:"End Date",weekday:"day of the week",timeZoneName:"time zone",selectedTimeDescription:"Selected Time: {time}",Empty:"Empty"}};function wt(t){return t.width===0&&t.height===0||t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"}function pe(t){return t.tagName==="A"&&t.hasAttribute("href")}function _e(t,e){return t.type==="checkbox"||t.type==="radio"?e===" ":St.has(t.type)}function ue(t,e){const{key:r,code:n}=t,i=e,a=i.getAttribute("role");return(r==="Enter"||r===" "||r==="Spacebar"||n==="Space")&&!(i instanceof HTMLInputElement&&!_e(i,r)||i instanceof HTMLTextAreaElement||i.isContentEditable)&&(!pe(i)||a==="button"&&r!=="Enter")&&!(a==="link"&&r!=="Enter")}const Pe=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],Ct=Pe.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";Pe.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const $t=Pe.join(':not([hidden]):not([tabindex="-1"]),'),Cr=`__role_${Date.now()}`,$r=`__focusManager_${Date.now()}`;function Te(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(t.test(((e=window.navigator.userAgentData)==null?void 0:e.platform)||window.navigator.platform)):!1}function xt(t){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)==null?void 0:e.brands.some(r=>t.test(r.brand)))||t.test(window.navigator.userAgent)}function Et(){return Te(/^Mac/i)}function Rt(){return Te(/^iPhone/i)}function kt(){return Te(/^iPad/i)||Et()&&navigator.maxTouchPoints>1}function Ge(){return Rt()||kt()}function Mt(){return xt(/Android/i)}let W="default";const Ft=new Map,It=new Set,ie=new WeakMap;let me="";function Lt(t){requestAnimationFrame(()=>{Ft.size===0?t():It.add(t)})}function re(t){if(Ge()){if(W!=="disabled")return;W="restoring",setTimeout(()=>{Lt(()=>{W==="restoring"&&(document.documentElement.style.webkitUserSelect==="none"&&(document.documentElement.style.webkitUserSelect=me||""),me="",W="default")})},300)}else if((t instanceof HTMLElement||t instanceof SVGElement)&&t&&ie.has(t)){const e=ie.get(t);t.style.userSelect==="none"&&(t.style.userSelect=e),t.getAttribute("style")===""&&t.removeAttribute("style"),ie.delete(t)}}function Ee(t){Ge()?(W==="default"&&(me=document.documentElement.style.webkitUserSelect,document.documentElement.style.webkitUserSelect="none"),W="disabled"):(t instanceof HTMLElement||t instanceof SVGElement)&&(ie.set(t,t.style.userSelect),t.style.userSelect="none")}let ne=null;function Nt(){if(ne==null){ne=!1;try{document.createElement("div").focus({get preventScroll(){return ne=!0,!0}})}catch{}}return ne}function z(t){if(Nt())t.focus({preventScroll:!0});else{const e=Kt(t);t.focus(),At(e)}}function At(t){for(const{element:e,scrollTop:r,scrollLeft:n}of t)e.scrollTop=r,e.scrollLeft=n}function Kt(t){let e=t.parentNode;const r=[],n=document.scrollingElement||document.documentElement;for(;e instanceof HTMLElement&&e!==n;)(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&r.push({element:e,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),e=e.parentNode;return n instanceof HTMLElement&&r.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),r}function Re(t){return t.mozInputSource===0&&t.isTrusted?!0:Mt()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function Ot(t){if(!(t instanceof HTMLElement)&&!(t instanceof SVGElement))return!1;const{display:e,visibility:r}=t.style;let n=e!=="none"&&r!=="hidden"&&r!=="collapse";if(n){const{getComputedStyle:i}=t.ownerDocument.defaultView,{display:a,visibility:c}=i(t);n=a!=="none"&&c!=="hidden"&&c!=="collapse"}return n}function Ut(t,e){return!t.hasAttribute("hidden")&&(t.nodeName==="DETAILS"&&e&&e.nodeName!=="SUMMARY"?t.hasAttribute("open"):!0)}function Ye(t,e){return t.nodeName!=="#comment"&&Ot(t)&&Ut(t,e)&&(!t.parentElement||Ye(t.parentElement,t))}function Bt(t,e){return e.some(r=>r.contains(t))}function oe(t,e,r){const n=e!=null&&e.tabbable?$t:Ct,i=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode(a){var c;return(c=e==null?void 0:e.from)!=null&&c.contains(a)?NodeFilter.FILTER_REJECT:a.matches(n)&&Ye(a)&&(!r||Bt(a,r))&&(!(e!=null&&e.accept)||e.accept(a))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return e!=null&&e.from&&(i.currentNode=e.from),i}function Zt(t){z(t)}function Y(t,e=!1){if(t!=null&&!e)try{Zt(t)}catch{}else if(t!=null)try{t.focus()}catch{}}function de(t){let e,r;do r=t.lastChild(),r&&(e=r);while(r);return e}function xr(t,e={}){return{focusNext(r={}){const n=t.current;if(!n)return;const{from:i,tabbable:a=e.tabbable,wrap:c=e.wrap,accept:f=e.accept}=r,h=i||document.activeElement,g=oe(n,{tabbable:a,accept:f});n.contains(h)&&(g.currentNode=h);let p=g.nextNode();return!p&&c&&(g.currentNode=n,p=g.nextNode()),p&&Y(p,!0),p},focusPrevious(r=e){const n=t.current;if(!n)return;const{from:i,tabbable:a=e.tabbable,wrap:c=e.wrap,accept:f=e.accept}=r,h=i||document.activeElement,g=oe(n,{tabbable:a,accept:f});if(n.contains(h))g.currentNode=h;else{const T=de(g);return T&&Y(T,!0),T}let p=g.previousNode();return!p&&c&&(g.currentNode=n,p=de(g)),p&&Y(p,!0),p},focusFirst(r=e){const n=t.current;if(!n)return;const{tabbable:i=e.tabbable,accept:a=e.accept}=r,f=oe(n,{tabbable:i,accept:a}).nextNode();return f&&Y(f,!0),f},focusLast(r=e){const n=t.current;if(!n)return;const{tabbable:i=e.tabbable,accept:a=e.accept}=r,c=oe(n,{tabbable:i,accept:a}),f=de(c);return f&&Y(f,!0),f}}}class Er{constructor(e,r){this.nativeEvent=r,this.target=r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget,this.bubbles=r.bubbles,this.cancelable=r.cancelable,this.defaultPrevented=r.defaultPrevented,this.eventPhase=r.eventPhase,this.isTrusted=r.isTrusted,this.timeStamp=r.timeStamp,this.type=e}isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}}function ke(t){for(Me(t)&&(t=t.parentElement);t&&!Me(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}function Me(t){const e=window.getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}function Fe(t,e,r){const n=r==="left"?"offsetLeft":"offsetTop";let i=0;for(;e.offsetParent&&(i+=e[n],e.offsetParent!==t);){if(e.offsetParent.contains(t)){i-=t[n];break}e=e.offsetParent}return i}function Ht(t,e){const r=Fe(t,e,"left"),n=Fe(t,e,"top"),i=e.offsetWidth,a=e.offsetHeight;let c=t.scrollLeft,f=t.scrollTop;const{borderTopWidth:h,borderLeftWidth:g}=getComputedStyle(t),p=t.scrollLeft+parseInt(g,10),T=t.scrollTop+parseInt(h,10),w=p+t.clientWidth,d=T+t.clientHeight;r<=c?c=r-parseInt(g,10):r+i>w&&(c+=r+i-w),n<=T?f=n-parseInt(h,10):n+a>d&&(f+=n+a-d),t.scrollLeft=c,t.scrollTop=f}function Rr(t,e){var r,n,i,a;if(document.contains(t)){const c=document.scrollingElement||document.documentElement;if(window.getComputedStyle(c).overflow==="hidden"){let h=ke(t);for(;t&&h&&t!==c&&h!==c;)Ht(h,t),t=h,h=ke(t)}else{const{left:h,top:g}=t.getBoundingClientRect();(r=t==null?void 0:t.scrollIntoView)==null||r.call(t,{block:"nearest"});const{left:p,top:T}=t.getBoundingClientRect();(Math.abs(h-p)>1||Math.abs(g-T)>1)&&((i=(n=e==null?void 0:e.containingElement)==null?void 0:n.scrollIntoView)==null||i.call(n,{block:"center",inline:"center"}),(a=t.scrollIntoView)==null||a.call(t,{block:"nearest"}))}}}let Wt=0;const fe=new Map;function jt(t){const[e,r]=b.useState(void 0);return b.useLayoutEffect(()=>{if(!t)return;let n=fe.get(t);if(n)r(n.element.id);else{const i=`react-aria-description-${Wt++}`;r(i);const a=document.createElement("div");a.id=i,a.style.display="none",a.textContent=t,document.body.appendChild(a),n={refCount:0,element:a},fe.set(t,n)}return n.refCount++,()=>{n&&--n.refCount===0&&(n.element.remove(),fe.delete(t))}},[t]),{"aria-describedby":t?e:void 0}}function Vt(){const t=b.useRef(new Map),e=b.useCallback((i,a,c,f)=>{const h=f!=null&&f.once?(...g)=>{t.current.delete(c),c(...g)}:c;t.current.set(c,{type:a,eventTarget:i,fn:h,options:f}),i.addEventListener(a,c,f)},[]),r=b.useCallback((i,a,c,f)=>{var g;const h=((g=t.current.get(c))==null?void 0:g.fn)||c;i.removeEventListener(a,h,f),t.current.delete(c)},[]),n=b.useCallback(()=>{t.current.forEach((i,a)=>{r(i.eventTarget,i.type,a,i.options)})},[r]);return b.useEffect(()=>n,[n]),{addGlobalListener:e,removeGlobalListener:r,removeAllGlobalListeners:n}}const ze=b.createContext(null);ze.displayName="PressResponderContext";function _t(t,e){b.useLayoutEffect(()=>(t!=null&&t.ref&&e&&(t.ref.current=e.current),()=>{t!=null&&t.ref&&e&&(t.ref.current=null)}),[t,e])}function Gt(t){const e=b.useContext(ze);if(e){const{register:r,...n}=e;t={...n,...t},r()}return _t(e,t.ref),t}function O(t,e){return{currentTarget:t,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey}}function Ie(t,e){return t instanceof HTMLInputElement?!_e(t,e):t instanceof HTMLButtonElement?t.type!=="submit":!0}function ge(t){return!(t instanceof HTMLElement)||!t.draggable}function Yt(t){const{targetTouches:e}=t;return e.length>0?e[0]:null}function zt(t,e){const r=t.changedTouches;for(let n=0;n<r.length;n++){const i=r[n];if((i==null?void 0:i.identifier)===e)return i}return null}function Xt(t){const{onPress:e,onPressChange:r,onPressStart:n,onPressEnd:i,onPressUp:a,isDisabled:c,isPressed:f,preventFocusOnPress:h,shouldCancelOnPointerExit:g,allowTextSelectionOnPress:p,ref:T,...w}=Gt(t),d=b.useRef(null);d.current={onPress:e,onPressChange:r,onPressStart:n,onPressEnd:i,onPressUp:a,isDisabled:c,shouldCancelOnPointerExit:g};const[v,D]=b.useState(!1),$=b.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:"mouse"}),{addGlobalListener:R,removeAllGlobalListeners:m}=Vt(),I=b.useMemo(()=>{const o=$.current,L=(u,F)=>{if(!d.current)return;const{onPressStart:l,onPressChange:s,isDisabled:C}=d.current;C||o.didFirePressStart||(l&&l({type:"pressstart",pointerType:F,target:u.currentTarget,shiftKey:u.shiftKey,metaKey:u.metaKey,ctrlKey:u.ctrlKey,altKey:u.altKey}),s&&s(!0),o.didFirePressStart=!0,D(!0))},P=(u,F,l=!0)=>{if(!d.current||!F)return;const{onPressEnd:s,onPressChange:C,onPress:y,isDisabled:E}=d.current;o.didFirePressStart&&(o.ignoreClickAfterPress=!0,o.didFirePressStart=!1,y&&l&&!E&&y({type:"press",pointerType:F,target:u.currentTarget,shiftKey:u.shiftKey,metaKey:u.metaKey,ctrlKey:u.ctrlKey,altKey:u.altKey}),s&&s({type:"pressend",pointerType:F,target:u.currentTarget,shiftKey:u.shiftKey,metaKey:u.metaKey,ctrlKey:u.ctrlKey,altKey:u.altKey}),C&&C(!1),D(!1))},S=(u,F)=>{if(!d.current)return;const{onPressUp:l,isDisabled:s}=d.current;s||l&&l({type:"pressup",pointerType:F,target:u.currentTarget,shiftKey:u.shiftKey,metaKey:u.metaKey,ctrlKey:u.ctrlKey,altKey:u.altKey})},k=u=>{o.isPressed&&(o.isOverTarget&&P(O(o.target,u),o.pointerType,!1),o.isPressed=!1,o.isOverTarget=!1,o.activePointerId=null,o.pointerType="mouse",m(),p||re(o.target))},M={"aria-label":"","aria-labelledby":void 0,onKeyDown(u){ue(u.nativeEvent,u.currentTarget)&&u.currentTarget.contains(u.target)?(Ie(u.target,u.key)&&u.preventDefault(),u.stopPropagation(),!o.isPressed&&!u.repeat&&(o.target=u.currentTarget,o.isPressed=!0,L(u,"keyboard"),R(document,"keyup",N,!1))):u.key==="Enter"&&pe(u.currentTarget)&&u.stopPropagation()},onKeyUp(u){S(O(o.target,u),"keyboard"),ue(u.nativeEvent,u.currentTarget)&&u.currentTarget.contains(u.target)&&S(O(o.target,u),"keyboard")},onClick(u){u.currentTarget.contains(u.target)&&u&&u.button===0&&(u.stopPropagation(),c&&u.preventDefault(),!o.ignoreClickAfterPress&&!o.ignoreEmulatedMouseEvents&&(o.pointerType==="virtual"||Re(u.nativeEvent))&&(!c&&!h&&z(u.currentTarget),L(u,"virtual"),S(u,"virtual"),P(u,"virtual")),o.ignoreEmulatedMouseEvents=!1,o.ignoreClickAfterPress=!1)}},N=u=>{if(o.isPressed&&ue(u,o.target)){Ie(u.target,u.key)&&u.preventDefault(),u.stopPropagation(),o.isPressed=!1;const F=u.target;o.target&&P(O(o.target,u),"keyboard",o.target.contains(F)),m(),o.target instanceof HTMLElement&&o.target.contains(F)&&(pe(o.target)||o.target.getAttribute("role")==="link")&&o.target.click()}};if(typeof b.PointerEvent<"u"){M.onPointerDown=s=>{if(!(s.button!==0||!s.currentTarget.contains(s.target))){if(wt(s.nativeEvent)){o.pointerType="virtual";return}ge(s.currentTarget)&&s.preventDefault(),o.pointerType=s.pointerType,s.stopPropagation(),o.isPressed||(o.isPressed=!0,o.isOverTarget=!0,o.activePointerId=s.pointerId,o.target=s.currentTarget,!c&&!h&&z(s.currentTarget),p||Ee(o.target),L(s,o.pointerType),R(document,"pointermove",u,!1),R(document,"pointerup",F,!1),R(document,"pointercancel",l,!1))}},M.onMouseDown=s=>{s.currentTarget.contains(s.target)&&s.button===0&&(ge(s.currentTarget)&&s.preventDefault(),s.stopPropagation())},M.onPointerUp=s=>{!s.currentTarget.contains(s.target)||o.pointerType==="virtual"||s.button===0&&G(s,s.currentTarget)&&S(s,o.pointerType||s.pointerType)};const u=s=>{s.pointerId===o.activePointerId&&(G(s,o.target)?o.isOverTarget||(o.isOverTarget=!0,L(O(o.target,s),o.pointerType)):o.isOverTarget&&(o.isOverTarget=!1,P(O(o.target,s),o.pointerType,!1),d.current.shouldCancelOnPointerExit&&k(s)))},F=s=>{s.pointerId===o.activePointerId&&o.isPressed&&s.button===0&&(G(s,o.target)?P(O(o.target,s),o.pointerType):o.isOverTarget&&P(O(o.target,s),o.pointerType,!1),o.isPressed=!1,o.isOverTarget=!1,o.activePointerId=null,o.pointerType="pen",m(),p||re(o.target))},l=s=>{k(s)};M.onDragStart=s=>{s.currentTarget.contains(s.target)&&k(s)}}else{M.onMouseDown=l=>{l.button!==0||!l.currentTarget.contains(l.target)||(ge(l.currentTarget)&&l.preventDefault(),l.stopPropagation(),!o.ignoreEmulatedMouseEvents&&(o.isPressed=!0,o.isOverTarget=!0,o.target=l.currentTarget,o.pointerType=Re(l.nativeEvent)?"virtual":"mouse",!c&&!h&&z(l.currentTarget),L(l,o.pointerType),R(document,"mouseup",u,!1)))},M.onMouseEnter=l=>{l.currentTarget.contains(l.target)&&(l.stopPropagation(),o.isPressed&&!o.ignoreEmulatedMouseEvents&&(o.isOverTarget=!0,L(l,o.pointerType)))},M.onMouseLeave=l=>{l.currentTarget.contains(l.target)&&(l.stopPropagation(),o.isPressed&&!o.ignoreEmulatedMouseEvents&&(o.isOverTarget=!1,P(l,o.pointerType,!1),d.current.shouldCancelOnPointerExit&&k(l)))},M.onMouseUp=l=>{l.currentTarget.contains(l.target)&&!o.ignoreEmulatedMouseEvents&&l.button===0&&S(l,o.pointerType)};const u=l=>{if(l.button===0){if(o.isPressed=!1,m(),o.ignoreEmulatedMouseEvents){o.ignoreEmulatedMouseEvents=!1;return}G(l,o.target)?P(O(o.target,l),o.pointerType):o.isOverTarget&&P(O(o.target,l),o.pointerType,!1),o.isOverTarget=!1}};M.onTouchStart=l=>{if(!l.currentTarget.contains(l.target))return;l.stopPropagation();const s=Yt(l.nativeEvent);s&&(o.activePointerId=s.identifier,o.ignoreEmulatedMouseEvents=!0,o.isOverTarget=!0,o.isPressed=!0,o.target=l.currentTarget,o.pointerType="touch",!c&&!h&&z(l.currentTarget),p||Ee(o.target),L(l,o.pointerType),R(window,"scroll",F,!0))},M.onTouchMove=l=>{l.currentTarget.contains(l.target)&&(l.stopPropagation(),o.isPressed)},M.onTouchEnd=l=>{if(!l.currentTarget.contains(l.target)||(l.stopPropagation(),!o.isPressed))return;const s=zt(l.nativeEvent,o.activePointerId);s&&G(s,l.currentTarget)?(S(l,o.pointerType),P(l,o.pointerType)):o.isOverTarget&&P(l,o.pointerType,!1),o.isPressed=!1,o.activePointerId=null,o.isOverTarget=!1,o.ignoreEmulatedMouseEvents=!0,p||re(o.target),m()},M.onTouchCancel=l=>{l.currentTarget.contains(l.target)&&(l.stopPropagation(),o.isPressed&&k(l))};const F=l=>{o.isPressed&&l.target.contains(o.target)&&k({currentTarget:o.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};M.onDragStart=l=>{l.currentTarget.contains(l.target)&&k(l)}}return M},[R,c,h,m,p]);return b.useEffect(()=>()=>{p||re($.current.target)},[p]),{isPressed:f??v,pressProps:{...w,...I}}}function Le(t,e){var N,u,F,l,s,C;let{date:r,isDisabled:n}=t;const{errorMessageId:i,selectedDateDescription:a}=Ve.get(e)??{errorMessageId:void 0,selectedDateDescription:""},c=q({weekday:"long",day:"numeric",month:"long",year:"numeric",era:void 0,timeZone:e.timeZone});let f=(N=e.isSelected)==null?void 0:N.call(e,r);const h=(u=e.isCellFocused)==null?void 0:u.call(e,r);n=n||((F=e.isCellDisabled)==null?void 0:F.call(e,r));const g=(l=e.isCellUnavailable)==null?void 0:l.call(e,r),p=!n&&!g,T=e.validationState==="invalid"&&("highlightedRange"in e?!e.anchorDate&&e.highlightedRange&&r.compare(e.highlightedRange.start)>=0&&r.compare(e.highlightedRange.end)<=0:e.value&&A(e.value,r));T&&(f=!0);const w=b.useRef();w.current&&nt(r,w.current)&&(r=w.current),w.current=r;const d=b.useMemo(()=>r.toDate(e.timeZone??"UTC"),[r,e.timeZone]),v=Ze(r,e.timeZone??"UTC"),D=b.useMemo(()=>{let y="";return"highlightedRange"in e&&e.value&&!e.anchorDate&&(A(r,e.value.start)||A(r,e.value.end))&&(y=a+", "),y+=c.format(d),v?y=f?"I dag, {date} selected".replace("{date}",y):"I dag, {date}".replace("{date}",y):f&&(y="{date} selected".replace("{date}",y)),e.minValue&&A(r,e.minValue)?y+=", First available date":e.maxValue&&A(r,e.maxValue)&&(y+=", Last available date"),y},[c,d,f,v,r,e,a]);let $="";"anchorDate"in e&&h&&!e.isReadOnly&&p&&(e.anchorDate?$="Click to finish selecting date range":$="Click to start selecting date range");const R=jt($),m=b.useRef(!1),I=b.useRef(!1),o=b.useRef(),{pressProps:L,isPressed:P}=Xt({shouldCancelOnPointerExit:"anchorDate"in e&&!!e.anchorDate,preventFocusOnPress:!0,isDisabled:!p||e.isReadOnly,onPressStart(y){var E,U,K;if(e.isReadOnly){(E=e.setFocusedDate)==null||E.call(e,r);return}if("highlightedRange"in e&&!e.anchorDate&&(y.pointerType==="mouse"||y.pointerType==="touch")){if(e.highlightedRange&&!T){if(A(r,e.highlightedRange.start)){e.setAnchorDate(e.highlightedRange.end),(U=e.setFocusedDate)==null||U.call(e,r),e.setDragging(!0),I.current=!0;return}else if(A(r,e.highlightedRange.end)){e.setAnchorDate(e.highlightedRange.start),(K=e.setFocusedDate)==null||K.call(e,r),e.setDragging(!0),I.current=!0;return}}const j=()=>{var V,_;e.setDragging(!0),o.current=null,(V=e.selectDate)==null||V.call(e,r),(_=e.setFocusedDate)==null||_.call(e,r),m.current=!0};y.pointerType==="touch"?o.current=setTimeout(j,200):j()}},onPressEnd(){I.current=!1,m.current=!1,clearTimeout(o.current),o.current=null},onPress(){var y,E;!("anchorDate"in e)&&!e.isReadOnly&&((y=e.selectDate)==null||y.call(e,r),(E=e.setFocusedDate)==null||E.call(e,r))},onPressUp(y){var E,U,K,j,V,_,De,Se,we,Ce;if(!e.isReadOnly&&("anchorDate"in e&&o.current&&((E=e.selectDate)==null||E.call(e,r),(U=e.setFocusedDate)==null||U.call(e,r)),"anchorDate"in e))if(I.current)e.setAnchorDate(r);else if(e.anchorDate&&!m.current)(K=e.selectDate)==null||K.call(e,r),(j=e.setFocusedDate)==null||j.call(e,r);else if(y.pointerType==="keyboard"&&!e.anchorDate){(V=e.selectDate)==null||V.call(e,r);let ee=r.add({days:1});(_=e.isInvalid)!=null&&_.call(e,ee)&&(ee=r.subtract({days:1})),(De=e.isInvalid)!=null&&De.call(e,ee)||(Se=e.setFocusedDate)==null||Se.call(e,ee)}else y.pointerType==="virtual"&&((we=e.selectDate)==null||we.call(e,r),(Ce=e.setFocusedDate)==null||Ce.call(e,r))}});let S;n||(S=A(r,e.focusedDate)?0:-1);const k=q({day:"numeric",timeZone:e.timeZone,calendar:r.calendar.identifier}),M=b.useMemo(()=>{var y;return(y=k.formatToParts(d).find(E=>E.type==="day"))==null?void 0:y.value},[k,d]);return{cellProps:{role:"gridcell","aria-disabled":!p,"aria-selected":f,"aria-invalid":T},buttonProps:{...L,onFocus(){var y;n||(y=e.setFocusedDate)==null||y.call(e,r)},tabIndex:S,role:"button","aria-disabled":!p,"aria-label":D,"aria-invalid":T,"aria-describedby":[T?i:null,R["aria-describedby"]].filter(Boolean).join(" ")||void 0,onPointerEnter(y){"highlightDate"in e&&(y.pointerType!=="touch"||e.isDragging)&&p&&e.highlightDate(r)},onContextMenu(y){y.preventDefault()}},isPressed:P,isFocused:h,isSelected:f,isDisabled:n,isUnavailable:g,isOutsideVisibleRange:r.compare((s=e==null?void 0:e.visibleRange)==null?void 0:s.start)<0||r.compare((C=e==null?void 0:e.visibleRange)==null?void 0:C.end)>0,isInvalid:T,formattedDate:M}}const qt=dt.forwardRef((t,e)=>{const{state:r,date:n,currentMonth:i,css:a={},maxValue:c=He("2099-02-17")}=t,f=gt(e),{cellProps:h,buttonProps:g,isSelected:p,isUnavailable:T,formattedDate:w}=Le({date:n},r);let{isDisabled:d}=Le({date:n},r);const v=!ot(i,n),D=Ze(n,he()),$="highlightedRange"in r;let R=!1,m=!1;$&&(R=r.highlightedRange?A(n,r.highlightedRange.start):p,m=r.highlightedRange?A(n,r.highlightedRange.end):p);const I=()=>{let S="";return P&&(S+="focused "),p&&$?S+="selected ":p&&!$&&(S+="highlighted "),(R||m)&&(S+="highlighted "),T&&(S+="unavailable "),D&&(S+="today "),S};(()=>{c&&n>c&&(d=!0)})();const{focusProps:L,isFocusVisible:P}=it();return x(ft,{children:d?x(xe,{...h,css:a,className:I(),children:x("div",{ref:f,hidden:v,className:`calendar-cell-value  disabled ${p?"selected":""}`,children:w})}):x(xe,{...h,css:a,className:I(),"aria-label":g["aria-label"],"aria-disabled":g["aria-disabled"],"aria-invalid":g["aria-invalid"],role:g.role,tabIndex:g.tabIndex,...L,...g,children:x("div",{ref:f,hidden:v,className:`calendar-cell-value  ${d?"disabled":""} ${p?"selected":""}`,children:w})})})}),Jt=qt,Qt=ae("table",{marginTop:"$2",borderCollapse:"collapse","& .calendar-weekday":{fontSize:"$label2",fontWeight:"$semibold",color:"$cdgBlue120"},"& th, & td":{width:"$10"},"& td":{height:"$8"},"& td > div":{display:"flex",justifyContent:"center"}}),er=ae("tr",{height:"$8"}),Xe={prefix:String(Math.round(Math.random()*1e10)),current:0,isSSR:!1};function tr(t=!1){const e=b.useContext(qe),r=b.useRef(null);return r.current===null&&!t&&(r.current=++e.current),r.current}const rr=!!(typeof window<"u"&&window.document.createElement),qe=b.createContext(Xe);function nr(t){const e=b.useContext(qe);e===Xe&&!rr&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");const r=tr(!!t);return t??`compass-design${e.prefix}-${r}`}const Ne=new Map;function ye(t){const[e,r]=b.useState(t),n=b.useRef(null),i=nr(e),a=b.useCallback(c=>{n.current=c},[]);return Ne.set(i,a),b.useLayoutEffect(()=>{const c=i;return()=>{Ne.delete(c)}},[i]),b.useEffect(()=>{const c=n.current;c&&(n.current=null,r(c))}),i}function Je(t,e){let{id:r,"aria-label":n,"aria-labelledby":i}=t;return r=ye(r),i&&n?i=[...new Set([...i.trim().split(/\s+/),r])].join(" "):i&&(i=i.trim().split(/\s+/).join(" ")),!n&&!i&&e&&(n=e),{id:r,"aria-label":n,"aria-labelledby":i}}function kr(t){const{label:e,"aria-label":r,labelElementType:n="label"}=t;let{id:i,"aria-labelledby":a}=t;i=ye(i);const c=ye();let f={};e?(a=a?`${a} ${c}`:c,f={id:c,htmlFor:n==="label"?i:void 0}):!a&&!r&&console.warn("If you do not provide a visible label, you must specify an aria-label or aria-labelledby attribute for accessibility");const h=Je({id:i,"aria-label":r,"aria-labelledby":a});return{labelProps:f,fieldProps:h}}function or(t,e){const r=q({month:"long",year:"numeric",era:void 0,calendar:t.calendar.identifier,timeZone:e});return b.useMemo(()=>r.format(t.toDate(e)),[t,r,e])}function ir(t,e){var w;const{startDate:r=(w=e.visibleRange)==null?void 0:w.start}=t,{direction:n}=be(),i=or(r,e.timeZone??"UTC"),{ariaLabel:a,ariaLabelledBy:c}=Ve.get(e)??{ariaLabel:void 0,ariaLabelledBy:void 0},f=Je({id:"","aria-label":[a,i].filter(Boolean).join(", "),"aria-labelledby":c}),{locale:h}=be(),g=q({weekday:t.weekdayStyle??"short",timeZone:e.timeZone}),p=b.useMemo(()=>{const d=ve(We(e.timeZone??he()),h);return[...new Array(7).keys()].map(v=>{const $=d.add({days:v}).toDate(e.timeZone??he());return g.format($)})},[]),T=d=>{var v,D,$,R,m,I,o,L,P,S,k;switch(d.key){case"Enter":case" ":d.preventDefault(),(v=e.selectFocusedDate)==null||v.call(e);break;case"PageUp":d.preventDefault(),d.stopPropagation(),(D=e.focusPreviousSection)==null||D.call(e,d.shiftKey);break;case"PageDown":d.preventDefault(),d.stopPropagation(),($=e.focusNextSection)==null||$.call(e,d.shiftKey);break;case"End":d.preventDefault(),d.stopPropagation(),(R=e.focusSectionEnd)==null||R.call(e);break;case"Home":d.preventDefault(),d.stopPropagation(),(m=e.focusSectionStart)==null||m.call(e);break;case"ArrowLeft":d.preventDefault(),d.stopPropagation(),n==="rtl"?(I=e.focusNextDay)==null||I.call(e):(o=e.focusPreviousDay)==null||o.call(e);break;case"ArrowUp":d.preventDefault(),d.stopPropagation(),(L=e.focusPreviousRow)==null||L.call(e);break;case"ArrowRight":d.preventDefault(),d.stopPropagation(),n==="rtl"?(P=e.focusPreviousDay)==null||P.call(e):(S=e.focusNextDay)==null||S.call(e);break;case"ArrowDown":d.preventDefault(),d.stopPropagation(),(k=e.focusNextRow)==null||k.call(e);break;case"Escape":"setAnchorDate"in e&&(d.preventDefault(),e.setAnchorDate(null));break}};return{gridProps:{...f,role:"grid","aria-readonly":e.isReadOnly||null,"aria-disabled":e.isDisabled||null,"aria-multiselectable":"highlightedRange"in e||void 0,onKeyDown:T,onFocus:()=>{var d;return(d=e.setFocused)==null?void 0:d.call(e,!0)},onBlur:()=>{var d;return(d=e.setFocused)==null?void 0:d.call(e,!1)}},headerProps:{"aria-hidden":!0},weekDays:p}}const ar={days:0,months:0,weeks:0,years:0},sr=t=>{var d;const{state:e,offset:r=ar,css:n={},maxValue:i=He("2999-02-17")}=t,{locale:a}=be(),c=(d=e==null?void 0:e.visibleRange)==null?void 0:d.start.add(r),f=je(c),{gridProps:h,headerProps:g,weekDays:p}=ir({startDate:c,endDate:f},e),T=at(c,a),w=[...new Array(T).keys()].length===5;return X(Qt,{...h,css:n,cellPadding:"0",className:"cdg-calendar-grid",children:[x("thead",{...g,children:x("tr",{children:p.map((v,D)=>x("th",{className:"calendar-weekday",children:v},D))})}),X("tbody",{children:[[...new Array(T).keys()].map(v=>{var D;return x("tr",{children:(D=e.getDatesInWeek)==null?void 0:D.call(e,v,c).map(($,R)=>$?x(Jt,{state:e,date:$,currentMonth:c,maxValue:i},R):x("td",{},R))},v)}),w&&x(er,{"aria-hidden":!0,className:"week-sixth-placeholder"})]})]})},Mr=sr,cr=ae("div",{display:"flex",alignItems:"center",justifyContent:"space-between","& .calendar-header-left-side, & .calendar-header-right-side":{display:"flex",alignItems:"center",flex:1},"& h2":{fontWeight:"$semibold",fontSize:"$body3",color:"$cdgBlue100",margin:0,marginLeft:"auto",marginRight:"auto"},"& .calendar-header-icon":{width:"$3",height:"$3"}}),lr=t=>{var h,g;const{state:e,variant:r="default",calendarProps:n,prevButtonProps:i,nextButtonProps:a,css:c={}}=t,f=q({month:"long",year:"numeric",timeZone:e.timeZone});return X(cr,{css:c,children:[x(st,{children:x("h2",{children:n["aria-label"]})}),X("div",{className:"calendar-header-left-side",children:[x(ce,{variant:"ghost",...i,children:x(se,{className:"calendar-header-icon chevron-left",icon:ht})}),x("h2",{"aria-hidden":!0,children:f.format((h=e==null?void 0:e.visibleRange)==null?void 0:h.start.toDate(e.timeZone??"UTC"))}),r==="default"&&x(ce,{variant:"ghost",...a,children:x(se,{className:"calendar-header-icon chevron-right",icon:$e})})]}),r==="range"&&X("div",{className:"calendar-header-right-side",children:[x("h2",{"aria-hidden":!0,children:f.format((g=e==null?void 0:e.visibleRange)==null?void 0:g.start.add({months:1}).toDate(e.timeZone??"UTC"))}),x(ce,{variant:"ghost",...a,children:x(se,{className:"calendar-header-icon chevron-right",icon:$e})})]})]})},Fr=lr;function Ae(t,e,r){const[n,i]=b.useState(t||e),a=b.useRef(t!==void 0),c=a.current,f=t!==void 0,h=b.useRef(n);c!==f&&console.warn(`WARN: A component changed from ${c?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}.`),a.current=f;const g=b.useCallback((p,...T)=>{const w=(d,...v)=>{r&&(Object.is(h.current,d)||r(d,...v)),f||(h.current=d)};typeof p=="function"?(console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),i((v,...D)=>{const $=p(f?h.current:v,...D);return w($,...T),f?v:$})):(f||i(p),w(p,...T))},[f,r]);return f?h.current=t:t=n,[t,g]}function Ke(t){const e={...t};for(const r in t)e[r]=1;return e}const Ir=t=>{const{locale:e,createCalendar:r,visibleDuration:n={months:1},minValue:i,maxValue:a,isDateUnavailable:c,onChange:f}=t,h=()=>{},[g,p]=Ae(t.value,t.defaultValue,f),T=b.useMemo(()=>new ct(e),[e]),w=b.useMemo(()=>T.resolvedOptions(),[T]),d=b.useMemo(()=>g&&"timeZone"in g?g.timeZone:w.timeZone,[g,w.timeZone]),v=b.useMemo(()=>r(w.calendar),[r,w.calendar]),D=b.useMemo(()=>g?B(Z(g),v):null,[g,v]),$=b.useMemo(()=>t.focusedValue?H(B(Z(t.focusedValue),v),i,a):void 0,[t.focusedValue,v,i,a]),R=b.useMemo(()=>H(t.defaultFocusedValue?B(Z(t.defaultFocusedValue),v):D??B(We(d),v),i,a),[t.defaultFocusedValue,D,d,v,i,a]),[m,I]=Ae($,R,h),[o,L]=b.useState(t.autoFocus||!1),[P,S]=b.useState(()=>te(m,{months:1},e,i,a)),k=b.useMemo(()=>{const s={...n};return P.add(s)},[P]),M=b.useRef(v.identifier);if(v.identifier!==M.current){const s=B(m,v);S(te(s,n,e,i,a)),I(s),M.current=v.identifier}i&&a&&le(m,i,a)?I(H(m,i,a)):(m&&m.compare(P)<0||m&&m.compare(k)>0)&&S(te(m,n,e,i,a));function N(s){s=H(s,i,a),I(s)}function u(s){if(!t.isDisabled&&!t.isReadOnly){if(s=H(s,i,a),s=yt(s,P,c),!s)return;s=B(s,(g==null?void 0:g.calendar)??new ut),g&&"hour"in g?p(g.set(s)):p(s)}}const F=b.useMemo(()=>!i||!a?!0:D?c&&c(D)?!0:le(D,i,a):!1,[D,c,i,a]),l=t.validationState||(F?"invalid":null);return{isDisabled:t.isDisabled??!1,isReadOnly:t.isReadOnly??!1,value:D,setValue:u,visibleRange:{start:P,end:k},minValue:i,maxValue:a,focusedDate:m,timeZone:d,validationState:l,setFocusedDate(s){N(s),L(!0)},focusNextDay(){N(m.add({days:1}))},focusPreviousDay(){N(m.subtract({days:1}))},focusNextRow(){N(m.add({weeks:1}))},focusPreviousRow(){N(m.subtract({weeks:1}))},focusNextPage(){const s=P.add(n);I(H(m.add(n),i,a)),S(J(Q(m,s,n,e,i,a),n,e))},focusPreviousPage(){const s=P.subtract(n);I(H(m.subtract(n),i,a)),S(J(Q(m,s,n,e,i,a),n,e))},focusSectionStart(){n.months&&N(Oe(m))},focusSectionEnd(){n.months&&N(je(m))},focusNextSection(s){if(s)N(m.add({years:1}));else{N(m.add(Ke(n)));return}},focusPreviousSection(s){if(s)N(m.subtract({years:1}));else{N(m.subtract(Ke(n)));return}},selectFocusedDate(){u(m)},selectDate(s){u(s)},isFocused:o,setFocused:L,isInvalid(s){return le(s,i,a)},isCellUnavailable(s){var C;return((C=t.isDateUnavailable)==null?void 0:C.call(t,s))??!1},isSelected(s){var C,y;return D!=null&&A(s,D)&&!((C=this.isCellDisabled)!=null&&C.call(this,s))&&!((y=this.isCellUnavailable)!=null&&y.call(this,s))},isCellFocused(s){return o&&A(s,m)},isCellDisabled(s){var C;return t.isDisabled||s.compare(P)<0||s.compare(k)>0||((C=this.isInvalid)==null?void 0:C.call(this,s))},isPreviousVisibleRangeInvalid(){var C;const s=P.subtract({days:1});return A(s,P)||((C=this.isInvalid)==null?void 0:C.call(this,s))},isNextVisibleRangeInvalid(){var C;const s=k.add({days:1});return A(s,k)||((C=this.isInvalid)==null?void 0:C.call(this,s))},getDatesInWeek(s,C=P){let y=C.add({weeks:s});const E=[];y=ve(y,e);const U=lt(y,e);for(let K=0;K<U;K++)E.push(null);for(;E.length<7;){E.push(y);const K=y.add({days:1});if(A(y,K))break;y=K}for(;E.length<7;)E.push(null);return E}}};export{Mr as A,te as B,Fr as C,vr as D,H as E,yt as F,Sr as M,Er as S,ye as a,Dr as b,xr as c,Ae as d,yr as e,$r as f,mr as g,Xt as h,le as i,oe as j,kr as k,Ve as l,pt as m,Pr as n,Tr as o,wr as p,Vt as q,Cr as r,Ge as s,Je as t,jt as u,Et as v,Rr as w,ke as x,or as y,Ir as z};

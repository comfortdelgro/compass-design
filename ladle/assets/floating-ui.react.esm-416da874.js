import{r as g,e as St,a as Pt,j as ne,f as At,F as nn}from"./index-a83a88d1.js";const be=Math.min,ae=Math.max,Ie=Math.round,Pe=Math.floor,oe=e=>({x:e,y:e}),rn={left:"right",right:"left",bottom:"top",top:"bottom"},on={start:"end",end:"start"};function Ze(e,t,n){return ae(e,be(t,n))}function Te(e,t){return typeof e=="function"?e(t):e}function de(e){return e.split("-")[0]}function Ce(e){return e.split("-")[1]}function Ot(e){return e==="x"?"y":"x"}function et(e){return e==="y"?"height":"width"}function He(e){return["top","bottom"].includes(de(e))?"y":"x"}function tt(e){return Ot(He(e))}function sn(e,t,n){n===void 0&&(n=!1);const r=Ce(e),o=tt(e),i=et(o);let s=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=De(s)),[s,De(s)]}function cn(e){const t=De(e);return[Je(e),t,Je(t)]}function Je(e){return e.replace(/start|end/g,t=>on[t])}function un(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}function ln(e,t,n,r){const o=Ce(e);let i=un(de(e),n==="start",r);return o&&(i=i.map(s=>s+"-"+o),t&&(i=i.concat(i.map(Je)))),i}function De(e){return e.replace(/left|right|bottom|top/g,t=>rn[t])}function an(e){return{top:0,right:0,bottom:0,left:0,...e}}function Ft(e){return typeof e!="number"?an(e):{top:e,right:e,bottom:e,left:e}}function ke(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function at(e,t,n){let{reference:r,floating:o}=e;const i=He(t),s=tt(t),c=et(s),u=de(t),a=i==="y",h=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,p=r[c]/2-o[c]/2;let l;switch(u){case"top":l={x:h,y:r.y-o.height};break;case"bottom":l={x:h,y:r.y+r.height};break;case"right":l={x:r.x+r.width,y:f};break;case"left":l={x:r.x-o.width,y:f};break;default:l={x:r.x,y:r.y}}switch(Ce(t)){case"start":l[s]-=p*(n&&a?-1:1);break;case"end":l[s]+=p*(n&&a?-1:1);break}return l}const fn=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:s}=n,c=i.filter(Boolean),u=await(s.isRTL==null?void 0:s.isRTL(t));let a=await s.getElementRects({reference:e,floating:t,strategy:o}),{x:h,y:f}=at(a,r,u),p=r,l={},v=0;for(let m=0;m<c.length;m++){const{name:E,fn:y}=c[m],{x:b,y:L,data:w,reset:C}=await y({x:h,y:f,initialPlacement:r,placement:p,strategy:o,middlewareData:l,rects:a,platform:s,elements:{reference:e,floating:t}});if(h=b??h,f=L??f,l={...l,[E]:{...l[E],...w}},C&&v<=50){v++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(a=C.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:o}):C.rects),{x:h,y:f}=at(a,p,u)),m=-1;continue}}return{x:h,y:f,placement:p,strategy:o,middlewareData:l}};async function Lt(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:i,rects:s,elements:c,strategy:u}=e,{boundary:a="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:l=0}=Te(t,e),v=Ft(l),E=c[p?f==="floating"?"reference":"floating":f],y=ke(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:a,rootBoundary:h,strategy:u})),b=f==="floating"?{...s.floating,x:r,y:o}:s.reference,L=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),w=await(i.isElement==null?void 0:i.isElement(L))?await(i.getScale==null?void 0:i.getScale(L))||{x:1,y:1}:{x:1,y:1},C=ke(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:b,offsetParent:L,strategy:u}):b);return{top:(y.top-C.top+v.top)/w.y,bottom:(C.bottom-y.bottom+v.bottom)/w.y,left:(y.left-C.left+v.left)/w.x,right:(C.right-y.right+v.right)/w.x}}const ft=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:o,rects:i,platform:s,elements:c,middlewareData:u}=t,{element:a,padding:h=0}=Te(e,t)||{};if(a==null)return{};const f=Ft(h),p={x:n,y:r},l=tt(o),v=et(l),m=await s.getDimensions(a),E=l==="y",y=E?"top":"left",b=E?"bottom":"right",L=E?"clientHeight":"clientWidth",w=i.reference[v]+i.reference[l]-p[l]-i.floating[v],C=p[l]-i.reference[l],k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a));let I=k?k[L]:0;(!I||!await(s.isElement==null?void 0:s.isElement(k)))&&(I=c.floating[L]||i.floating[v]);const P=w/2-C/2,V=I/2-m[v]/2-1,$=be(f[y],V),O=be(f[b],V),F=$,x=I-m[v]-O,d=I/2-m[v]/2+P,T=Ze(F,d,x),R=!u.arrow&&Ce(o)!=null&&d!=T&&i.reference[v]/2-(d<F?$:O)-m[v]/2<0,A=R?d<F?d-F:d-x:0;return{[l]:p[l]+A,data:{[l]:T,centerOffset:d-T-A,...R&&{alignmentOffset:A}},reset:R}}}),Sr=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:i,rects:s,initialPlacement:c,platform:u,elements:a}=t,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:l="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...E}=Te(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const y=de(o),b=de(c)===c,L=await(u.isRTL==null?void 0:u.isRTL(a.floating)),w=p||(b||!m?[De(c)]:cn(c));!p&&v!=="none"&&w.push(...ln(c,m,v,L));const C=[c,...w],k=await Lt(t,E),I=[];let P=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&I.push(k[y]),f){const F=sn(o,s,L);I.push(k[F[0]],k[F[1]])}if(P=[...P,{placement:o,overflows:I}],!I.every(F=>F<=0)){var V,$;const F=(((V=i.flip)==null?void 0:V.index)||0)+1,x=C[F];if(x)return{data:{index:F,overflows:P},reset:{placement:x}};let d=($=P.filter(T=>T.overflows[0]<=0).sort((T,R)=>T.overflows[1]-R.overflows[1])[0])==null?void 0:$.placement;if(!d)switch(l){case"bestFit":{var O;const T=(O=P.map(R=>[R.placement,R.overflows.filter(A=>A>0).reduce((A,S)=>A+S,0)]).sort((R,A)=>R[1]-A[1])[0])==null?void 0:O[0];T&&(d=T);break}case"initialPlacement":d=c;break}if(o!==d)return{reset:{placement:d}}}return{}}}};async function dn(e,t){const{placement:n,platform:r,elements:o}=e,i=await(r.isRTL==null?void 0:r.isRTL(o.floating)),s=de(n),c=Ce(n),u=He(n)==="y",a=["left","top"].includes(s)?-1:1,h=i&&u?-1:1,f=Te(t,e);let{mainAxis:p,crossAxis:l,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return c&&typeof v=="number"&&(l=c==="end"?v*-1:v),u?{x:l*h,y:p*a}:{x:p*a,y:l*h}}const Pr=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){const{x:n,y:r}=t,o=await dn(t,e);return{x:n+o.x,y:r+o.y,data:o}}}},Ar=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o}=t,{mainAxis:i=!0,crossAxis:s=!1,limiter:c={fn:E=>{let{x:y,y:b}=E;return{x:y,y:b}}},...u}=Te(e,t),a={x:n,y:r},h=await Lt(t,u),f=He(de(o)),p=Ot(f);let l=a[p],v=a[f];if(i){const E=p==="y"?"top":"left",y=p==="y"?"bottom":"right",b=l+h[E],L=l-h[y];l=Ze(b,l,L)}if(s){const E=f==="y"?"top":"left",y=f==="y"?"bottom":"right",b=v+h[E],L=v-h[y];v=Ze(b,v,L)}const m=c.fn({...t,[p]:l,[f]:v});return{...m,data:{x:m.x-n,y:m.y-r}}}}};function ie(e){return Mt(e)?(e.nodeName||"").toLowerCase():"#document"}function U(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function te(e){var t;return(t=(Mt(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Mt(e){return e instanceof Node||e instanceof U(e).Node}function ee(e){return e instanceof Element||e instanceof U(e).Element}function Q(e){return e instanceof HTMLElement||e instanceof U(e).HTMLElement}function dt(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof U(e).ShadowRoot}function Se(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=J(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function mn(e){return["table","td","th"].includes(ie(e))}function nt(e){const t=rt(),n=J(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function pn(e){let t=ye(e);for(;Q(t)&&!_e(t);){if(nt(t))return t;t=ye(t)}return null}function rt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _e(e){return["html","body","#document"].includes(ie(e))}function J(e){return U(e).getComputedStyle(e)}function Ke(e){return ee(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function ye(e){if(ie(e)==="html")return e;const t=e.assignedSlot||e.parentNode||dt(e)&&e.host||te(e);return dt(t)?t.host:t}function It(e){const t=ye(e);return _e(t)?e.ownerDocument?e.ownerDocument.body:e.body:Q(t)&&Se(t)?t:It(t)}function re(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const o=It(e),i=o===((r=e.ownerDocument)==null?void 0:r.body),s=U(o);return i?t.concat(s,s.visualViewport||[],Se(o)?o:[],s.frameElement&&n?re(s.frameElement):[]):t.concat(o,re(o,[],n))}function Dt(e){const t=J(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Q(e),i=o?e.offsetWidth:n,s=o?e.offsetHeight:r,c=Ie(n)!==i||Ie(r)!==s;return c&&(n=i,r=s),{width:n,height:r,$:c}}function ot(e){return ee(e)?e:e.contextElement}function ve(e){const t=ot(e);if(!Q(t))return oe(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:i}=Dt(t);let s=(i?Ie(n.width):n.width)/r,c=(i?Ie(n.height):n.height)/o;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const gn=oe(0);function kt(e){const t=U(e);return!rt()||!t.visualViewport?gn:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function vn(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==U(e)?!1:t}function me(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),i=ot(e);let s=oe(1);t&&(r?ee(r)&&(s=ve(r)):s=ve(e));const c=vn(i,n,r)?kt(i):oe(0);let u=(o.left+c.x)/s.x,a=(o.top+c.y)/s.y,h=o.width/s.x,f=o.height/s.y;if(i){const p=U(i),l=r&&ee(r)?U(r):r;let v=p.frameElement;for(;v&&r&&l!==p;){const m=ve(v),E=v.getBoundingClientRect(),y=J(v),b=E.left+(v.clientLeft+parseFloat(y.paddingLeft))*m.x,L=E.top+(v.clientTop+parseFloat(y.paddingTop))*m.y;u*=m.x,a*=m.y,h*=m.x,f*=m.y,u+=b,a+=L,v=U(v).frameElement}}return ke({width:h,height:f,x:u,y:a})}function hn(e){let{rect:t,offsetParent:n,strategy:r}=e;const o=Q(n),i=te(n);if(n===i)return t;let s={scrollLeft:0,scrollTop:0},c=oe(1);const u=oe(0);if((o||!o&&r!=="fixed")&&((ie(n)!=="body"||Se(i))&&(s=Ke(n)),Q(n))){const a=me(n);c=ve(n),u.x=a.x+n.clientLeft,u.y=a.y+n.clientTop}return{width:t.width*c.x,height:t.height*c.y,x:t.x*c.x-s.scrollLeft*c.x+u.x,y:t.y*c.y-s.scrollTop*c.y+u.y}}function bn(e){return Array.from(e.getClientRects())}function Nt(e){return me(te(e)).left+Ke(e).scrollLeft}function yn(e){const t=te(e),n=Ke(e),r=e.ownerDocument.body,o=ae(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=ae(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Nt(e);const c=-n.scrollTop;return J(r).direction==="rtl"&&(s+=ae(t.clientWidth,r.clientWidth)-o),{width:o,height:i,x:s,y:c}}function wn(e,t){const n=U(e),r=te(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,c=0,u=0;if(o){i=o.width,s=o.height;const a=rt();(!a||a&&t==="fixed")&&(c=o.offsetLeft,u=o.offsetTop)}return{width:i,height:s,x:c,y:u}}function xn(e,t){const n=me(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,i=Q(e)?ve(e):oe(1),s=e.clientWidth*i.x,c=e.clientHeight*i.y,u=o*i.x,a=r*i.y;return{width:s,height:c,x:u,y:a}}function mt(e,t,n){let r;if(t==="viewport")r=wn(e,n);else if(t==="document")r=yn(te(e));else if(ee(t))r=xn(t,n);else{const o=kt(e);r={...t,x:t.x-o.x,y:t.y-o.y}}return ke(r)}function Bt(e,t){const n=ye(e);return n===t||!ee(n)||_e(n)?!1:J(n).position==="fixed"||Bt(n,t)}function Rn(e,t){const n=t.get(e);if(n)return n;let r=re(e,[],!1).filter(c=>ee(c)&&ie(c)!=="body"),o=null;const i=J(e).position==="fixed";let s=i?ye(e):e;for(;ee(s)&&!_e(s);){const c=J(s),u=nt(s);!u&&c.position==="fixed"&&(o=null),(i?!u&&!o:!u&&c.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Se(s)&&!u&&Bt(e,s))?r=r.filter(h=>h!==s):o=c,s=ye(s)}return t.set(e,r),r}function En(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const s=[...n==="clippingAncestors"?Rn(t,this._c):[].concat(n),r],c=s[0],u=s.reduce((a,h)=>{const f=mt(t,h,o);return a.top=ae(f.top,a.top),a.right=be(f.right,a.right),a.bottom=be(f.bottom,a.bottom),a.left=ae(f.left,a.left),a},mt(t,c,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Tn(e){return Dt(e)}function Cn(e,t,n){const r=Q(t),o=te(t),i=n==="fixed",s=me(e,!0,i,t);let c={scrollLeft:0,scrollTop:0};const u=oe(0);if(r||!r&&!i)if((ie(t)!=="body"||Se(o))&&(c=Ke(t)),r){const a=me(t,!0,i,t);u.x=a.x+t.clientLeft,u.y=a.y+t.clientTop}else o&&(u.x=Nt(o));return{x:s.left+c.scrollLeft-u.x,y:s.top+c.scrollTop-u.y,width:s.width,height:s.height}}function pt(e,t){return!Q(e)||J(e).position==="fixed"?null:t?t(e):e.offsetParent}function Wt(e,t){const n=U(e);if(!Q(e))return n;let r=pt(e,t);for(;r&&mn(r)&&J(r).position==="static";)r=pt(r,t);return r&&(ie(r)==="html"||ie(r)==="body"&&J(r).position==="static"&&!nt(r))?n:r||pn(e)||n}const Sn=async function(e){let{reference:t,floating:n,strategy:r}=e;const o=this.getOffsetParent||Wt,i=this.getDimensions;return{reference:Cn(t,await o(n),r),floating:{x:0,y:0,...await i(n)}}};function Pn(e){return J(e).direction==="rtl"}const An={convertOffsetParentRelativeRectToViewportRelativeRect:hn,getDocumentElement:te,getClippingRect:En,getOffsetParent:Wt,getElementRects:Sn,getClientRects:bn,getDimensions:Tn,getScale:ve,isElement:ee,isRTL:Pn};function On(e,t){let n=null,r;const o=te(e);function i(){clearTimeout(r),n&&n.disconnect(),n=null}function s(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),i();const{left:a,top:h,width:f,height:p}=e.getBoundingClientRect();if(c||t(),!f||!p)return;const l=Pe(h),v=Pe(o.clientWidth-(a+f)),m=Pe(o.clientHeight-(h+p)),E=Pe(a),b={rootMargin:-l+"px "+-v+"px "+-m+"px "+-E+"px",threshold:ae(0,be(1,u))||1};let L=!0;function w(C){const k=C[0].intersectionRatio;if(k!==u){if(!L)return s();k?s(!1,k):r=setTimeout(()=>{s(!1,1e-7)},100)}L=!1}try{n=new IntersectionObserver(w,{...b,root:o.ownerDocument})}catch{n=new IntersectionObserver(w,b)}n.observe(e)}return s(!0),i}function Or(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,a=ot(e),h=o||i?[...a?re(a):[],...re(t)]:[];h.forEach(y=>{o&&y.addEventListener("scroll",n,{passive:!0}),i&&y.addEventListener("resize",n)});const f=a&&c?On(a,n):null;let p=-1,l=null;s&&(l=new ResizeObserver(y=>{let[b]=y;b&&b.target===a&&l&&(l.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{l&&l.observe(t)})),n()}),a&&!u&&l.observe(a),l.observe(t));let v,m=u?me(e):null;u&&E();function E(){const y=me(e);m&&(y.x!==m.x||y.y!==m.y||y.width!==m.width||y.height!==m.height)&&n(),m=y,v=requestAnimationFrame(E)}return n(),()=>{h.forEach(y=>{o&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),f&&f(),l&&l.disconnect(),l=null,u&&cancelAnimationFrame(v)}}const Fn=(e,t,n)=>{const r=new Map,o={platform:An,...n},i={...o.platform,_c:r};return fn(e,t,{...o,platform:i})},Fr=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:o}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?ft({element:r.current,padding:o}).fn(n):{}:r?ft({element:r,padding:o}).fn(n):{}}}};var Fe=typeof document<"u"?g.useLayoutEffect:g.useEffect;function Ne(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Ne(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const i=o[r];if(!(i==="_owner"&&e.$$typeof)&&!Ne(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Vt(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function gt(e,t){const n=Vt(e);return Math.round(t*n)/n}function vt(e){const t=g.useRef(e);return Fe(()=>{t.current=e}),t}function Ln(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:i,floating:s}={},transform:c=!0,whileElementsMounted:u,open:a}=e,[h,f]=g.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,l]=g.useState(r);Ne(p,r)||l(r);const[v,m]=g.useState(null),[E,y]=g.useState(null),b=g.useCallback(R=>{R!=k.current&&(k.current=R,m(R))},[m]),L=g.useCallback(R=>{R!==I.current&&(I.current=R,y(R))},[y]),w=i||v,C=s||E,k=g.useRef(null),I=g.useRef(null),P=g.useRef(h),V=vt(u),$=vt(o),O=g.useCallback(()=>{if(!k.current||!I.current)return;const R={placement:t,strategy:n,middleware:p};$.current&&(R.platform=$.current),Fn(k.current,I.current,R).then(A=>{const S={...A,isPositioned:!0};F.current&&!Ne(P.current,S)&&(P.current=S,St.flushSync(()=>{f(S)}))})},[p,t,n,$]);Fe(()=>{a===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[a]);const F=g.useRef(!1);Fe(()=>(F.current=!0,()=>{F.current=!1}),[]),Fe(()=>{if(w&&(k.current=w),C&&(I.current=C),w&&C){if(V.current)return V.current(w,C,O);O()}},[w,C,O,V]);const x=g.useMemo(()=>({reference:k,floating:I,setReference:b,setFloating:L}),[b,L]),d=g.useMemo(()=>({reference:w,floating:C}),[w,C]),T=g.useMemo(()=>{const R={position:n,left:0,top:0};if(!d.floating)return R;const A=gt(d.floating,h.x),S=gt(d.floating,h.y);return c?{...R,transform:"translate("+A+"px, "+S+"px)",...Vt(d.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:A,top:S}},[n,c,d.floating,h.x,h.y]);return g.useMemo(()=>({...h,update:O,refs:x,elements:d,floatingStyles:T}),[h,O,x,d,T])}var $t=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ge=new WeakMap,Ae=new WeakMap,Oe={},Ye=0,Ht=function(e){return e&&(e.host||Ht(e.parentNode))},Mn=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Ht(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},_t=function(e,t,n,r){var o=Mn(t,Array.isArray(e)?e:[e]);Oe[n]||(Oe[n]=new WeakMap);var i=Oe[n],s=[],c=new Set,u=new Set(o),a=function(f){!f||c.has(f)||(c.add(f),a(f.parentNode))};o.forEach(a);var h=function(f){!f||u.has(f)||Array.prototype.forEach.call(f.children,function(p){if(c.has(p))h(p);else{var l=p.getAttribute(r),v=l!==null&&l!=="false",m=(ge.get(p)||0)+1,E=(i.get(p)||0)+1;ge.set(p,m),i.set(p,E),s.push(p),m===1&&v&&Ae.set(p,!0),E===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}})};return h(t),c.clear(),Ye++,function(){s.forEach(function(f){var p=ge.get(f)-1,l=i.get(f)-1;ge.set(f,p),i.set(f,l),p||(Ae.has(f)||f.removeAttribute(r),Ae.delete(f)),l||f.removeAttribute(n)}),Ye--,Ye||(ge=new WeakMap,ge=new WeakMap,Ae=new WeakMap,Oe={})}},Kt=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=t||$t(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),_t(r,o,n,"aria-hidden")):function(){return null}},In=function(e,t,n){n===void 0&&(n="data-inert-ed");var r=t||$t(e);return r?_t(e,r,n,"inert"):function(){return null}},jt=function(){return typeof HTMLElement<"u"&&HTMLElement.prototype.hasOwnProperty("inert")},Dn=function(e,t,n){return n===void 0&&(n="data-suppressed"),(jt()?In:Kt)(e,t,n)};/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var kn=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Qe=kn.join(","),qt=typeof Element>"u",Ee=qt?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Be=!qt&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},We=function e(t,n){var r;n===void 0&&(n=!0);var o=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),i=o===""||o==="true",s=i||n&&t&&e(t.parentNode);return s},Nn=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},Bn=function(t,n,r){if(We(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(Qe));return n&&Ee.call(t,Qe)&&o.unshift(t),o=o.filter(r),o},Wn=function e(t,n,r){for(var o=[],i=Array.from(t);i.length;){var s=i.shift();if(!We(s,!1))if(s.tagName==="SLOT"){var c=s.assignedElements(),u=c.length?c:s.children,a=e(u,!0,r);r.flatten?o.push.apply(o,a):o.push({scopeParent:s,candidates:a})}else{var h=Ee.call(s,Qe);h&&r.filter(s)&&(n||!t.includes(s))&&o.push(s);var f=s.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(s),p=!We(f,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(f&&p){var l=e(f===!0?s.children:f.children,!0,r);r.flatten?o.push.apply(o,l):o.push({scopeParent:s,candidates:l})}else i.unshift.apply(i,s.children)}}return o},Yt=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},Xt=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||Nn(t))&&!Yt(t)?0:t.tabIndex},Vn=function(t,n){var r=Xt(t);return r<0&&n&&!Yt(t)?0:r},$n=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},zt=function(t){return t.tagName==="INPUT"},Hn=function(t){return zt(t)&&t.type==="hidden"},_n=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},Kn=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},jn=function(t){if(!t.name)return!0;var n=t.form||Be(t),r=function(c){return n.querySelectorAll('input[type="radio"][name="'+c+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(t.name));else try{o=r(t.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var i=Kn(o,t.form);return!i||i===t},qn=function(t){return zt(t)&&t.type==="radio"},Yn=function(t){return qn(t)&&!jn(t)},Xn=function(t){var n,r=t&&Be(t),o=(n=r)===null||n===void 0?void 0:n.host,i=!1;if(r&&r!==t){var s,c,u;for(i=!!((s=o)!==null&&s!==void 0&&(c=s.ownerDocument)!==null&&c!==void 0&&c.contains(o)||t!=null&&(u=t.ownerDocument)!==null&&u!==void 0&&u.contains(t));!i&&o;){var a,h,f;r=Be(o),o=(a=r)===null||a===void 0?void 0:a.host,i=!!((h=o)!==null&&h!==void 0&&(f=h.ownerDocument)!==null&&f!==void 0&&f.contains(o))}}return i},ht=function(t){var n=t.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},zn=function(t,n){var r=n.displayCheck,o=n.getShadowRoot;if(getComputedStyle(t).visibility==="hidden")return!0;var i=Ee.call(t,"details>summary:first-of-type"),s=i?t.parentElement:t;if(Ee.call(s,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var c=t;t;){var u=t.parentElement,a=Be(t);if(u&&!u.shadowRoot&&o(u)===!0)return ht(t);t.assignedSlot?t=t.assignedSlot:!u&&a!==t.ownerDocument?t=a.host:t=u}t=c}if(Xn(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return ht(t);return!1},Un=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return Ee.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},Gn=function(t,n){return!(n.disabled||We(n)||Hn(n)||zn(n,t)||_n(n)||Un(n))},bt=function(t,n){return!(Yn(n)||Xt(n)<0||!Gn(t,n))},Zn=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},Jn=function e(t){var n=[],r=[];return t.forEach(function(o,i){var s=!!o.scopeParent,c=s?o.scopeParent:o,u=Vn(c,s),a=s?e(o.candidates):c;u===0?s?n.push.apply(n,a):n.push(c):r.push({documentOrder:i,tabIndex:u,item:o,isScope:s,content:a})}),r.sort($n).reduce(function(o,i){return i.isScope?o.push.apply(o,i.content):o.push(i.content),o},[]).concat(n)},it=function(t,n){n=n||{};var r;return n.getShadowRoot?r=Wn([t],n.includeContainer,{filter:bt.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:Zn}):r=Bn(t,n.includeContainer,bt.bind(null,n)),Jn(r)},G=typeof document<"u"?g.useLayoutEffect:g.useEffect;let Xe=!1,Qn=0;const yt=()=>"floating-ui-"+Qn++;function er(){const[e,t]=g.useState(()=>Xe?yt():void 0);return G(()=>{e==null&&t(yt())},[]),g.useEffect(()=>{Xe||(Xe=!0)},[]),e}const tr=At["useId".toString()],st=tr||er;function nr(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.set(t,[...e.get(t)||[],n])},off(t,n){var r;e.set(t,((r=e.get(t))==null?void 0:r.filter(o=>o!==n))||[])}}}const rr=g.createContext(null),or=g.createContext(null),Ut=()=>{var e;return((e=g.useContext(rr))==null?void 0:e.id)||null},je=()=>g.useContext(or);function z(e){return(e==null?void 0:e.ownerDocument)||document}function ir(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function sr(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:n,version:r}=t;return n+"/"+r}).join(" "):navigator.userAgent}function qe(e){return z(e).defaultView||window}function Z(e){return e?e instanceof Element||e instanceof qe(e).Element:!1}function we(e){return e?e instanceof HTMLElement||e instanceof qe(e).HTMLElement:!1}function cr(e){if(typeof ShadowRoot>"u")return!1;const t=qe(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function ur(e){if(e.mozInputSource===0&&e.isTrusted)return!0;const t=/Android/i;return(t.test(ir())||t.test(sr()))&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function lr(e){return e.width===0&&e.height===0||e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType!=="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0}function ar(){return/apple/i.test(navigator.vendor)}function Ve(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function fr(e){return"nativeEvent"in e}function Y(e,t){if(!e||!t)return!1;const n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&cr(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function fe(e){return"data-floating-ui-"+e}function xe(e){const t=g.useRef(e);return G(()=>{t.current=e}),t}const wt=fe("safe-polygon");function ze(e,t,n){return n&&!Ve(n)?0:typeof e=="number"?e:e==null?void 0:e[t]}function Lr(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,elements:{domReference:s,floating:c},refs:u}=e,{enabled:a=!0,delay:h=0,handleClose:f=null,mouseOnly:p=!1,restMs:l=0,move:v=!0}=t,m=je(),E=Ut(),y=xe(f),b=xe(h),L=g.useRef(),w=g.useRef(),C=g.useRef(),k=g.useRef(),I=g.useRef(!0),P=g.useRef(!1),V=g.useRef(()=>{}),$=g.useCallback(()=>{var d;const T=(d=o.current.openEvent)==null?void 0:d.type;return(T==null?void 0:T.includes("mouse"))&&T!=="mousedown"},[o]);g.useEffect(()=>{if(!a)return;function d(){clearTimeout(w.current),clearTimeout(k.current),I.current=!0}return i.on("dismiss",d),()=>{i.off("dismiss",d)}},[a,i]),g.useEffect(()=>{if(!a||!y.current||!n)return;function d(R){$()&&r(!1,R)}const T=z(c).documentElement;return T.addEventListener("mouseleave",d),()=>{T.removeEventListener("mouseleave",d)}},[c,n,r,a,y,o,$]);const O=g.useCallback(function(d,T){T===void 0&&(T=!0);const R=ze(b.current,"close",L.current);R&&!C.current?(clearTimeout(w.current),w.current=setTimeout(()=>r(!1,d),R)):T&&(clearTimeout(w.current),r(!1,d))},[b,r]),F=g.useCallback(()=>{V.current(),C.current=void 0},[]),x=g.useCallback(()=>{if(P.current){const d=z(u.floating.current).body;d.style.pointerEvents="",d.removeAttribute(wt),P.current=!1}},[u]);return g.useEffect(()=>{if(!a)return;function d(){return o.current.openEvent?["click","mousedown"].includes(o.current.openEvent.type):!1}function T(S){if(clearTimeout(w.current),I.current=!1,p&&!Ve(L.current)||l>0&&ze(b.current,"open")===0)return;const H=ze(b.current,"open",L.current);H?w.current=setTimeout(()=>{r(!0,S)},H):r(!0,S)}function R(S){if(d())return;V.current();const H=z(c);if(clearTimeout(k.current),y.current){n||clearTimeout(w.current),C.current=y.current({...e,tree:m,x:S.clientX,y:S.clientY,onClose(){x(),F(),O(S)}});const D=C.current;H.addEventListener("mousemove",D),V.current=()=>{H.removeEventListener("mousemove",D)};return}(L.current==="touch"?!Y(c,S.relatedTarget):!0)&&O(S)}function A(S){d()||y.current==null||y.current({...e,tree:m,x:S.clientX,y:S.clientY,onClose(){x(),F(),O(S)}})(S)}if(Z(s)){const S=s;return n&&S.addEventListener("mouseleave",A),c==null||c.addEventListener("mouseleave",A),v&&S.addEventListener("mousemove",T,{once:!0}),S.addEventListener("mouseenter",T),S.addEventListener("mouseleave",R),()=>{n&&S.removeEventListener("mouseleave",A),c==null||c.removeEventListener("mouseleave",A),v&&S.removeEventListener("mousemove",T),S.removeEventListener("mouseenter",T),S.removeEventListener("mouseleave",R)}}},[s,c,a,e,p,l,v,O,F,x,r,n,m,b,y,o]),G(()=>{var d;if(a&&n&&(d=y.current)!=null&&d.__options.blockPointerEvents&&$()){const A=z(c).body;if(A.setAttribute(wt,""),A.style.pointerEvents="none",P.current=!0,Z(s)&&c){var T,R;const S=s,H=m==null||(T=m.nodesRef.current.find(X=>X.id===E))==null||(R=T.context)==null?void 0:R.elements.floating;return H&&(H.style.pointerEvents=""),S.style.pointerEvents="auto",c.style.pointerEvents="auto",()=>{S.style.pointerEvents="",c.style.pointerEvents=""}}}},[a,n,E,c,s,m,y,o,$]),G(()=>{n||(L.current=void 0,F(),x())},[n,F,x]),g.useEffect(()=>()=>{F(),clearTimeout(w.current),clearTimeout(k.current),x()},[a,F,x]),g.useMemo(()=>{if(!a)return{};function d(T){L.current=T.pointerType}return{reference:{onPointerDown:d,onPointerEnter:d,onMouseMove(T){n||l===0||(clearTimeout(k.current),k.current=setTimeout(()=>{I.current||r(!0,T.nativeEvent)},l))}},floating:{onMouseEnter(){clearTimeout(w.current)},onMouseLeave(T){i.emit("dismiss",{type:"mouseLeave",data:{returnFocus:!1}}),O(T.nativeEvent,!1)}}}},[i,a,l,n,r,O])}function le(e){let t=e.activeElement;for(;((n=t)==null||(r=n.shadowRoot)==null?void 0:r.activeElement)!=null;){var n,r;t=t.shadowRoot.activeElement}return t}let xt=0;function ue(e,t){t===void 0&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(xt);const i=()=>e==null?void 0:e.focus({preventScroll:n});o?i():xt=requestAnimationFrame(i)}function dr(e,t){var n;let r=[],o=(n=e.find(i=>i.id===t))==null?void 0:n.parentId;for(;o;){const i=e.find(s=>s.id===o);o=i==null?void 0:i.parentId,i&&(r=r.concat(i))}return r}function he(e,t){let n=e.filter(o=>{var i;return o.parentId===t&&((i=o.context)==null?void 0:i.open)}),r=n;for(;r.length;)r=e.filter(o=>{var i;return(i=r)==null?void 0:i.some(s=>{var c;return o.parentId===s.id&&((c=o.context)==null?void 0:c.open)})}),n=n.concat(r);return n}function ct(e){return"composedPath"in e?e.composedPath()[0]:e.target}const mr="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Gt(e){return we(e)&&e.matches(mr)}function Ue(e){e.preventDefault(),e.stopPropagation()}const ut=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Zt(e,t){const n=it(e,ut());t==="prev"&&n.reverse();const r=n.indexOf(le(z(e)));return n.slice(r+1)[0]}function Jt(){return Zt(document.body,"next")}function Qt(){return Zt(document.body,"prev")}function Re(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!Y(n,r)}function pr(e){it(e,ut()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function gr(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}const lt={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0};let vr;function Rt(e){e.key==="Tab"&&(e.target,clearTimeout(vr))}const $e=g.forwardRef(function(t,n){const[r,o]=g.useState();G(()=>(ar()&&o("button"),document.addEventListener("keydown",Rt),()=>{document.removeEventListener("keydown",Rt)}),[]);const i={ref:n,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[fe("focus-guard")]:"",style:lt};return ne("span",{...t,...i})}),en=g.createContext(null);function hr(e){let{id:t,root:n}=e===void 0?{}:e;const[r,o]=g.useState(null),i=st(),s=tn(),c=g.useMemo(()=>({id:t,root:n,portalContext:s,uniqueId:i}),[t,n,s,i]),u=g.useRef();return G(()=>()=>{r==null||r.remove()},[r,c]),G(()=>{if(u.current===c)return;u.current=c;const{id:a,root:h,portalContext:f,uniqueId:p}=c,l=a?document.getElementById(a):null,v=fe("portal");if(l){const m=document.createElement("div");m.id=p,m.setAttribute(v,""),l.appendChild(m),o(m)}else{let m=h||(f==null?void 0:f.portalNode);m&&!Z(m)&&(m=m.current),m=m||document.body;let E=null;a&&(E=document.createElement("div"),E.id=a,m.appendChild(E));const y=document.createElement("div");y.id=p,y.setAttribute(v,""),m=E||m,m.appendChild(y),o(y)}},[c]),r}function Mr(e){let{children:t,id:n,root:r=null,preserveTabOrder:o=!0}=e;const i=hr({id:n,root:r}),[s,c]=g.useState(null),u=g.useRef(null),a=g.useRef(null),h=g.useRef(null),f=g.useRef(null),p=!!s&&!s.modal&&s.open&&o&&!!(r||i);return g.useEffect(()=>{if(!i||!o||s!=null&&s.modal)return;function l(v){i&&Re(v)&&(v.type==="focusin"?gr:pr)(i)}return i.addEventListener("focusin",l,!0),i.addEventListener("focusout",l,!0),()=>{i.removeEventListener("focusin",l,!0),i.removeEventListener("focusout",l,!0)}},[i,o,s==null?void 0:s.modal]),Pt(en.Provider,{value:g.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:u,afterOutsideRef:a,beforeInsideRef:h,afterInsideRef:f,portalNode:i,setFocusManagerState:c}),[o,i]),children:[p&&i&&ne($e,{"data-type":"outside",ref:u,onFocus:l=>{if(Re(l,i)){var v;(v=h.current)==null||v.focus()}else{const m=Qt()||(s==null?void 0:s.refs.domReference.current);m==null||m.focus()}}}),p&&i&&ne("span",{"aria-owns":i.id,style:lt}),i&&St.createPortal(t,i),p&&i&&ne($e,{"data-type":"outside",ref:a,onFocus:l=>{if(Re(l,i)){var v;(v=f.current)==null||v.focus()}else{const m=Jt()||(s==null?void 0:s.refs.domReference.current);m==null||m.focus(),s!=null&&s.closeOnFocusOut&&(s==null||s.onOpenChange(!1,l.nativeEvent))}}})]})}const tn=()=>g.useContext(en),br=g.forwardRef(function(t,n){return ne("button",{...t,type:"button",ref:n,tabIndex:-1,style:lt})});function Ir(e){const{context:t,children:n,disabled:r=!1,order:o=["content"],guards:i=!0,initialFocus:s=0,returnFocus:c=!0,modal:u=!0,visuallyHiddenDismiss:a=!1,closeOnFocusOut:h=!0}=e,{open:f,refs:p,nodeId:l,onOpenChange:v,events:m,dataRef:E,elements:{domReference:y,floating:b}}=t,L=jt()?i:!0,w=xe(o),C=xe(s),k=xe(c),I=je(),P=tn(),V=typeof s=="number"&&s<0,$=g.useRef(null),O=g.useRef(null),F=g.useRef(!1),x=g.useRef(null),d=g.useRef(!1),T=P!=null,R=y&&y.getAttribute("role")==="combobox"&&Gt(y),A=g.useCallback(function(D){return D===void 0&&(D=b),D?it(D,ut()):[]},[b]),S=g.useCallback(D=>{const N=A(D);return w.current.map(M=>y&&M==="reference"?y:b&&M==="floating"?b:N).filter(Boolean).flat()},[y,b,w,A]);g.useEffect(()=>{if(r||!u)return;function D(M){if(M.key==="Tab"){Y(b,le(z(b)))&&A().length===0&&!R&&Ue(M);const B=S(),K=ct(M);w.current[0]==="reference"&&K===y&&(Ue(M),M.shiftKey?ue(B[B.length-1]):ue(B[1])),w.current[1]==="floating"&&K===b&&M.shiftKey&&(Ue(M),ue(B[0]))}}const N=z(b);return N.addEventListener("keydown",D),()=>{N.removeEventListener("keydown",D)}},[r,y,b,u,w,p,R,A,S]),g.useEffect(()=>{if(r||!h)return;function D(){d.current=!0,setTimeout(()=>{d.current=!1})}function N(M){const B=M.relatedTarget;queueMicrotask(()=>{const K=!(Y(y,B)||Y(b,B)||Y(B,b)||Y(P==null?void 0:P.portalNode,B)||B!=null&&B.hasAttribute(fe("focus-guard"))||I&&(he(I.nodesRef.current,l).find(j=>{var q,W;return Y((q=j.context)==null?void 0:q.elements.floating,B)||Y((W=j.context)==null?void 0:W.elements.domReference,B)})||dr(I.nodesRef.current,l).find(j=>{var q,W;return((q=j.context)==null?void 0:q.elements.floating)===B||((W=j.context)==null?void 0:W.elements.domReference)===B})));B&&K&&!d.current&&B!==x.current&&(F.current=!0,v(!1,M))})}if(b&&we(y))return y.addEventListener("focusout",N),y.addEventListener("pointerdown",D),!u&&b.addEventListener("focusout",N),()=>{y.removeEventListener("focusout",N),y.removeEventListener("pointerdown",D),!u&&b.removeEventListener("focusout",N)}},[r,y,b,u,l,I,P,v,h]),g.useEffect(()=>{var D;if(r)return;const N=Array.from((P==null||(D=P.portalNode)==null?void 0:D.querySelectorAll("["+fe("portal")+"]"))||[]);if(b&&u){const M=[b,...N,$.current,O.current].filter(j=>j!=null),K=(L?Kt:Dn)(w.current.includes("reference")||R?M.concat(y||[]):M,void 0,fe("inert"));return()=>{K()}}},[r,y,b,u,w,P,R,L]),G(()=>{if(r||!b)return;const D=z(b),N=le(D);queueMicrotask(()=>{const M=S(b),B=C.current,K=(typeof B=="number"?M[B]:B.current)||b,j=Y(b,N);!V&&!j&&f&&ue(K,{preventScroll:K===b})})},[r,f,b,V,S,C]),G(()=>{if(r||!b)return;let D=!1;const N=z(b),M=le(N),B=E.current;x.current=M;function K(j){if(j.type==="escapeKey"&&p.domReference.current&&(x.current=p.domReference.current),["referencePress","escapeKey"].includes(j.type))return;const q=j.data.returnFocus;typeof q=="object"?(F.current=!1,D=q.preventScroll):F.current=!q}return m.on("dismiss",K),()=>{m.off("dismiss",K);const j=le(N);(Y(b,j)||I&&he(I.nodesRef.current,l).some(W=>{var _;return Y((_=W.context)==null?void 0:_.elements.floating,j)})||B.openEvent&&["click","mousedown"].includes(B.openEvent.type))&&p.domReference.current&&(x.current=p.domReference.current),k.current&&we(x.current)&&!F.current&&ue(x.current,{cancelPrevious:!1,preventScroll:D})}},[r,b,k,E,p,m,I,l]),G(()=>{if(!(r||!P))return P.setFocusManagerState({...t,modal:u,closeOnFocusOut:h,open:f}),()=>{P.setFocusManagerState(null)}},[r,P,u,f,h,t]),G(()=>{if(!r&&b&&typeof MutationObserver=="function"){const D=()=>{const M=b.getAttribute("tabindex");w.current.includes("floating")||le(z(b))!==p.domReference.current&&A().length===0?M!=="0"&&b.setAttribute("tabindex","0"):M!=="-1"&&b.setAttribute("tabindex","-1")};D();const N=new MutationObserver(D);return N.observe(b,{childList:!0,subtree:!0,attributes:!0}),()=>{N.disconnect()}}},[r,b,p,w,A]);function H(D){return r||!a||!u?null:ne(br,{ref:D==="start"?$:O,onClick:N=>v(!1,N.nativeEvent),children:typeof a=="string"?a:"Dismiss"})}const X=!r&&L&&!R&&(T||u);return Pt(nn,{children:[X&&ne($e,{"data-type":"inside",ref:P==null?void 0:P.beforeInsideRef,onFocus:D=>{if(u){const M=S();ue(o[0]==="reference"?M[0]:M[M.length-1])}else if(P!=null&&P.preserveTabOrder&&P.portalNode)if(F.current=!1,Re(D,P.portalNode)){const M=Jt()||y;M==null||M.focus()}else{var N;(N=P.beforeOutsideRef.current)==null||N.focus()}}}),!R&&H("start"),n,H("end"),X&&ne($e,{"data-type":"inside",ref:P==null?void 0:P.afterInsideRef,onFocus:D=>{if(u)ue(S()[0]);else if(P!=null&&P.preserveTabOrder&&P.portalNode)if(h&&(F.current=!0),Re(D,P.portalNode)){const M=Qt()||y;M==null||M.focus()}else{var N;(N=P.afterOutsideRef.current)==null||N.focus()}}})]})}function Et(e){return we(e.target)&&e.target.tagName==="BUTTON"}function Tt(e){return Gt(e)}function Dr(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,elements:{domReference:i}}=e,{enabled:s=!0,event:c="click",toggle:u=!0,ignoreMouse:a=!1,keyboardHandlers:h=!0}=t,f=g.useRef(),p=g.useRef(!1);return g.useMemo(()=>s?{reference:{onPointerDown(l){f.current=l.pointerType},onMouseDown(l){l.button===0&&(Ve(f.current,!0)&&a||c!=="click"&&(n&&u&&(!o.current.openEvent||o.current.openEvent.type==="mousedown")?r(!1,l.nativeEvent):(l.preventDefault(),r(!0,l.nativeEvent))))},onClick(l){if(c==="mousedown"&&f.current){f.current=void 0;return}Ve(f.current,!0)&&a||(n&&u&&(!o.current.openEvent||o.current.openEvent.type==="click")?r(!1,l.nativeEvent):r(!0,l.nativeEvent))},onKeyDown(l){f.current=void 0,!(l.defaultPrevented||!h||Et(l))&&(l.key===" "&&!Tt(i)&&(l.preventDefault(),p.current=!0),l.key==="Enter"&&r(!(n&&u),l.nativeEvent))},onKeyUp(l){l.defaultPrevented||!h||Et(l)||Tt(i)||l.key===" "&&p.current&&(p.current=!1,r(!(n&&u),l.nativeEvent))}}}:{},[s,o,c,a,h,i,u,n,r])}const yr=At["useInsertionEffect".toString()],wr=yr||(e=>e());function Le(e){const t=g.useRef(()=>{});return wr(()=>{t.current=e}),g.useCallback(function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.current==null?void 0:t.current(...r)},[])}function Me(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}const xr={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},Rr={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Er=e=>{var t,n;return{escapeKeyBubbles:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePressBubbles:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function kr(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,events:o,nodeId:i,elements:{reference:s,domReference:c,floating:u},dataRef:a}=e,{enabled:h=!0,escapeKey:f=!0,outsidePress:p=!0,outsidePressEvent:l="pointerdown",referencePress:v=!1,referencePressEvent:m="pointerdown",ancestorScroll:E=!1,bubbles:y}=t,b=je(),L=Ut()!=null,w=Le(typeof p=="function"?p:()=>!1),C=typeof p=="function"?w:p,k=g.useRef(!1),{escapeKeyBubbles:I,outsidePressBubbles:P}=Er(y),V=Le(O=>{if(!n||!h||!f||O.key!=="Escape")return;const F=b?he(b.nodesRef.current,i):[];if(!I&&(O.stopPropagation(),F.length>0)){let x=!0;if(F.forEach(d=>{var T;if((T=d.context)!=null&&T.open&&!d.context.dataRef.current.__escapeKeyBubbles){x=!1;return}}),!x)return}o.emit("dismiss",{type:"escapeKey",data:{returnFocus:{preventScroll:!1}}}),r(!1,fr(O)?O.nativeEvent:O)}),$=Le(O=>{const F=k.current;if(k.current=!1,F||typeof C=="function"&&!C(O))return;const x=ct(O);if(we(x)&&u){const R=x.clientWidth>0&&x.scrollWidth>x.clientWidth,A=x.clientHeight>0&&x.scrollHeight>x.clientHeight;let S=A&&O.offsetX>x.clientWidth;if(A&&qe(u).getComputedStyle(x).direction==="rtl"&&(S=O.offsetX<=x.offsetWidth-x.clientWidth),S||R&&O.offsetY>x.clientHeight)return}const d=b&&he(b.nodesRef.current,i).some(R=>{var A;return Me(O,(A=R.context)==null?void 0:A.elements.floating)});if(Me(O,u)||Me(O,c)||d)return;const T=b?he(b.nodesRef.current,i):[];if(T.length>0){let R=!0;if(T.forEach(A=>{var S;if((S=A.context)!=null&&S.open&&!A.context.dataRef.current.__outsidePressBubbles){R=!1;return}}),!R)return}o.emit("dismiss",{type:"outsidePress",data:{returnFocus:L?{preventScroll:!0}:ur(O)||lr(O)}}),r(!1,O)});return g.useEffect(()=>{if(!n||!h)return;a.current.__escapeKeyBubbles=I,a.current.__outsidePressBubbles=P;function O(d){r(!1,d)}const F=z(u);f&&F.addEventListener("keydown",V),C&&F.addEventListener(l,$);let x=[];return E&&(Z(c)&&(x=re(c)),Z(u)&&(x=x.concat(re(u))),!Z(s)&&s&&s.contextElement&&(x=x.concat(re(s.contextElement)))),x=x.filter(d=>{var T;return d!==((T=F.defaultView)==null?void 0:T.visualViewport)}),x.forEach(d=>{d.addEventListener("scroll",O,{passive:!0})}),()=>{f&&F.removeEventListener("keydown",V),C&&F.removeEventListener(l,$),x.forEach(d=>{d.removeEventListener("scroll",O)})}},[a,u,c,s,f,C,l,n,r,E,h,I,P,V,$]),g.useEffect(()=>{k.current=!1},[C,l]),g.useMemo(()=>h?{reference:{onKeyDown:V,[xr[m]]:O=>{v&&(o.emit("dismiss",{type:"referencePress",data:{returnFocus:!1}}),r(!1,O.nativeEvent))}},floating:{onKeyDown:V,[Rr[l]]:()=>{k.current=!0}}}:{},[h,o,v,l,m,r,V])}function Nr(e){var t;e===void 0&&(e={});const{open:n=!1,onOpenChange:r,nodeId:o}=e,[i,s]=g.useState(null),c=((t=e.elements)==null?void 0:t.reference)||i,u=Ln(e),a=je(),h=Le((w,C)=>{w&&(p.current.openEvent=C),r==null||r(w,C)}),f=g.useRef(null),p=g.useRef({}),l=g.useState(()=>nr())[0],v=st(),m=g.useCallback(w=>{const C=Z(w)?{getBoundingClientRect:()=>w.getBoundingClientRect(),contextElement:w}:w;u.refs.setReference(C)},[u.refs]),E=g.useCallback(w=>{(Z(w)||w===null)&&(f.current=w,s(w)),(Z(u.refs.reference.current)||u.refs.reference.current===null||w!==null&&!Z(w))&&u.refs.setReference(w)},[u.refs]),y=g.useMemo(()=>({...u.refs,setReference:E,setPositionReference:m,domReference:f}),[u.refs,E,m]),b=g.useMemo(()=>({...u.elements,domReference:c}),[u.elements,c]),L=g.useMemo(()=>({...u,refs:y,elements:b,dataRef:p,nodeId:o,floatingId:v,events:l,open:n,onOpenChange:h}),[u,o,v,l,n,h,y,b]);return G(()=>{const w=a==null?void 0:a.nodesRef.current.find(C=>C.id===o);w&&(w.context=L)}),g.useMemo(()=>({...u,context:L,refs:y,elements:b}),[u,y,b,L])}function Br(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:o,events:i,refs:s,elements:{floating:c,domReference:u}}=e,{enabled:a=!0,keyboardOnly:h=!0}=t,f=g.useRef(""),p=g.useRef(!1),l=g.useRef();return g.useEffect(()=>{if(!a)return;const m=z(c).defaultView||window;function E(){!n&&we(u)&&u===le(z(u))&&(p.current=!0)}return m.addEventListener("blur",E),()=>{m.removeEventListener("blur",E)}},[c,u,n,a]),g.useEffect(()=>{if(!a)return;function v(m){(m.type==="referencePress"||m.type==="escapeKey")&&(p.current=!0)}return i.on("dismiss",v),()=>{i.off("dismiss",v)}},[i,a]),g.useEffect(()=>()=>{clearTimeout(l.current)},[]),g.useMemo(()=>a?{reference:{onPointerDown(v){let{pointerType:m}=v;f.current=m,p.current=!!(m&&h)},onMouseLeave(){p.current=!1},onFocus(v){var m;p.current||v.type==="focus"&&((m=o.current.openEvent)==null?void 0:m.type)==="mousedown"&&Me(o.current.openEvent,u)||r(!0,v.nativeEvent)},onBlur(v){p.current=!1;const m=v.relatedTarget,E=Z(m)&&m.hasAttribute(fe("focus-guard"))&&m.getAttribute("data-type")==="outside";l.current=setTimeout(()=>{Y(s.floating.current,m)||Y(u,m)||E||r(!1,v.nativeEvent)})}}}:{},[a,h,u,s,o,r])}function Ge(e,t,n){const r=new Map;return{...n==="floating"&&{tabIndex:-1},...e,...t.map(o=>o?o[n]:null).concat(e).reduce((o,i)=>(i&&Object.entries(i).forEach(s=>{let[c,u]=s;if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof u=="function"){var a;(a=r.get(c))==null||a.push(u),o[c]=function(){for(var h,f=arguments.length,p=new Array(f),l=0;l<f;l++)p[l]=arguments[l];return(h=r.get(c))==null?void 0:h.map(v=>v(...p)).find(v=>v!==void 0)}}}else o[c]=u}),o),{})}}function Wr(e){e===void 0&&(e=[]);const t=e,n=g.useCallback(i=>Ge(i,e,"reference"),t),r=g.useCallback(i=>Ge(i,e,"floating"),t),o=g.useCallback(i=>Ge(i,e,"item"),e.map(i=>i==null?void 0:i.item));return g.useMemo(()=>({getReferenceProps:n,getFloatingProps:r,getItemProps:o}),[n,r,o])}function Vr(e){return g.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})},e)}function $r(e,t){t===void 0&&(t={});const{open:n,floatingId:r}=e,{enabled:o=!0,role:i="dialog"}=t,s=st();return g.useMemo(()=>{const c={id:r,role:i};return o?i==="tooltip"?{reference:{"aria-describedby":n?r:void 0},floating:c}:{reference:{"aria-expanded":n?"true":"false","aria-haspopup":i==="alertdialog"?"dialog":i,"aria-controls":n?r:void 0,...i==="listbox"&&{role:"combobox"},...i==="menu"&&{id:s}},floating:{...c,...i==="menu"&&{"aria-labelledby":s}}}:{}},[o,i,n,r,s])}function Ct(e,t){const[n,r]=e;let o=!1;const i=t.length;for(let s=0,c=i-1;s<i;c=s++){const[u,a]=t[s]||[0,0],[h,f]=t[c]||[0,0];a>=r!=f>=r&&n<=(h-u)*(r-a)/(f-a)+u&&(o=!o)}return o}function Tr(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function Hr(e){e===void 0&&(e={});const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e;let o,i=!1,s=null,c=null,u=performance.now();function a(f,p){const l=performance.now(),v=l-u;if(s===null||c===null||v===0)return s=f,c=p,u=l,null;const m=f-s,E=p-c,b=Math.sqrt(m*m+E*E)/v;return s=f,c=p,u=l,b}const h=f=>{let{x:p,y:l,placement:v,elements:m,onClose:E,nodeId:y,tree:b}=f;return function(w){function C(){clearTimeout(o),E()}if(clearTimeout(o),!m.domReference||!m.floating||v==null||p==null||l==null)return;const{clientX:k,clientY:I}=w,P=[k,I],V=ct(w),$=w.type==="mouseleave",O=Y(m.floating,V),F=Y(m.domReference,V),x=m.domReference.getBoundingClientRect(),d=m.floating.getBoundingClientRect(),T=v.split("-")[0],R=p>d.right-d.width/2,A=l>d.bottom-d.height/2,S=Tr(P,x),H=d.width>x.width,X=d.height>x.height,D=(H?x:d).left,N=(H?x:d).right,M=(X?x:d).top,B=(X?x:d).bottom;if(O&&(i=!0,!$))return;if(F&&(i=!1),F&&!$){i=!0;return}if($&&Z(w.relatedTarget)&&Y(m.floating,w.relatedTarget)||b&&he(b.nodesRef.current,y).some(q=>{let{context:W}=q;return W==null?void 0:W.open}))return;if(T==="top"&&l>=x.bottom-1||T==="bottom"&&l<=x.top+1||T==="left"&&p>=x.right-1||T==="right"&&p<=x.left+1)return C();let K=[];switch(T){case"top":K=[[D,x.top+1],[D,d.bottom-1],[N,d.bottom-1],[N,x.top+1]];break;case"bottom":K=[[D,d.top+1],[D,x.bottom-1],[N,x.bottom-1],[N,d.top+1]];break;case"left":K=[[d.right-1,B],[d.right-1,M],[x.left+1,M],[x.left+1,B]];break;case"right":K=[[x.right-1,B],[x.right-1,M],[d.left+1,M],[d.left+1,B]];break}function j(q){let[W,_]=q;switch(T){case"top":{const se=[H?W+t/2:R?W+t*4:W-t*4,_+t+1],ce=[H?W-t/2:R?W+t*4:W-t*4,_+t+1],pe=[[d.left,R||H?d.bottom-t:d.top],[d.right,R?H?d.bottom-t:d.top:d.bottom-t]];return[se,ce,...pe]}case"bottom":{const se=[H?W+t/2:R?W+t*4:W-t*4,_-t],ce=[H?W-t/2:R?W+t*4:W-t*4,_-t],pe=[[d.left,R||H?d.top+t:d.bottom],[d.right,R?H?d.top+t:d.bottom:d.top+t]];return[se,ce,...pe]}case"left":{const se=[W+t+1,X?_+t/2:A?_+t*4:_-t*4],ce=[W+t+1,X?_-t/2:A?_+t*4:_-t*4];return[...[[A||X?d.right-t:d.left,d.top],[A?X?d.right-t:d.left:d.right-t,d.bottom]],se,ce]}case"right":{const se=[W-t,X?_+t/2:A?_+t*4:_-t*4],ce=[W-t,X?_-t/2:A?_+t*4:_-t*4],pe=[[A||X?d.left+t:d.right,d.top],[A?X?d.left+t:d.right:d.left+t,d.bottom]];return[se,ce,...pe]}}}if(!Ct([k,I],K)){if(i&&!S)return C();if(!$&&r){const q=a(w.clientX,w.clientY);if(q!==null&&q<.1)return C()}Ct([k,I],j([p,l]))?!i&&r&&(o=window.setTimeout(C,40)):C()}}};return h.__options={blockPointerEvents:n},h}export{Mr as F,Lr as a,Dr as b,kr as c,$r as d,Wr as e,Or as f,Sr as g,Ar as h,st as i,Ir as j,Vr as k,Br as l,Fr as m,Pr as o,Hr as s,Nr as u};

import{r as h,j as x,s as ae,R as et,F as tt,a as X}from"./index-5326e962.js";import{e as B,x as rt,y as Oe,z as Pe,A as Ue,b as Z,B as Be,C as nt,D as ot,c as it,k as q,E as A,F as at,G as Ze,d as He,H as st,w as he,J as ct,$ as be,v as We,K as je,L as lt,M as ut,a as dt,N as ft,i as gt}from"./import-4411284c.js";import{u as ht}from"./use-dom-ref-5f553221.js";import{t as bt,m as $e}from"./index-c774b727.js";import"./index-c8b3b64c.js";import{a as se}from"./index-ca56a980.js";import{B as ce}from"./button-2b52873c.js";const Ve=h.createContext({}),pt=({children:t})=>{const[e,r]=h.useState(!1);return x(Ve.Provider,{value:{isReset:e,setIsReset:r},children:t})},Pr=()=>h.useContext(Ve),vr=pt,xe=ae("td",{cursor:"pointer","&.focused":{height:"100%",outline:"$cdgBlue120 solid 2px"},"&.today .calendar-cell-value":{color:"$cdgBlue",fontWeight:"bold"},"&:hover":{backgroundColor:"$cdgBlue40 !important",borderRadius:"$md"},"&.selected":{backgroundColor:"$gray20"},"&.highlighted":{backgroundColor:"$cdgBlue100",borderRadius:"$md"},"&.unavailable .calendar-cell-value":{textDecoration:"line-through",color:"$gray50"},"&.highlighted .calendar-cell-value":{color:"$whiteText"},"& .calendar-cell-value":{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",fontSize:"$body3",color:"$gray100"},"& .calendar-cell-value.disabled":{cursor:"not-allowed",color:"$gray50",background:"$background"}}),mt={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit"},_e=new WeakMap;function le(t,e,r){return t==null?!1:e!=null&&t.compare(e)<0||r!=null&&t.compare(r)>0}function yt(t,e){if(t===null)return null;if(t)return B(t,e)}const te=(t,e,r,n,i)=>{const a={months:0},c=J(t,e,r).subtract(a);return Q(t,c,e,r,n,i)};function J(t,e,r,n,i){let a=t;return e.years?a=rt(t):e.months?a=Oe(t):e.weeks&&(a=Pe(t,r)),Q(t,a,e,r,n,i)}function Q(t,e,r,n,i,a){return i&&t.compare(i)>=0&&(e=Ue(e,J(Z(i),r,n))),a&&t.compare(a)<=0&&(e=Be(e,Pt(Z(a),r,n))),e}function Pt(t,e,r,n,i){const a={...e};a.days?a.days--:a.weeks?a.weeks--:a.months?a.months--:a.years&&a.years--;const c=J(t,e,r).subtract(a);return Q(t,c,e,r,n,i)}function H(t,e,r){return e&&(t=Ue(t,Z(e))),r&&(t=Be(t,Z(r))),t}function vt(t,e,r){if(!e)return null;if(!r)return t;for(;t.compare(e)>=0&&r(t);)t=t.subtract({days:1});return t.compare(e)>=0?t:null}function Tt(t){const e=t.width/2||t.radiusX||0,r=t.height/2||t.radiusY||0;return{top:t.clientY-r,right:t.clientX+e,bottom:t.clientY+r,left:t.clientX-e}}function Dt(t,e){return!(t.left>e.right||e.left>t.right||t.top>e.bottom||e.top>t.bottom)}function G(t,e){if(!e)return;const r=e.getBoundingClientRect(),n=Tt(t);return Dt(r,n)}function Tr(t){return t&&"hour"in t?t:new nt}function Dr(t,e){t={...mt,...t};const r=e.granularity||"minute",n=Object.keys(t);let i=n.indexOf(e.maxGranularity??"year");i<0&&(i=0);let a=n.indexOf(r);if(a<0&&(a=2),i>a)throw new Error("maxGranularity must be greater than granularity");const c=n.slice(i,a+1).reduce((b,g)=>(b[g]=t[g],b),{});return e.hourCycle!=null&&(c.hour12=e.hourCycle===12),c.timeZone=e.timeZone||"UTC",(r==="hour"||r==="minute"||r==="second")&&e.timeZone&&!e.hideTimeZone&&(c.timeZoneName="short"),e.showEra&&i===0&&(c.era="short"),c}function Sr(t,e,r){var i,a;if(!e.visibleRange)throw new Error("visibleRange is not defined on state");let n=t.add({days:r});for(;(r<0?n.compare(e.visibleRange.start)>=0:n.compare(e.visibleRange.end)<=0)&&!((i=e.isCellUnavailable)!=null&&i.call(e,n));)n=n.add({days:r});return(a=e.isCellUnavailable)!=null&&a.call(e,n)?n.add({days:-r}):null}function Cr(t,e,r,n){if(t)return yt(t,r);const i=B(ot(n).set({hour:0,minute:0,second:0,millisecond:0}),r);return e==="year"||e==="month"||e==="day"?Z(i):n?i:it(i)}function wr(t,e){const r={year:"yyyy",month:"mm",day:"dd"};return t==="era"||t==="dayPeriod"?e:t==="year"||t==="month"||t==="day"?r[t]:"––"}const St=new Set(["id"]),Ct=/^(data-.*)$/;function $r(t,e={}){const{labelable:r,propNames:n}=e,i={};for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&(St.has(a)||r&&labelablePropNames.has(a)||n!=null&&n.has(a)||Ct.test(a))&&(i[a]=t[a]);return i}const xr=1900,wt=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),Er={"en-US":{previous:"Previous",next:"Next",selectedDateDescription:"Selected Date: {date}",selectedRangeDescription:"Selected Range: {dateRange}",todayDate:"Today, {date}",todayDateSelected:"Today, {date} selected",dateSelected:"{date} selected",startRangeSelectionPrompt:"Click to start selecting date range",finishRangeSelectionPrompt:"Click to finish selecting date range",calendar:"Calendar",minimumDate:"First available date",maximumDate:"Last available date",dateRange:"{startDate} to {endDate}",era:"era",year:"year",month:"month",day:"day",hour:"hour",minute:"minute",second:"second",dayPeriod:"AM/PM",startDate:"Start Date",endDate:"End Date",weekday:"day of the week",timeZoneName:"time zone",selectedTimeDescription:"Selected Time: {time}",Empty:"Empty"}};function $t(t){return t.width===0&&t.height===0||t.width===1&&t.height===1&&t.pressure===0&&t.detail===0&&t.pointerType==="mouse"}function pe(t){return t.tagName==="A"&&t.hasAttribute("href")}function Ge(t,e){return t.type==="checkbox"||t.type==="radio"?e===" ":wt.has(t.type)}function ue(t,e){const{key:r,code:n}=t,i=e,a=i.getAttribute("role");return(r==="Enter"||r===" "||r==="Spacebar"||n==="Space")&&!(i instanceof HTMLInputElement&&!Ge(i,r)||i instanceof HTMLTextAreaElement||i.isContentEditable)&&(!pe(i)||a==="button"&&r!=="Enter")&&!(a==="link"&&r!=="Enter")}const ve=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],xt=ve.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";ve.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const Et=ve.join(':not([hidden]):not([tabindex="-1"]),'),Rr=`__role_${Date.now()}`,kr=`__focusManager_${Date.now()}`;function Te(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(t.test(((e=window.navigator.userAgentData)==null?void 0:e.platform)||window.navigator.platform)):!1}function Rt(t){var e;return typeof window>"u"||window.navigator==null?!1:((e=window.navigator.userAgentData)==null?void 0:e.brands.some(r=>t.test(r.brand)))||t.test(window.navigator.userAgent)}function kt(){return Te(/^Mac/i)}function Mt(){return Te(/^iPhone/i)}function Ft(){return Te(/^iPad/i)||kt()&&navigator.maxTouchPoints>1}function Ye(){return Mt()||Ft()}function It(){return Rt(/Android/i)}let j="default";const Lt=new Map,Nt=new Set,ie=new WeakMap;let me="";function At(t){requestAnimationFrame(()=>{Lt.size===0?t():Nt.add(t)})}function re(t){if(Ye()){if(j!=="disabled")return;j="restoring",setTimeout(()=>{At(()=>{j==="restoring"&&(document.documentElement.style.webkitUserSelect==="none"&&(document.documentElement.style.webkitUserSelect=me||""),me="",j="default")})},300)}else if((t instanceof HTMLElement||t instanceof SVGElement)&&t&&ie.has(t)){const e=ie.get(t);t.style.userSelect==="none"&&(t.style.userSelect=e),t.getAttribute("style")===""&&t.removeAttribute("style"),ie.delete(t)}}function Ee(t){Ye()?(j==="default"&&(me=document.documentElement.style.webkitUserSelect,document.documentElement.style.webkitUserSelect="none"),j="disabled"):(t instanceof HTMLElement||t instanceof SVGElement)&&(ie.set(t,t.style.userSelect),t.style.userSelect="none")}let ne=null;function Kt(){if(ne==null){ne=!1;try{document.createElement("div").focus({get preventScroll(){return ne=!0,!0}})}catch{}}return ne}function z(t){if(Kt())t.focus({preventScroll:!0});else{const e=Ut(t);t.focus(),Ot(e)}}function Ot(t){for(const{element:e,scrollTop:r,scrollLeft:n}of t)e.scrollTop=r,e.scrollLeft=n}function Ut(t){let e=t.parentNode;const r=[],n=document.scrollingElement||document.documentElement;for(;e instanceof HTMLElement&&e!==n;)(e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)&&r.push({element:e,scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),e=e.parentNode;return n instanceof HTMLElement&&r.push({element:n,scrollTop:n.scrollTop,scrollLeft:n.scrollLeft}),r}function Re(t){return t.mozInputSource===0&&t.isTrusted?!0:It()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}function Bt(t){if(!(t instanceof HTMLElement)&&!(t instanceof SVGElement))return!1;const{display:e,visibility:r}=t.style;let n=e!=="none"&&r!=="hidden"&&r!=="collapse";if(n){const{getComputedStyle:i}=t.ownerDocument.defaultView,{display:a,visibility:c}=i(t);n=a!=="none"&&c!=="hidden"&&c!=="collapse"}return n}function Zt(t,e){return!t.hasAttribute("hidden")&&(t.nodeName==="DETAILS"&&e&&e.nodeName!=="SUMMARY"?t.hasAttribute("open"):!0)}function ze(t,e){return t.nodeName!=="#comment"&&Bt(t)&&Zt(t,e)&&(!t.parentElement||ze(t.parentElement,t))}function Ht(t,e){return e.some(r=>r.contains(t))}function oe(t,e,r){const n=e!=null&&e.tabbable?Et:xt,i=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode(a){var c;return(c=e==null?void 0:e.from)!=null&&c.contains(a)?NodeFilter.FILTER_REJECT:a.matches(n)&&ze(a)&&(!r||Ht(a,r))&&(!(e!=null&&e.accept)||e.accept(a))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return e!=null&&e.from&&(i.currentNode=e.from),i}function Wt(t){z(t)}function Y(t,e=!1){if(t!=null&&!e)try{Wt(t)}catch{}else if(t!=null)try{t.focus()}catch{}}function de(t){let e,r;do r=t.lastChild(),r&&(e=r);while(r);return e}function Mr(t,e={}){return{focusNext(r={}){const n=t.current;if(!n)return;const{from:i,tabbable:a=e.tabbable,wrap:c=e.wrap,accept:f=e.accept}=r,b=i||document.activeElement,g=oe(n,{tabbable:a,accept:f});n.contains(b)&&(g.currentNode=b);let p=g.nextNode();return!p&&c&&(g.currentNode=n,p=g.nextNode()),p&&Y(p,!0),p},focusPrevious(r=e){const n=t.current;if(!n)return;const{from:i,tabbable:a=e.tabbable,wrap:c=e.wrap,accept:f=e.accept}=r,b=i||document.activeElement,g=oe(n,{tabbable:a,accept:f});if(n.contains(b))g.currentNode=b;else{const T=de(g);return T&&Y(T,!0),T}let p=g.previousNode();return!p&&c&&(g.currentNode=n,p=de(g)),p&&Y(p,!0),p},focusFirst(r=e){const n=t.current;if(!n)return;const{tabbable:i=e.tabbable,accept:a=e.accept}=r,f=oe(n,{tabbable:i,accept:a}).nextNode();return f&&Y(f,!0),f},focusLast(r=e){const n=t.current;if(!n)return;const{tabbable:i=e.tabbable,accept:a=e.accept}=r,c=oe(n,{tabbable:i,accept:a}),f=de(c);return f&&Y(f,!0),f}}}class Fr{constructor(e,r){this.nativeEvent=r,this.target=r.target,this.currentTarget=r.currentTarget,this.relatedTarget=r.relatedTarget,this.bubbles=r.bubbles,this.cancelable=r.cancelable,this.defaultPrevented=r.defaultPrevented,this.eventPhase=r.eventPhase,this.isTrusted=r.isTrusted,this.timeStamp=r.timeStamp,this.type=e}isDefaultPrevented(){return this.nativeEvent.defaultPrevented}preventDefault(){this.defaultPrevented=!0,this.nativeEvent.preventDefault()}stopPropagation(){this.nativeEvent.stopPropagation(),this.isPropagationStopped=()=>!0}isPropagationStopped(){return!1}persist(){}}function ke(t){for(Me(t)&&(t=t.parentElement);t&&!Me(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}function Me(t){const e=window.getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}function Fe(t,e,r){const n=r==="left"?"offsetLeft":"offsetTop";let i=0;for(;e.offsetParent&&(i+=e[n],e.offsetParent!==t);){if(e.offsetParent.contains(t)){i-=t[n];break}e=e.offsetParent}return i}function jt(t,e){const r=Fe(t,e,"left"),n=Fe(t,e,"top"),i=e.offsetWidth,a=e.offsetHeight;let c=t.scrollLeft,f=t.scrollTop;const{borderTopWidth:b,borderLeftWidth:g}=getComputedStyle(t),p=t.scrollLeft+parseInt(g,10),T=t.scrollTop+parseInt(b,10),C=p+t.clientWidth,d=T+t.clientHeight;r<=c?c=r-parseInt(g,10):r+i>C&&(c+=r+i-C),n<=T?f=n-parseInt(b,10):n+a>d&&(f+=n+a-d),t.scrollLeft=c,t.scrollTop=f}function Ir(t,e){var r,n,i,a;if(document.contains(t)){const c=document.scrollingElement||document.documentElement;if(window.getComputedStyle(c).overflow==="hidden"){let b=ke(t);for(;t&&b&&t!==c&&b!==c;)jt(b,t),t=b,b=ke(t)}else{const{left:b,top:g}=t.getBoundingClientRect();(r=t==null?void 0:t.scrollIntoView)==null||r.call(t,{block:"nearest"});const{left:p,top:T}=t.getBoundingClientRect();(Math.abs(b-p)>1||Math.abs(g-T)>1)&&((i=(n=e==null?void 0:e.containingElement)==null?void 0:n.scrollIntoView)==null||i.call(n,{block:"center",inline:"center"}),(a=t.scrollIntoView)==null||a.call(t,{block:"nearest"}))}}}let Vt=0;const fe=new Map;function _t(t){const[e,r]=h.useState(void 0);return h.useLayoutEffect(()=>{if(!t)return;let n=fe.get(t);if(n)r(n.element.id);else{const i=`react-aria-description-${Vt++}`;r(i);const a=document.createElement("div");a.id=i,a.style.display="none",a.textContent=t,document.body.appendChild(a),n={refCount:0,element:a},fe.set(t,n)}return n.refCount++,()=>{n&&--n.refCount===0&&(n.element.remove(),fe.delete(t))}},[t]),{"aria-describedby":t?e:void 0}}function Gt(){const t=h.useRef(new Map),e=h.useCallback((i,a,c,f)=>{const b=f!=null&&f.once?(...g)=>{t.current.delete(c),c(...g)}:c;t.current.set(c,{type:a,eventTarget:i,fn:b,options:f}),i.addEventListener(a,c,f)},[]),r=h.useCallback((i,a,c,f)=>{var g;const b=((g=t.current.get(c))==null?void 0:g.fn)||c;i.removeEventListener(a,b,f),t.current.delete(c)},[]),n=h.useCallback(()=>{t.current.forEach((i,a)=>{r(i.eventTarget,i.type,a,i.options)})},[r]);return h.useEffect(()=>n,[n]),{addGlobalListener:e,removeGlobalListener:r,removeAllGlobalListeners:n}}const Xe=h.createContext(null);Xe.displayName="PressResponderContext";function Yt(t,e){h.useLayoutEffect(()=>(t!=null&&t.ref&&e&&(t.ref.current=e.current),()=>{t!=null&&t.ref&&e&&(t.ref.current=null)}),[t,e])}function zt(t){const e=h.useContext(Xe);if(e){const{register:r,...n}=e;t={...n,...t},r()}return Yt(e,t.ref),t}function U(t,e){return{currentTarget:t,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey,altKey:e.altKey}}function Ie(t,e){return t instanceof HTMLInputElement?!Ge(t,e):t instanceof HTMLButtonElement?t.type!=="submit":!0}function ge(t){return!(t instanceof HTMLElement)||!t.draggable}function Xt(t){const{targetTouches:e}=t;return e.length>0?e[0]:null}function qt(t,e){const r=t.changedTouches;for(let n=0;n<r.length;n++){const i=r[n];if((i==null?void 0:i.identifier)===e)return i}return null}function Jt(t){const{onPress:e,onPressChange:r,onPressStart:n,onPressEnd:i,onPressUp:a,isDisabled:c,isPressed:f,preventFocusOnPress:b,shouldCancelOnPointerExit:g,allowTextSelectionOnPress:p,ref:T,...C}=zt(t),d=h.useRef(null);d.current={onPress:e,onPressChange:r,onPressStart:n,onPressEnd:i,onPressUp:a,isDisabled:c,shouldCancelOnPointerExit:g};const[P,D]=h.useState(!1),$=h.useRef({isPressed:!1,ignoreEmulatedMouseEvents:!1,ignoreClickAfterPress:!1,didFirePressStart:!1,activePointerId:null,target:null,isOverTarget:!1,pointerType:"mouse"}),{addGlobalListener:R,removeAllGlobalListeners:m}=Gt(),I=h.useMemo(()=>{const o=$.current,L=(u,F)=>{if(!d.current)return;const{onPressStart:l,onPressChange:s,isDisabled:w}=d.current;w||o.didFirePressStart||(l&&l({type:"pressstart",pointerType:F,target:u.currentTarget,shiftKey:u.shiftKey,metaKey:u.metaKey,ctrlKey:u.ctrlKey,altKey:u.altKey}),s&&s(!0),o.didFirePressStart=!0,D(!0))},v=(u,F,l=!0)=>{if(!d.current||!F)return;const{onPressEnd:s,onPressChange:w,onPress:y,isDisabled:E}=d.current;o.didFirePressStart&&(o.ignoreClickAfterPress=!0,o.didFirePressStart=!1,y&&l&&!E&&y({type:"press",pointerType:F,target:u.currentTarget,shiftKey:u.shiftKey,metaKey:u.metaKey,ctrlKey:u.ctrlKey,altKey:u.altKey}),s&&s({type:"pressend",pointerType:F,target:u.currentTarget,shiftKey:u.shiftKey,metaKey:u.metaKey,ctrlKey:u.ctrlKey,altKey:u.altKey}),w&&w(!1),D(!1))},S=(u,F)=>{if(!d.current)return;const{onPressUp:l,isDisabled:s}=d.current;s||l&&l({type:"pressup",pointerType:F,target:u.currentTarget,shiftKey:u.shiftKey,metaKey:u.metaKey,ctrlKey:u.ctrlKey,altKey:u.altKey})},k=u=>{o.isPressed&&(o.isOverTarget&&v(U(o.target,u),o.pointerType,!1),o.isPressed=!1,o.isOverTarget=!1,o.activePointerId=null,o.pointerType="mouse",m(),p||re(o.target))},M={"aria-label":"","aria-labelledby":void 0,onKeyDown(u){ue(u.nativeEvent,u.currentTarget)&&u.currentTarget.contains(u.target)?(Ie(u.target,u.key)&&u.preventDefault(),u.stopPropagation(),!o.isPressed&&!u.repeat&&(o.target=u.currentTarget,o.isPressed=!0,L(u,"keyboard"),R(document,"keyup",N,!1))):u.key==="Enter"&&pe(u.currentTarget)&&u.stopPropagation()},onKeyUp(u){S(U(o.target,u),"keyboard"),ue(u.nativeEvent,u.currentTarget)&&u.currentTarget.contains(u.target)&&S(U(o.target,u),"keyboard")},onClick(u){u.currentTarget.contains(u.target)&&u&&u.button===0&&(u.stopPropagation(),c&&u.preventDefault(),!o.ignoreClickAfterPress&&!o.ignoreEmulatedMouseEvents&&(o.pointerType==="virtual"||Re(u.nativeEvent))&&(!c&&!b&&z(u.currentTarget),L(u,"virtual"),S(u,"virtual"),v(u,"virtual")),o.ignoreEmulatedMouseEvents=!1,o.ignoreClickAfterPress=!1)}},N=u=>{if(o.isPressed&&ue(u,o.target)){Ie(u.target,u.key)&&u.preventDefault(),u.stopPropagation(),o.isPressed=!1;const F=u.target;o.target&&v(U(o.target,u),"keyboard",o.target.contains(F)),m(),o.target instanceof HTMLElement&&o.target.contains(F)&&(pe(o.target)||o.target.getAttribute("role")==="link")&&o.target.click()}};if(typeof h.PointerEvent<"u"){M.onPointerDown=s=>{if(!(s.button!==0||!s.currentTarget.contains(s.target))){if($t(s.nativeEvent)){o.pointerType="virtual";return}ge(s.currentTarget)&&s.preventDefault(),o.pointerType=s.pointerType,s.stopPropagation(),o.isPressed||(o.isPressed=!0,o.isOverTarget=!0,o.activePointerId=s.pointerId,o.target=s.currentTarget,!c&&!b&&z(s.currentTarget),p||Ee(o.target),L(s,o.pointerType),R(document,"pointermove",u,!1),R(document,"pointerup",F,!1),R(document,"pointercancel",l,!1))}},M.onMouseDown=s=>{s.currentTarget.contains(s.target)&&s.button===0&&(ge(s.currentTarget)&&s.preventDefault(),s.stopPropagation())},M.onPointerUp=s=>{!s.currentTarget.contains(s.target)||o.pointerType==="virtual"||s.button===0&&G(s,s.currentTarget)&&S(s,o.pointerType||s.pointerType)};const u=s=>{s.pointerId===o.activePointerId&&(G(s,o.target)?o.isOverTarget||(o.isOverTarget=!0,L(U(o.target,s),o.pointerType)):o.isOverTarget&&(o.isOverTarget=!1,v(U(o.target,s),o.pointerType,!1),d.current.shouldCancelOnPointerExit&&k(s)))},F=s=>{s.pointerId===o.activePointerId&&o.isPressed&&s.button===0&&(G(s,o.target)?v(U(o.target,s),o.pointerType):o.isOverTarget&&v(U(o.target,s),o.pointerType,!1),o.isPressed=!1,o.isOverTarget=!1,o.activePointerId=null,o.pointerType="pen",m(),p||re(o.target))},l=s=>{k(s)};M.onDragStart=s=>{s.currentTarget.contains(s.target)&&k(s)}}else{M.onMouseDown=l=>{l.button!==0||!l.currentTarget.contains(l.target)||(ge(l.currentTarget)&&l.preventDefault(),l.stopPropagation(),!o.ignoreEmulatedMouseEvents&&(o.isPressed=!0,o.isOverTarget=!0,o.target=l.currentTarget,o.pointerType=Re(l.nativeEvent)?"virtual":"mouse",!c&&!b&&z(l.currentTarget),L(l,o.pointerType),R(document,"mouseup",u,!1)))},M.onMouseEnter=l=>{l.currentTarget.contains(l.target)&&(l.stopPropagation(),o.isPressed&&!o.ignoreEmulatedMouseEvents&&(o.isOverTarget=!0,L(l,o.pointerType)))},M.onMouseLeave=l=>{l.currentTarget.contains(l.target)&&(l.stopPropagation(),o.isPressed&&!o.ignoreEmulatedMouseEvents&&(o.isOverTarget=!1,v(l,o.pointerType,!1),d.current.shouldCancelOnPointerExit&&k(l)))},M.onMouseUp=l=>{l.currentTarget.contains(l.target)&&!o.ignoreEmulatedMouseEvents&&l.button===0&&S(l,o.pointerType)};const u=l=>{if(l.button===0){if(o.isPressed=!1,m(),o.ignoreEmulatedMouseEvents){o.ignoreEmulatedMouseEvents=!1;return}G(l,o.target)?v(U(o.target,l),o.pointerType):o.isOverTarget&&v(U(o.target,l),o.pointerType,!1),o.isOverTarget=!1}};M.onTouchStart=l=>{if(!l.currentTarget.contains(l.target))return;l.stopPropagation();const s=Xt(l.nativeEvent);s&&(o.activePointerId=s.identifier,o.ignoreEmulatedMouseEvents=!0,o.isOverTarget=!0,o.isPressed=!0,o.target=l.currentTarget,o.pointerType="touch",!c&&!b&&z(l.currentTarget),p||Ee(o.target),L(l,o.pointerType),R(window,"scroll",F,!0))},M.onTouchMove=l=>{l.currentTarget.contains(l.target)&&(l.stopPropagation(),o.isPressed)},M.onTouchEnd=l=>{if(!l.currentTarget.contains(l.target)||(l.stopPropagation(),!o.isPressed))return;const s=qt(l.nativeEvent,o.activePointerId);s&&G(s,l.currentTarget)?(S(l,o.pointerType),v(l,o.pointerType)):o.isOverTarget&&v(l,o.pointerType,!1),o.isPressed=!1,o.activePointerId=null,o.isOverTarget=!1,o.ignoreEmulatedMouseEvents=!0,p||re(o.target),m()},M.onTouchCancel=l=>{l.currentTarget.contains(l.target)&&(l.stopPropagation(),o.isPressed&&k(l))};const F=l=>{o.isPressed&&l.target.contains(o.target)&&k({currentTarget:o.target,shiftKey:!1,ctrlKey:!1,metaKey:!1,altKey:!1})};M.onDragStart=l=>{l.currentTarget.contains(l.target)&&k(l)}}return M},[R,c,b,m,p]);return h.useEffect(()=>()=>{p||re($.current.target)},[p]),{isPressed:f??P,pressProps:{...C,...I}}}function Le(t,e){var N,u,F,l,s,w;let{date:r,isDisabled:n}=t;const{errorMessageId:i,selectedDateDescription:a}=_e.get(e)??{errorMessageId:void 0,selectedDateDescription:""},c=q({weekday:"long",day:"numeric",month:"long",year:"numeric",era:void 0,timeZone:e.timeZone});let f=(N=e.isSelected)==null?void 0:N.call(e,r);const b=(u=e.isCellFocused)==null?void 0:u.call(e,r);n=n||((F=e.isCellDisabled)==null?void 0:F.call(e,r));const g=(l=e.isCellUnavailable)==null?void 0:l.call(e,r),p=!n&&!g,T=e.validationState==="invalid"&&("highlightedRange"in e?!e.anchorDate&&e.highlightedRange&&r.compare(e.highlightedRange.start)>=0&&r.compare(e.highlightedRange.end)<=0:e.value&&A(e.value,r));T&&(f=!0);const C=h.useRef();C.current&&at(r,C.current)&&(r=C.current),C.current=r;const d=h.useMemo(()=>r.toDate(e.timeZone??"UTC"),[r,e.timeZone]),P=Ze(r,e.timeZone??"UTC"),D=h.useMemo(()=>{var E,O;let y="";return"highlightedRange"in e&&((E=e.value)!=null&&E.end)&&((O=e.value)!=null&&O.start)&&!e.anchorDate&&(A(r,e.value.start)||A(r,e.value.end))&&(y=a+", "),y+=c.format(d),P?y=f?"I dag, {date} selected".replace("{date}",y):"I dag, {date}".replace("{date}",y):f&&(y="{date} selected".replace("{date}",y)),e.minValue&&A(r,e.minValue)?y+=", First available date":e.maxValue&&A(r,e.maxValue)&&(y+=", Last available date"),y},[c,d,f,P,r,e,a]);let $="";"anchorDate"in e&&b&&!e.isReadOnly&&p&&(e.anchorDate?$="Click to finish selecting date range":$="Click to start selecting date range");const R=_t($),m=h.useRef(!1),I=h.useRef(!1),o=h.useRef(),{pressProps:L,isPressed:v}=Jt({shouldCancelOnPointerExit:"anchorDate"in e&&!!e.anchorDate,preventFocusOnPress:!0,isDisabled:!p||e.isReadOnly,onPressStart(y){var E,O,K;if(e.isReadOnly){(E=e.setFocusedDate)==null||E.call(e,r);return}if("highlightedRange"in e&&!e.anchorDate&&(y.pointerType==="mouse"||y.pointerType==="touch")){if(e.highlightedRange&&!T){if(A(r,e.highlightedRange.start)){e.setAnchorDate(e.highlightedRange.end),(O=e.setFocusedDate)==null||O.call(e,r),e.setDragging(!0),I.current=!0;return}else if(A(r,e.highlightedRange.end)){e.setAnchorDate(e.highlightedRange.start),(K=e.setFocusedDate)==null||K.call(e,r),e.setDragging(!0),I.current=!0;return}}const W=()=>{var V,_;e.setDragging(!0),o.current=null,(V=e.selectDate)==null||V.call(e,r),(_=e.setFocusedDate)==null||_.call(e,r),m.current=!0};y.pointerType==="touch"?o.current=setTimeout(W,200):W()}},onPressEnd(){I.current=!1,m.current=!1,clearTimeout(o.current),o.current=null},onPress(){var y,E;!("anchorDate"in e)&&!e.isReadOnly&&((y=e.selectDate)==null||y.call(e,r),(E=e.setFocusedDate)==null||E.call(e,r))},onPressUp(y){var E,O,K,W,V,_,De,Se,Ce,we;if(!e.isReadOnly&&("anchorDate"in e&&o.current&&((E=e.selectDate)==null||E.call(e,r),(O=e.setFocusedDate)==null||O.call(e,r)),"anchorDate"in e))if(I.current)e.setAnchorDate(r);else if(e.anchorDate&&!m.current)(K=e.selectDate)==null||K.call(e,r),(W=e.setFocusedDate)==null||W.call(e,r);else if(y.pointerType==="keyboard"&&!e.anchorDate){(V=e.selectDate)==null||V.call(e,r);let ee=r.add({days:1});(_=e.isInvalid)!=null&&_.call(e,ee)&&(ee=r.subtract({days:1})),(De=e.isInvalid)!=null&&De.call(e,ee)||(Se=e.setFocusedDate)==null||Se.call(e,ee)}else y.pointerType==="virtual"&&((Ce=e.selectDate)==null||Ce.call(e,r),(we=e.setFocusedDate)==null||we.call(e,r))}});let S;n||(S=A(r,e.focusedDate)?0:-1);const k=q({day:"numeric",timeZone:e.timeZone,calendar:r.calendar.identifier}),M=h.useMemo(()=>{var y;return(y=k.formatToParts(d).find(E=>E.type==="day"))==null?void 0:y.value},[k,d]);return{cellProps:{role:"gridcell","aria-disabled":!p,"aria-selected":f,"aria-invalid":T},buttonProps:{...L,onFocus(){var y;n||(y=e.setFocusedDate)==null||y.call(e,r)},tabIndex:S,role:"button","aria-disabled":!p,"aria-label":D,"aria-invalid":T,"aria-describedby":[T?i:null,R["aria-describedby"]].filter(Boolean).join(" ")||void 0,onPointerEnter(y){"highlightDate"in e&&(y.pointerType!=="touch"||e.isDragging)&&p&&e.highlightDate(r)},onContextMenu(y){y.preventDefault()}},isPressed:v,isFocused:b,isSelected:f,isDisabled:n,isUnavailable:g,isOutsideVisibleRange:r.compare((s=e==null?void 0:e.visibleRange)==null?void 0:s.start)<0||r.compare((w=e==null?void 0:e.visibleRange)==null?void 0:w.end)>0,isInvalid:T,formattedDate:M}}const Qt=et.forwardRef((t,e)=>{const{state:r,date:n,currentMonth:i,css:a={},maxValue:c=He("2099-02-17")}=t,f=ht(e),{cellProps:b,buttonProps:g,isSelected:p,isUnavailable:T,formattedDate:C}=Le({date:n},r);let{isDisabled:d}=Le({date:n},r);const P=!st(i,n),D=Ze(n,he()),$="highlightedRange"in r;let R=!1,m=!1;$&&(R=r.highlightedRange?A(n,r.highlightedRange.start):p,m=r.highlightedRange?A(n,r.highlightedRange.end):p,d=n.month!==i.month);const I=()=>{let S="";return v&&(S+="focused "),p&&$?S+="selected ":p&&!$&&(S+="highlighted "),(R||m)&&(S+="highlighted "),T&&(S+="unavailable "),D&&(S+="today "),S};(()=>{c&&n>c&&(d=!0)})();const{focusProps:L,isFocusVisible:v}=ct();return x(tt,{children:d?x(xe,{...b,css:a,className:I(),children:x("div",{ref:f,hidden:P,className:`calendar-cell-value  disabled ${p?"selected":""}`,children:C})}):x(xe,{...b,css:a,className:I(),"aria-label":g["aria-label"],"aria-disabled":g["aria-disabled"],"aria-invalid":g["aria-invalid"],role:g.role,tabIndex:g.tabIndex,...L,...g,children:x("div",{ref:f,hidden:P,className:`calendar-cell-value  ${d?"disabled":""} ${p?"selected":""}`,children:C})})})}),er=Qt,tr=ae("table",{marginTop:"$2",borderCollapse:"collapse","& .calendar-weekday":{fontSize:"$label2",fontWeight:"$semibold",color:"$cdgBlue120"},"& th, & td":{width:"$10"},"& td":{height:"$8"},"& td > div":{display:"flex",justifyContent:"center"}}),rr=ae("tr",{height:"$8"}),qe={prefix:String(Math.round(Math.random()*1e10)),current:0,isSSR:!1};function nr(t=!1){const e=h.useContext(Je),r=h.useRef(null);return r.current===null&&!t&&(r.current=++e.current),r.current}const or=!!(typeof window<"u"&&window.document.createElement),Je=h.createContext(qe);function ir(t){const e=h.useContext(Je);e===qe&&!or&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");const r=nr(!!t);return t??`compass-design${e.prefix}-${r}`}const Ne=new Map;function ye(t){const[e,r]=h.useState(t),n=h.useRef(null),i=ir(e),a=h.useCallback(c=>{n.current=c},[]);return Ne.set(i,a),h.useLayoutEffect(()=>{const c=i;return()=>{Ne.delete(c)}},[i]),h.useEffect(()=>{const c=n.current;c&&(n.current=null,r(c))}),i}function Qe(t,e){let{id:r,"aria-label":n,"aria-labelledby":i}=t;return r=ye(r),i&&n?i=[...new Set([...i.trim().split(/\s+/),r])].join(" "):i&&(i=i.trim().split(/\s+/).join(" ")),!n&&!i&&e&&(n=e),{id:r,"aria-label":n,"aria-labelledby":i}}function Lr(t){const{label:e,"aria-label":r,labelElementType:n="label"}=t;let{id:i,"aria-labelledby":a}=t;i=ye(i);const c=ye();let f={};e?(a=a?`${a} ${c}`:c,f={id:c,htmlFor:n==="label"?i:void 0}):!a&&!r&&console.warn("If you do not provide a visible label, you must specify an aria-label or aria-labelledby attribute for accessibility");const b=Qe({id:i,"aria-label":r,"aria-labelledby":a});return{labelProps:f,fieldProps:b}}function ar(t,e){const r=q({month:"long",year:"numeric",era:void 0,calendar:t.calendar.identifier,timeZone:e});return h.useMemo(()=>r.format(t.toDate(e)),[t,r,e])}function sr(t,e){var C;const{startDate:r=(C=e.visibleRange)==null?void 0:C.start}=t,{direction:n}=be(),i=ar(r,e.timeZone??"UTC"),{ariaLabel:a,ariaLabelledBy:c}=_e.get(e)??{ariaLabel:void 0,ariaLabelledBy:void 0},f=Qe({id:"","aria-label":[a,i].filter(Boolean).join(", "),"aria-labelledby":c}),{locale:b}=be(),g=q({weekday:t.weekdayStyle??"short",timeZone:e.timeZone}),p=h.useMemo(()=>{const d=Pe(We(e.timeZone??he()),b);return[...new Array(7).keys()].map(P=>{const $=d.add({days:P}).toDate(e.timeZone??he());return g.format($)})},[]),T=d=>{var P,D,$,R,m,I,o,L,v,S,k;switch(d.key){case"Enter":case" ":d.preventDefault(),(P=e.selectFocusedDate)==null||P.call(e);break;case"PageUp":d.preventDefault(),d.stopPropagation(),(D=e.focusPreviousSection)==null||D.call(e,d.shiftKey);break;case"PageDown":d.preventDefault(),d.stopPropagation(),($=e.focusNextSection)==null||$.call(e,d.shiftKey);break;case"End":d.preventDefault(),d.stopPropagation(),(R=e.focusSectionEnd)==null||R.call(e);break;case"Home":d.preventDefault(),d.stopPropagation(),(m=e.focusSectionStart)==null||m.call(e);break;case"ArrowLeft":d.preventDefault(),d.stopPropagation(),n==="rtl"?(I=e.focusNextDay)==null||I.call(e):(o=e.focusPreviousDay)==null||o.call(e);break;case"ArrowUp":d.preventDefault(),d.stopPropagation(),(L=e.focusPreviousRow)==null||L.call(e);break;case"ArrowRight":d.preventDefault(),d.stopPropagation(),n==="rtl"?(v=e.focusPreviousDay)==null||v.call(e):(S=e.focusNextDay)==null||S.call(e);break;case"ArrowDown":d.preventDefault(),d.stopPropagation(),(k=e.focusNextRow)==null||k.call(e);break;case"Escape":"setAnchorDate"in e&&(d.preventDefault(),e.setAnchorDate(null));break}};return{gridProps:{...f,role:"grid","aria-readonly":e.isReadOnly||null,"aria-disabled":e.isDisabled||null,"aria-multiselectable":"highlightedRange"in e||void 0,onKeyDown:T,onFocus:()=>{var d;return(d=e.setFocused)==null?void 0:d.call(e,!0)},onBlur:()=>{var d;return(d=e.setFocused)==null?void 0:d.call(e,!1)}},headerProps:{"aria-hidden":!0},weekDays:p}}const cr={days:0,months:0,weeks:0,years:0},lr=t=>{var d;const{state:e,offset:r=cr,css:n={},maxValue:i=He("2999-02-17")}=t,{locale:a}=be(),c=(d=e==null?void 0:e.visibleRange)==null?void 0:d.start.add(r),f=je(c),{gridProps:b,headerProps:g,weekDays:p}=sr({startDate:c,endDate:f},e),T=lt(c,a),C=[...new Array(T).keys()].length===5;return X(tr,{...b,css:n,cellPadding:"0",className:"cdg-calendar-grid",children:[x("thead",{...g,children:x("tr",{children:p.map((P,D)=>x("th",{className:"calendar-weekday",children:P},D))})}),X("tbody",{children:[[...new Array(T).keys()].map(P=>{var D;return x("tr",{children:(D=e.getDatesInWeek)==null?void 0:D.call(e,P,c).map(($,R)=>$?x(er,{state:e,date:$,currentMonth:c,maxValue:i},R):x("td",{},R))},P)}),C&&x(rr,{"aria-hidden":!0,className:"week-sixth-placeholder"})]})]})},Nr=lr,ur=ae("div",{display:"flex",alignItems:"center",justifyContent:"space-between","& .calendar-header-left-side, & .calendar-header-right-side":{display:"flex",alignItems:"center",flex:1},"& h2":{fontWeight:"$semibold",fontSize:"$body3",color:"$cdgBlue100",margin:0,marginLeft:"auto",marginRight:"auto"},"& .calendar-header-icon":{width:"$3",height:"$3"}}),dr=t=>{var b,g;const{state:e,variant:r="default",calendarProps:n,prevButtonProps:i,nextButtonProps:a,css:c={}}=t,f=q({month:"long",year:"numeric",timeZone:e.timeZone});return X(ur,{css:c,children:[x(ut,{children:x("h2",{children:n["aria-label"]})}),X("div",{className:"calendar-header-left-side",children:[x(ce,{variant:"ghost",...i,children:x(se,{className:"calendar-header-icon chevron-left",icon:bt})}),x("h2",{"aria-hidden":!0,children:f.format((b=e==null?void 0:e.visibleRange)==null?void 0:b.start.toDate(e.timeZone??"UTC"))}),r==="default"&&x(ce,{variant:"ghost",...a,children:x(se,{className:"calendar-header-icon chevron-right",icon:$e})})]}),r==="range"&&X("div",{className:"calendar-header-right-side",children:[x("h2",{"aria-hidden":!0,children:f.format((g=e==null?void 0:e.visibleRange)==null?void 0:g.start.add({months:1}).toDate(e.timeZone??"UTC"))}),x(ce,{variant:"ghost",...a,children:x(se,{className:"calendar-header-icon chevron-right",icon:$e})})]})]})},Ar=dr;function Ae(t,e,r){const[n,i]=h.useState(t||e),a=h.useRef(t!==void 0),c=a.current,f=t!==void 0,b=h.useRef(n);c!==f&&console.warn(`WARN: A component changed from ${c?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}.`),a.current=f;const g=h.useCallback((p,...T)=>{const C=(d,...P)=>{r&&(Object.is(b.current,d)||r(d,...P)),f||(b.current=d)};typeof p=="function"?(console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),i((P,...D)=>{const $=p(f?b.current:P,...D);return C($,...T),f?P:$})):(f||i(p),C(p,...T))},[f,r]);return f?b.current=t:t=n,[t,g]}function Ke(t){const e={...t};for(const r in t)e[r]=1;return e}const Kr=t=>{const{locale:e,createCalendar:r,visibleDuration:n={months:1},minValue:i,maxValue:a,isDateUnavailable:c,onChange:f}=t,b=()=>{},[g,p]=Ae(t.value,t.defaultValue,f),T=h.useMemo(()=>new dt(e),[e]),C=h.useMemo(()=>T.resolvedOptions(),[T]),d=h.useMemo(()=>g&&"timeZone"in g?g.timeZone:C.timeZone,[g,C.timeZone]),P=h.useMemo(()=>r(C.calendar),[r,C.calendar]),D=h.useMemo(()=>g?B(Z(g),P):null,[g,P]),$=h.useMemo(()=>t.focusedValue?H(B(Z(t.focusedValue),P),i,a):void 0,[t.focusedValue,P,i,a]),R=h.useMemo(()=>H(t.defaultFocusedValue?B(Z(t.defaultFocusedValue),P):D??B(We(d),P),i,a),[t.defaultFocusedValue,D,d,P,i,a]),[m,I]=Ae($,R,b),[o,L]=h.useState(t.autoFocus||!1),[v,S]=h.useState(()=>te(m,{months:1},e,i,a)),k=h.useMemo(()=>{const s={...n};return s.days?s.days--:s.days=-1,v.add(s)},[v]),M=h.useRef(P.identifier);if(P.identifier!==M.current){const s=B(m,P);S(te(s,n,e,i,a)),I(s),M.current=P.identifier}i&&a&&le(m,i,a)?I(H(m,i,a)):(m&&m.compare(v)<0||m&&m.compare(k)>0)&&S(te(m,n,e,i,a));function N(s){s=H(s,i,a),I(s)}function u(s){if(!t.isDisabled&&!t.isReadOnly){if(s=H(s,i,a),s=vt(s,v,c),!s)return;s=B(s,(g==null?void 0:g.calendar)??new gt),g&&"hour"in g?p(g.set(s)):p(s)}}const F=h.useMemo(()=>!i||!a?!0:D?c&&c(D)?!0:le(D,i,a):!1,[D,c,i,a]),l=t.validationState||(F?"invalid":null);return{isDisabled:t.isDisabled??!1,isReadOnly:t.isReadOnly??!1,value:D,setValue:u,visibleRange:{start:v,end:k},minValue:i,maxValue:a,focusedDate:m,timeZone:d,validationState:l,setFocusedDate(s){N(s),L(!0)},focusNextDay(){N(m.add({days:1}))},focusPreviousDay(){N(m.subtract({days:1}))},focusNextRow(){N(m.add({weeks:1}))},focusPreviousRow(){N(m.subtract({weeks:1}))},focusNextPage(){const s=v.add(n);I(H(m.add(n),i,a)),S(J(Q(m,s,n,e,i,a),n,e))},focusPreviousPage(){const s=v.subtract(n);I(H(m.subtract(n),i,a)),S(J(Q(m,s,n,e,i,a),n,e))},focusSectionStart(){n.months&&N(Oe(m))},focusSectionEnd(){n.months&&N(je(m))},focusNextSection(s){if(s)N(m.add({years:1}));else{N(m.add(Ke(n)));return}},focusPreviousSection(s){if(s)N(m.subtract({years:1}));else{N(m.subtract(Ke(n)));return}},selectFocusedDate(){u(m)},selectDate(s){u(s)},isFocused:o,setFocused:L,isInvalid(s){return le(s,i,a)},isCellUnavailable(s){var w;return((w=t.isDateUnavailable)==null?void 0:w.call(t,s))??!1},isSelected(s){var w,y;return D!=null&&A(s,D)&&!((w=this.isCellDisabled)!=null&&w.call(this,s))&&!((y=this.isCellUnavailable)!=null&&y.call(this,s))},isCellFocused(s){return o&&A(s,m)},isCellDisabled(s){var w;return t.isDisabled||s.compare(v)<0||s.compare(k)>0||((w=this.isInvalid)==null?void 0:w.call(this,s))},isPreviousVisibleRangeInvalid(){var w;const s=v.subtract({days:1});return A(s,v)||((w=this.isInvalid)==null?void 0:w.call(this,s))},isNextVisibleRangeInvalid(){var w;const s=k.add({days:1});return A(s,k)||((w=this.isInvalid)==null?void 0:w.call(this,s))},getDatesInWeek(s,w=v){let y=w.add({weeks:s});const E=[];y=Pe(y,e);const O=ft(y,e);for(let K=0;K<O;K++)E.push(null);for(;E.length<7;){E.push(y);const K=y.add({days:1});if(A(y,K))break;y=K}for(;E.length<7;)E.push(null);return E}}};export{Kr as A,Nr as B,Ar as C,vr as D,te as E,Sr as F,H as G,vt as H,xr as M,Fr as S,ye as a,$r as b,Mr as c,Ae as d,Dr as e,kr as f,Tr as g,Jt as h,le as i,oe as j,Lr as k,_e as l,Cr as m,yt as n,Pr as o,wr as p,Er as q,Rr as r,Gt as s,Ye as t,_t as u,Qe as v,kt as w,Ir as x,ke as y,ar as z};

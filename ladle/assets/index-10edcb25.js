import{s as y,j as n,F as f,R as g,r as $,a as c,e as _}from"./index-b2761b56.js";import{u as F}from"./use-dom-ref-b82bff2a.js";import"./index-2520ffe2.js";import{S as U}from"./badge.styles-2c1039fb.js";import{B as E}from"./button-87b4e9e7.js";import{S as I,a as X}from"./avatar-group.styles-58b0cd8a.js";const j=y("div",{width:"100%",display:"flex",flexDirection:"column",listStyleType:"none",gap:"$6",marginBlockStart:0,marginBlockEnd:0,marginInlineStart:0,marginInlineEnd:0,paddingInlineStart:0,".dnd-list-drop-target":{background:"$cdgBlue",height:2},ul:{padding:0,margin:0,listStyle:"none",borderRadius:"4px",touchAction:"none"},li:{listStyle:"none",cursor:"pointer","&:focus-visible":{overflow:"hidden",borderRadius:"4px",outline:"2px solid $cdgBlue"}}}),V=s=>n(f,{children:s.children}),M=V;function S(s){const l=window.getComputedStyle(s);return Math.max(parseInt(l.getPropertyValue("margin-top"),10),parseInt(l.getPropertyValue("margin-bottom"),10))+s.getBoundingClientRect().height}function u(s,l=0,t=0){if(!s)return;const e=s;if(l===null||t===null){e.style.removeProperty("transform");return}e.style.transform=`translate(${t}px, ${l}px)`}function C(s,l,t){if(s){const e=s;e.style.transition=`transform ${l}ms${t?` ${t}`:""}`}}function q(s,l){let t=0,e=s.length-1,i;for(;t<=e;){if(i=Math.floor((e+t)/2),!s[i+1]||s[i]<=l&&s[i+1]>=l)return i;s[i]<l&&s[i+1]<l?t=i+1:e=i-1}return-1}const R=s=>{let l=[],t=null;const e=(...i)=>{l=i,!t&&(t=requestAnimationFrame(()=>{t=null,s(...l)}))};return e.cancel=()=>{t&&cancelAnimationFrame(t)},e};function A(s,l){const t=["input","textarea","select","option","optgroup","video","audio","button","a"],e=["button","link","checkbox","tab"];for(;s!==l;){if(s.getAttribute("data-handler"))return!1;if(t.includes(s.tagName.toLowerCase()))return!0;const i=s.getAttribute("role");if(i&&e.includes(i.toLowerCase())||s.tagName.toLowerCase()==="label"&&s.hasAttribute("for"))return!0;s.tagName&&(s=s.parentElement)}return!1}const K=(s,l)=>{const t=[];return g.Children.forEach(s,i=>(g.isValidElement(i)&&i.type===l&&t.push(i),i)),t.length>=0?t:[]},G=({children:s,props:l,isDragged:t})=>n("li",{...l,style:{...l.style,cursor:t?"grabbing":"grab"},children:s}),N=G,m=200,b=10,D=200,k={userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",boxSizing:"border-box",position:"relative"};let z=class extends $.Component{constructor(l){super(l),this.listRef=$.createRef(),this.ghostRef=$.createRef(),this.topOffsets=[],this.itemTranslateOffsets=[],this.initialYOffset=0,this.lastScroll=0,this.lastYOffset=0,this.lastListYOffset=0,this.needle=-1,this.afterIndex=-2,this.state={itemDragged:-1,itemDraggedOutOfBounds:-1,selectedItem:-1,initialX:0,initialY:0,targetX:0,targetY:0,targetHeight:0,targetWidth:0,scrollingSpeed:0,scrollWindow:!1},this.doScrolling=()=>{const{scrollingSpeed:t,scrollWindow:e}=this.state,i=this.listRef.current;window.requestAnimationFrame(()=>{e?window.scrollTo(window.pageXOffset,window.pageYOffset+t*1.5):i.scrollTop+=t,t!==0&&this.doScrolling()})},this.getChildren=()=>this.listRef&&this.listRef.current?Array.from(this.listRef.current.children):[],this.calculateOffsets=()=>{this.topOffsets=this.getChildren().map(t=>t.getBoundingClientRect().top),this.itemTranslateOffsets=this.getChildren().map(t=>S(t))},this.getTargetIndex=t=>this.getChildren().findIndex(e=>e===t.target||e.contains(t.target)),this.onPointerStart=t=>{this.dropTimeout&&this.state.itemDragged>-1&&(window.clearTimeout(this.dropTimeout),this.finishDrop());const e=this.getTargetIndex(t);if(e===-1||!this.props.values[e]){this.state.selectedItem!==-1&&(this.setState({selectedItem:-1}),this.finishDrop());return}const i=this.getChildren()[e],r=i.querySelector("[data-handler]");r&&!r.contains(t.target)||A(t.target,i)||(t.preventDefault(),document.addEventListener("pointermove",this.schdOnPointerMove),document.addEventListener("pointercancel",this.schdOnEnd),document.addEventListener("pointerup",this.schdOnEnd),this.onStart(i,t.clientX,t.clientY,e))},this.getYOffset=()=>{const t=this.listRef.current?this.listRef.current.scrollTop:0;return window.pageYOffset+t},this.onStart=(t,e,i,r)=>{this.state.selectedItem>-1&&(this.setState({selectedItem:-1}),this.needle=-1);const a=t.getBoundingClientRect(),o=window.getComputedStyle(t);this.calculateOffsets(),this.initialYOffset=this.getYOffset(),this.lastYOffset=window.pageYOffset,this.lastListYOffset=this.listRef.current.scrollTop,this.setState({itemDragged:r,targetX:a.left-parseInt(o.getPropertyValue("margin-left"),10),targetY:a.top-parseInt(o.getPropertyValue("margin-top"),10),targetHeight:a.height,targetWidth:a.width,initialX:e,initialY:i})},this.onPointerMove=t=>{t.cancelable&&t.preventDefault(),this.onMove(t.clientX,t.clientY)},this.onWheel=t=>{this.state.itemDragged<0||(this.lastScroll=this.listRef.current.scrollTop+=t.deltaY,this.moveOtherItems())},this.onMove=(t,e)=>{if(this.state.itemDragged===-1)return null;u(this.ghostRef.current,e-this.state.initialY,t-this.state.initialX),this.autoScrolling(e),this.moveOtherItems()},this.moveOtherItems=()=>{const t=this.ghostRef.current.getBoundingClientRect(),e=t.top+t.height/2,i=this.getChildren()[this.state.itemDragged];if(!i)return;const r=S(i),a=this.getYOffset();this.initialYOffset!==a&&(this.topOffsets=this.topOffsets.map(o=>o-(a-this.initialYOffset)),this.initialYOffset=a),this.isDraggedItemOutOfBounds()&&this.props.removableByMove?this.afterIndex=this.topOffsets.length+1:this.afterIndex=q(this.topOffsets,e),this.animateItems(this.afterIndex===-1?0:this.afterIndex,this.state.itemDragged,r)},this.autoScrolling=t=>{const{top:e,bottom:i,height:r}=this.listRef.current.getBoundingClientRect(),a=window.innerHeight||document.documentElement.clientHeight;if(i>a&&a-t<m)this.setState({scrollingSpeed:Math.round((m-(a-t))/b),scrollWindow:!0});else if(e<0&&t<m)this.setState({scrollingSpeed:Math.round((m-t)/-b),scrollWindow:!0});else if(this.state.scrollWindow&&this.state.scrollingSpeed!==0&&this.setState({scrollingSpeed:0,scrollWindow:!1}),r+20<this.listRef.current.scrollHeight){let o=0;t-e<m?o=Math.round((m-(t-e))/-b):i-t<m&&(o=Math.round((m-(i-t))/b)),this.state.scrollingSpeed!==o&&this.setState({scrollingSpeed:o})}},this.animateItems=(t,e,i,r=!1)=>{this.getChildren().forEach((a,o)=>{if(C(a,D),e===o&&r){if(e===t)return u(a,null);u(a,e<t?this.itemTranslateOffsets.slice(e+1,t+1).reduce((d,h)=>d+h,0):this.itemTranslateOffsets.slice(t,e).reduce((d,h)=>d+h,0)*-1)}else e<t&&o>e&&o<=t?u(a,-i):o<e&&e>t&&o>=t?u(a,i):u(a,null)})},this.isDraggedItemOutOfBounds=()=>{const t=this.getChildren()[this.state.itemDragged];if(!t)return;const e=t.getBoundingClientRect(),i=this.ghostRef.current.getBoundingClientRect();return Math.abs(e.left-i.left)>i.width?(this.state.itemDraggedOutOfBounds===-1&&this.setState({itemDraggedOutOfBounds:this.state.itemDragged}),!0):(this.state.itemDraggedOutOfBounds>-1&&this.setState({itemDraggedOutOfBounds:-1}),!1)},this.onEnd=t=>{t.cancelable&&t.preventDefault(),document.removeEventListener("pointermove",this.schdOnPointerMove),document.removeEventListener("pointerup",this.schdOnEnd),document.removeEventListener("pointercancel",this.schdOnEnd);const e=this.props.removableByMove&&this.isDraggedItemOutOfBounds();!e&&D>0&&this.afterIndex!==-2&&R(()=>{C(this.ghostRef.current,D,"cubic-bezier(.2,1,.1,1)"),this.afterIndex<1&&this.state.itemDragged===0?u(this.ghostRef.current,0,0):u(this.ghostRef.current,-(window.pageYOffset-this.lastYOffset)+-(this.listRef.current.scrollTop-this.lastListYOffset)+(this.state.itemDragged<this.afterIndex?this.itemTranslateOffsets.slice(this.state.itemDragged+1,this.afterIndex+1).reduce((i,r)=>i+r,0):this.itemTranslateOffsets.slice(this.afterIndex<0?0:this.afterIndex,this.state.itemDragged).reduce((i,r)=>i+r,0)*-1),0)})(),this.dropTimeout=window.setTimeout(this.finishDrop,e||this.afterIndex===-2?0:D)},this.finishDrop=()=>{const t=this.props.removableByMove&&this.isDraggedItemOutOfBounds();(t||this.afterIndex>-2&&this.state.itemDragged!==this.afterIndex)&&this.props.onChange({oldIndex:this.state.itemDragged,newIndex:t?-1:Math.max(this.afterIndex,0)}),this.getChildren().forEach(e=>{C(e,0),u(e,null),e.style.touchAction=""}),this.setState({itemDragged:-1,scrollingSpeed:0}),this.afterIndex=-2,this.lastScroll>0&&(this.listRef.current.scrollTop=this.lastScroll,this.lastScroll=0)},this.onKeyDown=t=>{const e=this.getTargetIndex(t);if(!A(t.target,t.currentTarget)&&e!==-1){if(t.key==="ArrowDown"&&e>-1&&this.needle<this.props.values.length-1){t.preventDefault();const i=S(this.getChildren()[e]);this.needle++,this.animateItems(this.needle,e,i,!0)}if(t.key==="ArrowUp"&&e>-1&&this.needle>0){t.preventDefault();const i=S(this.getChildren()[e]);this.needle--,this.animateItems(this.needle,e,i,!0)}}},this.schdOnPointerMove=R(this.onPointerMove),this.schdOnEnd=R(this.onEnd)}componentDidMount(){this.calculateOffsets(),document.addEventListener("pointerdown",this.onPointerStart)}componentDidUpdate(l,t){t.scrollingSpeed!==this.state.scrollingSpeed&&t.scrollingSpeed===0&&this.doScrolling()}componentWillUnmount(){document.removeEventListener("pointerdown",this.onPointerStart),this.dropTimeout&&window.clearTimeout(this.dropTimeout),this.schdOnPointerMove.cancel(),this.schdOnEnd.cancel()}render(){const l={...k,margin:0,listStyle:"none",position:"fixed",overflow:"hidden",borderRadius:"4px",outline:"2px solid var(--colors-cdgBlue)",boxShadow:"0px 8px 16px 0px rgba(0, 0, 0, 0.13), 0px 2px 4px 0px rgba(0, 0, 0, 0.1)",top:this.state.targetY,left:this.state.targetX,width:this.state.targetWidth,height:this.state.targetHeight},t=this.props.collection.find(e=>e.key===this.props.values[this.state.itemDragged]);return c($.Fragment,{children:[n("ul",{ref:this.listRef,style:{cursor:this.state.itemDragged>-1?"grabbing":void 0,background:this.state.itemDragged>-1?"var(--colors-gray30)":void 0},children:this.props.collection.map((e,i)=>{const r=i===this.state.itemDragged,a=i===this.state.selectedItem,o=!this.props.values[i],d={key:i,tabIndex:o?-1:0,onKeyDown:this.onKeyDown,style:{...k,visibility:r?"hidden":void 0,zIndex:a?5e3:0}};return n(N,{props:d,index:i,isSelected:!0,isDragged:!1,isOutOfBounds:!1,children:e},e.key)})}),this.state.itemDragged>-1&&t&&_.createPortal(n(N,{isDragged:!0,isSelected:!1,index:this.state.itemDragged,isOutOfBounds:this.state.itemDraggedOutOfBounds>-1,props:{ref:this.ghostRef,style:l,onWheel:this.onWheel},children:t}),document.body)]})}};z.defaultProps={removableByMove:!1};const J=z,Q=g.forwardRef((s,l)=>{const{css:t={},children:e,onReorderByKeys:i,...r}=s,a=F(l),o=g.useMemo(()=>K(e,M),[e]),d=g.useMemo(()=>o.map(h=>h.key),[o]);return n(j,{ref:a,css:t,...r,children:n(J,{values:d,collection:o,onChange:({oldIndex:h,newIndex:x})=>{const p=d.slice();p.splice(x<0?p.length+x:x,0,p.splice(h,1)[0]),i==null||i(p)},children:e})})}),Z=Q,tt=y("img",{width:"$10",height:"$10",borderRadius:"$lg",objectFit:"cover",variants:{isRounded:{true:{borderRadius:"100%"}},variant:{h5:{width:"$11",height:"$11"}}}}),et=g.forwardRef((s,l)=>{const{isRounded:t=!1,css:e={},...i}=s;return n(tt,{ref:l,css:e,isRounded:t,...i})}),it=et,st=y("div",{display:"flex",flexDirection:"row",padding:"$4",justifyContent:"space-between",alignItems:"center",borderRadius:"$md",cursor:"pointer",outline:"none","&:focus-visible":{outline:"$cdgBlue40 solid 2px"},".list-left-info":{display:"flex",alignItems:"center"},".list-left-side":{display:"flex",gap:"$6",alignItems:"center"},".list-left-side svg":{width:"$5_5",height:"$5_5"},".list-text-wrapper":{display:"flex",flexDirection:"column",gap:"$1"},".list-text-title":{fontSize:"$header4",fontWeight:"$semibold",margin:0},".list-text-description":{fontSize:"$body3"},".list-right-side":{display:"flex",flexDirection:"row",alignItems:"center",gap:"8px"},".list-right-side-text":{fontSize:"$body3"},".list-right-side svg":{width:"$3_5",height:"$6"},variants:{isPressed:{true:{},false:{}},isDisabled:{true:{cursor:"not-allowed","&:focus-visible":{outline:"none"}},false:{}},variant:{item:{backgroundColor:"transparent","&:hover":{".list-text-title, \n          .list-text-description, \n          .list-right-side-text, \n          .list-right-side svg, \n          .list-left-info svg":{color:"$cdgBlue40"}},".list-text-title, \n        .list-text-description, \n        .list-right-side-text, \n        .list-right-side svg, \n        .list-left-info svg":{color:"$gray80"}},interactive:{backgroundColor:"$background","&:hover":{backgroundColor:"$cdgBlue10"},".list-text-title, .list-right-side-text":{color:"$primaryText"},".list-text-description":{color:"$gray80"}},h5:{borderRadius:0,gap:8,"&:hover":{backgroundColor:"$blueShades10"},"& .list-left-side":{gap:"$3"},".list-text-wrapper":{gap:0},".list-text-title":{fontSize:"$header5",color:"$grayShades100",lineHeight:"$normal"},".list-text-description":{fontSize:"$label2",lineHeight:"1.2rem",color:"$grayShades60",marginRight:4},".list-h5-right-side":{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:4,".list-text-title":{fontSize:"$label1",color:"$grayShades100",lineHeight:"1.2rem"},".list-text-description":{fontSize:"$label3",lineHeight:"1rem",color:"$grayShades40",textAlign:"end"}}}},size:{sm:{padding:"$2_5 $4",".list-left-info":{display:"flex",justifyContent:"center",alignItems:"center",width:"$8",height:"$8",borderRadius:"100%",backgroundColor:"$background"},".list-left-info svg":{width:"$3_5",height:"$3_5",color:"$gray60"},".list-text-title":{fontSize:"$label2",fontWeight:"$normal",color:"$gray60"},".list-text-description":{fontSize:"$body3",color:"$gray70"},".list-text-wrapper":{gap:"$2"},"&:hover":{".list-left-info":{backgroundColor:"$cdgBlue100"},".list-left-info svg":{color:"$whiteText"},".list-text-title":{color:"$cdgBlue60"}}},md:{}}},compoundVariants:[{variant:"interactive",isPressed:!0,css:{"&:hover":{backgroundColor:"$cdgBlue100"},".list-text-title, \n        .list-text-description, \n        .list-right-side-text, \n        .list-right-side svg, \n        .list-left-info svg":{color:"$whiteText"}}},{variant:"interactive",isDisabled:!0,css:{backgroundColor:"$grayShades20","&:hover":{backgroundColor:"$grayShades20"},"&:focus-visible":{outline:"none"},".list-text-title, .list-right-side svg":{color:"#333333"},".list-text-description":{color:"$gray80"},".list-right-side-text":{color:"$gray90"}}},{variant:"item",isPressed:!0,css:{"&:hover":{".list-text-title, \n          .list-text-description, \n          .list-right-side-text, \n          .list-right-side svg, \n          .list-left-info svg":{color:"$cdgBlue100"}}}},{variant:"item",isDisabled:!0,css:{"&:hover":{".list-text-title, \n          .list-text-description, \n          .list-right-side-text, \n          .list-right-side svg, \n          .list-left-info svg":{color:"$gray60"}},".list-text-title, \n        .list-text-description, \n        .list-right-side-text, \n        .list-right-side svg, \n        .list-left-info svg":{color:"$gray60"}}},{size:"sm",isPressed:!0,css:{"&:hover":{".list-text-title":{color:"$whiteText"},".list-left-info":{backgroundColor:"$background"},".list-left-info svg":{color:"$gray60"}}}},{size:"sm",isDisabled:!0,css:{pointerEvents:"none","&:hover":{".list-text-title, \n          .list-text-description, \n          .list-right-side-text":{color:"$gray70"}}}}]}),rt=g.forwardRef((s,l)=>{const{leftInfo:t,title:e,description:i,rightInfo:r,rightContent:a,variant:o="interactive",isDisabled:d=!1,size:h="md",css:x={},className:p="",descriptionIcon:v,...w}=s,[T,W]=$.useState(!1),Y={isDisabled:d,size:h,variant:o},H=O=>{d||s.onClick&&s.onClick(O)},B=O=>{d||W(O)};return c(st,{ref:l,tabIndex:0,role:"button",css:x,className:`${p} ${T?"pressed":""}
        ${o==="interactive"?"interactive":"item"}`,isPressed:T,onClick:H,onMouseDown:()=>B(!0),onMouseUp:()=>B(!1),...Y,...w,children:[c("div",{className:"list-left-side",children:[t&&n("div",{className:"list-left-info",children:t}),(e||i)&&c("div",{className:"list-text-wrapper",children:[e&&n("h2",{className:"list-text-title",children:e}),c("div",{children:[i&&n("span",{className:"list-text-description",children:i}),v&&v]})]})]}),r&&!a&&n(f,{children:o==="h5"?c("div",{className:"list-h5-right-side",children:[(r==null?void 0:r.text)&&n("h2",{className:"list-text-title",children:r==null?void 0:r.text}),(r==null?void 0:r.description)&&n("span",{className:"list-text-description",children:r==null?void 0:r.description})]}):c("div",{className:"list-right-side",children:[r.text&&n("span",{className:"list-right-side-text",children:r==null?void 0:r.text}),r==null?void 0:r.icon]})}),a&&!r&&c("div",{className:"list-h5-right-side",children:[" ",a," "]})]})}),L=rt,lt=y("div",{width:"50%",display:"flex",flexDirection:"column",gap:"$1",marginTop:"$6",".list-card-detail-title":{margin:0,fontSize:"$label2",lineHeight:"18px",color:"$gray80",fontWeight:"$medium"},[`.list-card-detail-avatars ${I}`]:{height:"$4",width:"$4"},[`.list-card-detail-avatars ${X} ${I}`]:{marginRight:"-$1",fontSize:"1px"},".list-card-detail-avatars .initials":{fontSize:"$label3"},".list-card-detail-footer":{display:"flex",flexDirection:"row",gap:"$1"},".list-card-detail-description":{color:"$gray80",fontSize:"$label3",lineHeight:"16px",fontWeight:"$medium"},variants:{isDisabled:{true:{"& .list-card-detail-title":{color:"$gray60"},"& .list-card-detail-description":{color:"$gray60"},[`& .list-card-detail-avatars ${I}`]:{filter:"grayscale(1)"}}}}}),nt=g.forwardRef((s,l)=>{const{title:t,description:e,avatar:i,css:r={},...a}=s;return c(lt,{ref:l,css:r,...a,children:[t?n("h3",{className:"list-card-detail-title",children:t}):n(f,{}),c("div",{className:"list-card-detail-footer",children:[i?n("div",{className:"list-card-detail-avatars",children:i}):n(f,{}),e?n("span",{className:"list-card-detail-description",children:e}):n(f,{})]})]})}),at=nt,ot=y("div",{padding:"$4",border:"1px solid $primaryBg",borderRadius:"$md",".list-card-header":{display:"flex",justifyContent:"space-between",alignItems:"center"},".list-card-header-right-side":{display:"flex",alignItems:"center",gap:"$4"},".list-card-title":{margin:0,fontSize:"$header5",fontWeight:"$semibold",color:"$gray100",lineHeight:"24px"},".list-card-description":{margin:0,marginTop:"$2",fontSize:"$body3",lineHeight:"21px",color:"$gray80"},".list-card-footer":{display:"flex",alignItems:"flex-start"},".list-card-detail-wrapper":{display:"flex",flexWrap:"wrap",flex:1},".list-card-ellipsis-icon":{width:"$1_5",height:"23px"},variants:{isDisabled:{true:{cursor:"not-allowed",".list-card-title":{color:"$gray60"},".list-card-description":{color:"$gray60"},[`& ${U}`]:{backgroundColor:"$gray40",color:"$gray60"}}}}}),dt=g.forwardRef((s,l)=>{const{title:t,badge:e,description:i,children:r,isDisabled:a=!1,showActionButton:o=!1,css:d={},...h}=s,x={isDisabled:a},p=g.Children.toArray(r).map(v=>{const w=v;return g.cloneElement(w,{isDisabled:a})});return c(ot,{ref:l,css:d,...x,...h,children:[c("div",{className:"list-card-header",children:[t?n("h2",{className:"list-card-title",children:t}):n(f,{}),c("div",{className:"list-card-header-right-side",children:[e||n(f,{}),!r&&o?n(E,{isDisabled:!!a,variant:"ghost","aria-label":"Action Header",children:n("svg",{className:"list-card-ellipsis-icon",viewBox:"0 0 128 512",children:n("path",{fill:"currentColor",d:"M64 360a56 56 0 1 0 0 112 56 56 0 1 0 0-112zm0-160a56 56 0 1 0 0 112 56 56 0 1 0 0-112zM120 96A56 56 0 1 0 8 96a56 56 0 1 0 112 0z"})})}):n(f,{})]})]}),n("div",{className:"list-card-description",children:i?n("span",{children:i}):n(f,{})}),c("div",{className:"list-card-footer",children:[n("div",{className:"list-card-detail-wrapper",children:p.map(v=>v)}),r&&o?n(E,{isDisabled:!!a,variant:"ghost","aria-label":"Action Footer",css:{marginTop:"$4"},children:n("svg",{className:"list-card-ellipsis-icon",viewBox:"0 0 128 512",children:n("path",{fill:"currentColor",d:"M64 360a56 56 0 1 0 0 112 56 56 0 1 0 0-112zm0-160a56 56 0 1 0 0 112 56 56 0 1 0 0-112zM120 96A56 56 0 1 0 8 96a56 56 0 1 0 112 0z"})})}):n(f,{})]})]})}),P=dt;L.Image=it;P.Detail=at;Z.Item=M;L.Image.displayName="List.Image";P.Detail.displayName="ListCard.Detail";L.displayName="List";export{Z as D,L,it as a,P as b,at as c};

import{m as E}from"./index-48eeab0c.js";import{k as _,s as f,R as g,a as l,j as e,F as L}from"./index-b6a7fc2c.js";import{a as M}from"./index-680327ab.js";import{C as q}from"./components-488ca081.js";import{c as G}from"./module-abf0c755.js";import{b as Z,c as X}from"./module-ac726b3e.js";import{b as U,a as V}from"./module-ef2ee3f5.js";import{u as $}from"./use-dom-ref-c3b3ee7e.js";import{$ as P}from"./module-cf065f0a.js";import{a as Y}from"./module-415941ab.js";import{$ as J}from"./module-e849b94c.js";import{a as Q,b as ee,c as te}from"./module-e354149b.js";import{d as ne}from"./real-module-67746a94.js";import"./_define_property-1764bf98.js";import"./module-406995da.js";import"./real-module-d58dd02e.js";import"./module-5a64ba7b.js";import"./module-6f4b5962.js";import"./module-5f359c03.js";const re=_({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),ie=f("div",{width:"100%",label:{fontSize:"$label1",fontWeight:"$semibold",marginBottom:"$2",display:"inline-block",width:"100%",span:{marginLeft:"$1",color:"$danger"}}}),oe=f("div",{width:"100%",border:"1px solid #E6E6E6",borderRadius:"$md",cursor:"text",display:"flex",padding:"$3 $4",gap:"$1",backgroundColor:"#FFFFFF",".dropdown-icon":{cursor:"pointer",flexShrink:0,width:"$6",height:"$6",display:"flex",justifyContent:"center",alignItems:"center",padding:0,border:"none",background:"transparent",svg:{width:"$4",height:"$4"}},input:{height:"$6_5",width:4,padding:0,margin:0,border:"none","&:focus":{outline:"none"},"&:focus-visible":{outline:"none"}},variants:{isEmpty:{true:{button:{p:{color:"#B4B4B4"}}}},isDisabled:{true:{cursor:"not-allowed !important","& > *":{cursor:"not-allowed !important"}}},isErrored:{true:{borderWidth:1,borderColor:"$danger","&:focus":{borderColor:"$danger",outlineColor:"$danger"},"&:focus-within":{borderColor:"$danger",outlineColor:"$danger"}}}}}),le=f("div",{margin:0,padding:"$2 0",borderRadius:"$md",width:"100%",background:"#FFFFFF",boxShadow:"0px 0.6px 1.8px rgba(0, 0, 0, 0.1), 0px 3.2px 7.2px rgba(0, 0, 0, 0.13)",ul:{maxHeight:"$64",overflowY:"auto",listStyle:"none",marginBlockStart:0,marginBlockEnd:0,marginInlineStart:0,marginInlineEnd:0,paddingInlineStart:0}}),ae=f("div",{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%",padding:"$2 $4",borderBottom:"2px solid #EDEBE9",span:{color:"#323130",fontSize:"$label2",fontWeight:"$bold",padding:0,margin:0},button:{fontSize:"$label2",fontWeight:"$bold",color:"#A4262C",border:0,cursor:"pointer",backgroundColor:"transparent"}}),de=f("div",{flexGrow:1,alignItems:"center",minHeight:"$7",display:"flex",gap:"$2_5",flexWrap:"wrap",p:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",fontSize:"$label1",fontWeight:"$semibold",height:"$6",display:"flex",alignItems:"center",flexGrow:1,border:"none",textAlign:"start",padding:0,margin:0}}),ce=f("div",{border:"1px solid #EDEBE9",borderRadius:"$full",padding:"$1 $3",fontSize:"$label1",cursor:"default",fontWeight:"$semibold",display:"flex",justifyContent:"center",alignItems:"center",gap:"$2",div:{width:"fit-content",height:"fit-content"}}),se=f("div",{position:"relative",marginTop:"$1"}),he=f("div",{display:"flex",justifyContent:"center",margin:"$4 auto",".spinner":{display:"inline-block",position:"relative",width:"$4",height:"$4",div:{boxSizing:"border-box",display:"block",position:"absolute",width:"$4",height:"$4",border:"2px solid #757575",borderRadius:"50%",animation:`${re} 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite`,borderColor:"#757575 transparent transparent transparent"},".spinner-1":{animationDelay:"-0.45s"},".spinner-2":{animationDelay:"-0.3s"},".spinner-3":{animationDelay:"-0.15s"}}}),A=f("div",{fontSize:"$label2",fontWeight:"$medium",transition:"$default",marginTop:"$1",color:"$gray70",variants:{error:{true:{color:"$danger"},false:{color:"$gray70"}}}}),fe=({title:r,...o})=>{const i=g.useRef(null),{buttonProps:h}=P(o,i);return l(ae,{children:[e("span",{children:r}),e("button",{...h,children:"Clear"})]})},ge=fe,pe=f("li",{fontSize:"$label1",fontWeight:"$medium",padding:"$2 $4",outline:"none",cursor:"pointer",display:"flex",alignItems:"center",gap:"$2",color:"333333","&:hover":{backgroundColor:"#F3F2F1"},variants:{isFocused:{true:{backgroundColor:"#F3F2F1"}},isSelected:{true:{backgroundColor:"#F3F2F1"}},isDisabled:{true:{"&:hover":{backgroundColor:"#D2D0CE"},color:"#828180",backgroundColor:"#D2D0CE"}}}});f("div",{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:"$4",height:"$4",overflow:"hidden"});const ue=f("div",{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:"$6",height:"$6",div:{border:"1px solid #323130",borderRadius:"3px",width:"$4",height:"$4",display:"flex",alignItems:"center",justifyContent:"center",background:"#FFFFFF"},variants:{isSelected:{true:{div:{border:0,background:"$cdgBlue100",svg:{display:"block"}}},false:{div:{svg:{display:"none"}}}}}}),me=f("div",{display:"flex",alignItems:"center",flexGrow:1}),be=g.forwardRef(({item:r,state:o},i)=>{const h=$(i),{optionProps:c,isSelected:d,isDisabled:y,isFocused:m}=Z({key:r.key},o,h),{focusProps:b}=Y();return l(pe,{isFocused:m,isSelected:d,isDisabled:y,...J(c,b),ref:h,children:[e(me,{children:r.rendered}),e(ue,{isSelected:d,children:e("div",{children:e($e,{})})})]})}),$e=()=>e("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",children:e("path",{d:"M9.39158 1.86239C9.64736 2.12284 9.64736 2.54372 9.39158 2.80416L4.15319 8.13808C3.89741 8.39853 3.48407 8.39853 3.22829 8.13808L0.608522 5.47112C0.352823 5.21068 0.352823 4.7898 0.608522 4.52935C0.864262 4.26891 1.27883 4.26891 1.53461 4.52935L3.67232 6.72334L8.46668 1.86239C8.72246 1.60153 9.1358 1.60153 9.39158 1.86239Z",fill:"white"})}),ye=be;g.forwardRef((r,o)=>{const i=$(o),{buttonProps:h}=P(r,i);return e("button",{...h,ref:i,children:r.children})});const Ce=()=>e("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:e("path",{d:"M8.33276 12.3334C8.02004 12.3334 7.70717 12.2125 7.46885 11.9707L1.35805 5.78022C0.880649 5.29658 0.880649 4.5131 1.35805 4.02947C1.83546 3.54584 2.60886 3.54584 3.08626 4.02947L8.33276 9.34651L13.5804 4.03044C14.0578 3.54681 14.8312 3.54681 15.3086 4.03044C15.786 4.51407 15.786 5.29755 15.3086 5.78118L9.19782 11.9717C8.95912 12.2135 8.64594 12.3334 8.33276 12.3334Z",fill:"#201F1E"})}),ve=()=>l("svg",{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",children:[e("g",{clipPath:"url(#clip0_5299_13653)",children:e("path",{d:"M9.11731 7.88215C9.45908 8.22392 9.45908 8.77759 9.11731 9.11936C8.94779 9.29024 8.72359 9.375 8.49938 9.375C8.27518 9.375 8.05153 9.28956 7.88092 9.11867L4.99966 6.23892L2.11867 9.11799C1.94779 9.29024 1.72386 9.375 1.49993 9.375C1.276 9.375 1.05235 9.29024 0.881328 9.11799C0.539557 8.77622 0.539557 8.22255 0.881328 7.88078L3.76313 4.99897L0.881328 2.11854C0.539557 1.77677 0.539557 1.2231 0.881328 0.881328C1.2231 0.539557 1.77677 0.539557 2.11854 0.881328L4.99966 3.7645L7.88146 0.882695C8.22323 0.540925 8.7769 0.540925 9.11867 0.882695C9.46044 1.22446 9.46044 1.77813 9.11867 2.1199L6.23687 5.00171L9.11731 7.88215Z",fill:"#3B3A39"})}),e("defs",{children:e("clipPath",{id:"clip0_5299_13653",children:e("rect",{width:"10",height:"10",fill:"white"})})})]}),ke=({children:r,collapseState:o,...i})=>{var m;const h=g.useRef(null),{popoverRef:c=h}=i,{popoverProps:d}=Q({...i,offset:8,shouldFlip:!0,popoverRef:c},{close:()=>o.close(),isOpen:o.isOpen,setOpen:b=>o.setOpen(b),open:()=>o.open(),toggle:()=>o.open()}),y=(m=i.triggerRef.current)!=null&&m.clientWidth?{...d.style,width:"fit-content",minWidth:i.triggerRef.current.clientWidth+2}:{...d==null?void 0:d.style};return e(ee,{children:l(le,{...d,ref:c,style:y,children:[r,e(te,{onDismiss:()=>o.close()})]})})},xe=ke,Ie=g.forwardRef((r,o)=>{const{css:i={},icon:h=e(Ce,{}),isErrored:c,isDisabled:d,isRequired:y,errorMessage:m,helperText:b,disabledKeys:S=[]}=r,[C,v]=g.useState(!1),[F,K]=g.useState(""),[w,R]=g.useState(),O=ne({sensitivity:"base"}),B=(n,a)=>O.contains(n,a),u=U(r),D=$(o),{listBoxProps:N,labelProps:T}=X(r,u,D),p=$(null),H=$(null),k=$(null),x={isOpen:C,setOpen:n=>v(n),toggle:()=>v(n=>{var a;return d?n:n&&((a=k.current)==null?void 0:a.value)!==""?!0:!n}),close:()=>v(!1),open:()=>v(!0)},I=(()=>{const n=[];return[...u.collection].length>0&&u.selectionManager.selectedKeys.forEach(a=>{const s=u.collection.getItem(a);n.push({key:a,rendered:s.rendered})}),n})(),j=n=>{u.selectionManager.toggleSelection(n),x.toggle()},z=n=>{if(p.current){const a=n.target.value;if(K(a),a!==""){const s=document.createElement("div");s.style.position="absolute",s.style.top="0",s.style.left="-9999px",s.style.overflow="hidden",s.style.visibility="hidden",s.style.whiteSpace="nowrap",s.style.height="0",s.style.width="fit-content",s.style.maxWidth=`${p.current.clientWidth-62}px`,s.innerHTML=a.replace(/\s/g,"&nbsp;"),document.body.appendChild(s),n.target.focus(),n.target.style.width=`${s.clientWidth+4}px`,s.remove()}else n.target.style.width="4px"}};return g.useEffect(()=>{var n,a;C?((n=k.current)==null||n.focus(),p.current&&(p.current.style.outlineColor=c?"#A4262C":"-webkit-focus-ring-color",p.current.style.outlineStyle="auto")):((a=k.current)==null||a.blur(),p.current&&(p.current.style.outlineColor=c?"#A4262C":"inherit",p.current.style.outlineColor="inherit",p.current.style.outlineStyle="inherit"))},[C]),g.useEffect(()=>{R(u.collection)},[u.collection]),g.useEffect(()=>{const n=we(u.collection,F,B);R(n)},[F,I.length]),l(ie,{css:i,ref:D,children:[r.label&&l("label",{...T,children:[r.label,y&&e("span",{children:"*"})]}),l(oe,{onClick:x.toggle,ref:p,isErrored:!!c,isDisabled:!!d,children:[l(de,{children:[I.length===0&&!C&&e("p",{children:r.placeholder}),I.length>0&&I.map(n=>{const a=d||S.includes(n.key);return l(ce,{style:{cursor:d?"not-allowed":"pointer"},children:[e("div",{children:n.rendered}),a?e(L,{}):e("div",{onClick:()=>{!d&&![...S].includes(n.key)&&j(n.key)},children:e(ve,{})})]},n.key)}),!d&&e("input",{type:"text",ref:k,onChange:z})]}),e("div",{className:"dropdown-icon",children:h})]}),e(se,{children:w&&[...w].length>0&&x.isOpen&&e(xe,{collapseState:x,triggerRef:p,popoverRef:H,placement:"bottom start",children:r.isLoading?e(he,{children:l("div",{className:"spinner",children:[e("div",{className:"spinner-1"}),e("div",{className:"spinner-2"}),e("div",{className:"spinner-3"}),e("div",{})]})}):l(L,{children:[r.headerTitle&&e(ge,{title:r.headerTitle,onPress:n=>{var a;return(a=r==null?void 0:r.headerOnClick)==null?void 0:a.call(r,n)}}),e("ul",{...N,children:[...w].map(n=>e(ye,{item:n,state:u},n.key))})]})})}),m&&e(A,{error:!!c,children:m}),b&&e(A,{children:b})]})}),t=Ie;function we(r,o,i){return new V(W(r,o,i))}function W(r,o,i){const h=[];for(const c of r)if(c.type==="section"&&c.hasChildNodes){const d=W(c.childNodes,o,i);[...d].length>0&&h.push({...c,childNodes:d})}else c.type!=="section"&&i(c.textValue,o)&&h.push({...c});return h}t.Item=G;t.displayName="MultipleDropdown";const Ge=()=>{const[r,o]=g.useState(["cat"]);return l(q,{children:[e("h3",{children:"Controlled"}),l(t,{label:"Favorite Animal",selectionMode:"multiple",disabledKeys:["cat"],placeholder:"Choose an animal",selectedKeys:r,isRequired:!0,onSelectionChange:i=>o(i==="all"?i:[...i]),children:[l(t.Item,{children:[e(M,{icon:E,style:{marginRight:5}}),"Red Panda"]},"red panda"),e(t.Item,{children:"Cat"},"cat"),e(t.Item,{children:"Dog"},"dog"),e(t.Item,{children:"Aardvark"},"aardvark"),e(t.Item,{children:"Kangaroo"},"kangaroo"),e(t.Item,{children:"Snake"},"snake")]}),e("h3",{children:"UnControlled"}),l(t,{label:"Favorite Animal",selectionMode:"multiple",disabledKeys:["snake"],placeholder:"Choose an animal",children:[e(t.Item,{children:"Red Panda"},"red panda"),e(t.Item,{children:"Cat"},"cat"),e(t.Item,{children:"Dog"},"dog"),e(t.Item,{children:"Aardvark"},"aardvark"),e(t.Item,{children:"Kangaroo"},"kangaroo"),e(t.Item,{children:"Snake"},"snake")]}),e("h3",{children:"Error"}),l(t,{label:"Favorite Animal",selectionMode:"multiple",disabledKeys:["snake"],placeholder:"Choose an animal",isErrored:!0,errorMessage:"Error Message",helperText:"Helper Message",children:[e(t.Item,{children:"Red Panda"},"red panda"),e(t.Item,{children:"Cat"},"cat"),e(t.Item,{children:"Dog"},"dog"),e(t.Item,{children:"Aardvark"},"aardvark"),e(t.Item,{children:"Kangaroo"},"kangaroo"),e(t.Item,{children:"Snake"},"snake")]}),e("h3",{children:"Header"}),l(t,{selectionMode:"multiple",disabledKeys:["snake"],label:"Favorite Animal",placeholder:"Choose an animal",headerTitle:"Filter title",headerOnClick:()=>console.log("clicked"),children:[e(t.Item,{children:"Red Panda"},"red panda"),e(t.Item,{children:"Cat"},"cat"),e(t.Item,{children:"Dog"},"dog"),e(t.Item,{children:"Aardvark"},"aardvark"),e(t.Item,{children:"Kangaroo"},"kangaroo"),e(t.Item,{children:"Snake"},"snake")]}),e("h3",{children:"Loading"}),l(t,{selectionMode:"multiple",label:"Favorite Animal",placeholder:"Choose an animal",isLoading:!0,children:[e(t.Item,{children:"Red Panda"},"red panda"),e(t.Item,{children:"Cat"},"cat"),e(t.Item,{children:"Dog"},"dog"),e(t.Item,{children:"Aardvark"},"aardvark"),e(t.Item,{children:"Kangaroo"},"kangaroo"),e(t.Item,{children:"Snake"},"snake")]}),e("h3",{children:"Header"}),l(t,{selectionMode:"multiple",disabledKeys:["snake"],label:"Favorite Animal",placeholder:"Choose an animal",headerTitle:"Filter title",headerOnClick:()=>console.log("clicked"),children:[e(t.Item,{children:"Red Panda"},"red panda"),e(t.Item,{children:"Cat"},"cat"),e(t.Item,{children:"Dog"},"dog"),e(t.Item,{children:"Aardvark"},"aardvark"),e(t.Item,{children:"Kangaroo"},"kangaroo"),e(t.Item,{children:"Snake"},"snake")]}),e("h3",{children:"Disabled"}),l(t,{label:"Favorite Animal",selectionMode:"multiple",disabledKeys:["cat"],placeholder:"Choose an animal",selectedKeys:r,isRequired:!0,onSelectionChange:i=>o(i==="all"?i:[...i]),isDisabled:!0,children:[l(t.Item,{children:[e(M,{icon:E,style:{marginRight:5}}),"Red Panda"]},"red panda"),e(t.Item,{children:"Cat"},"cat"),e(t.Item,{children:"Dog"},"dog"),e(t.Item,{children:"Aardvark"},"aardvark"),e(t.Item,{children:"Kangaroo"},"kangaroo"),e(t.Item,{children:"Snake"},"snake")]})]})};typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{Ge as MultipleDropdowns};

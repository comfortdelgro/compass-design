import{R as $,s as k,j as r,r as f,a as m}from"./index-ea08e0bd.js";import{P as Q}from"./index-8d3b2988.js";import{p as U}from"./pick-child-752b8919.js";import{u as R}from"./use-dom-ref-1c255a25.js";import"./index-b9bff82c.js";import{C as X}from"./components-d18c5221.js";import{B as q}from"./button-58030a58.js";import"./floating-ui.react.esm-507d5d97.js";const Y=$.createContext({open:!1,itemIds:[],setOpen:()=>{},setItemIds:()=>{}}),V=Y,z={position:"relative",padding:"$2 0",borderRadius:"$md",width:"fit-content",height:"fit-content",minWidth:"10rem",background:"$background",listStyleType:"none",margin:"0",boxShadow:"0px 0.6px 1.8px rgba(0, 0, 0, 0.1), 0px 3.2px 7.2px rgba(0, 0, 0, 0.13)",ul:{overscrollBehavior:"contain",maxHeight:"$64",listStyle:"none",marginBlockStart:0,marginBlockEnd:0,marginInlineStart:0,marginInlineEnd:0,paddingInlineStart:0,"&:focus":{outline:"none"}}},ee=k("div",{position:"relative"}),te=k("div",{}),ne=k("li",{position:"relative",fontSize:"$label1",fontWeight:"$medium",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"$2 $4",cursor:"pointer","& > *":{color:"$gray90"},".cdg-arrow-right-icon":{width:"$4",height:"$4"},variants:{isDisabled:{true:{backgroundColor:"$gray20",color:"$disabledText",cursor:"not-allowed !important","&:hover":{color:"$disabledText","& > .cdg-arrow-right-icon":{color:"$disabledText"}}}},isActived:{true:{backgroundColor:"$cdgBlue20"}}},"&:hover > .cdg-dropdown-multilevel-submenu":{display:"block !important"},"&:hover":{color:"$cdgBlue100","& > .cdg-arrow-right-icon":{color:"$cdgBlue100"}}}),re=k("ul",{...z}),oe=k("ul",{...z,display:"none",position:"absolute",left:"100%",top:"0","&:hover > .cdg-dropdown-multilevel-submenu":{display:"block"}});k("div",{margin:"0",padding:"$2 0",borderRadius:"$md",width:"fit-content",height:"fit-content",minWidth:"100%"});const _="cdg-dropdown-multilevel-menu",le=$.forwardRef((e,n)=>{const{children:l,css:p={},className:g,...c}=e,s=R(n);return r(re,{css:p,ref:s,className:`${g??""} ${_}`,...c,children:l})}),H=le,j="cdg-dropdown-multilevel-submenu",ce=$.forwardRef((e,n)=>{const{children:l,css:p={},className:g,...c}=e,s=R(n);return r(oe,{css:p,ref:s,role:"menu","aria-labelledby":e["aria-labelledby"],className:`${j} ${g??""}`,...c,children:l})}),O=ce,N="cdg-dropdown-multilevel-item",ie=()=>r("svg",{viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"cdg-arrow-right-icon",children:r("path",{d:"M5.14268 15.5C4.85025 15.5 4.55768 15.3861 4.33482 15.1582C3.88839 14.7025 3.88839 13.9643 4.33482 13.5086L9.24268 8.50046L4.33482 3.49141C3.88839 3.03571 3.88839 2.29747 4.33482 1.84177C4.78125 1.38608 5.50446 1.38608 5.95089 1.84177L11.6652 7.67473C12.1116 8.13043 12.1116 8.86866 11.6652 9.32436L5.95089 15.1573C5.72768 15.387 5.43518 15.5 5.14268 15.5Z",fill:"currentColor"})}),se=e=>{if(e.children.length===0)return null;for(let n=0;n<e.children.length;n++){const l=e.children.item(n);if(l!=null&&l.classList.contains(N))return l}return null},ae=e=>{if(e.children.length===0)return null;for(let n=e.children.length-1;n>0;n--){const l=e.children.item(n);if(l!=null&&l.classList.contains(N))return l}return null},Z=e=>{const n=e==null?void 0:e.nextElementSibling;return e?n?n.getAttribute("aria-disabled")==="true"?Z(n):n:se(e.parentElement):null},G=e=>{const n=e==null?void 0:e.previousElementSibling;return e?n?n.getAttribute("aria-disabled")==="true"?G(n):n:ae(e.parentElement):null},ue=$.forwardRef((e,n)=>{const{children:l,css:p={},className:g,isDisabled:c=!1,isActived:s=!1,eventKey:E,onClick:M,onSelect:S,onBlur:w,onFocus:h,...y}=e,[x,C]=f.useState(!1),{child:u}=U(l,O),a=R(n),{refs:i}=f.useContext(V);f.useEffect(()=>{var o,v;i!=null&&i.current&&(v=(o=a.current)==null?void 0:o.parentElement)!=null&&v.className.includes(_)&&!c&&i.current.push(a)},[]);const B=o=>{c||(o.stopPropagation(),M==null||M(o),S==null||S(o,E))},P=f.useCallback(o=>{var v,A,L,K,T;if(x){let d=null,b=null;switch(o.key){case"ArrowRight":if(o.stopPropagation(),o.preventDefault(),d=(v=a.current)==null?void 0:v.querySelector(`.${j}`),d){d.style.display="block";const D=d==null?void 0:d.querySelector(`.${N}`);D&&setTimeout(()=>{D.focus()},0)}break;case"ArrowLeft":if(o.stopPropagation(),o.preventDefault(),(L=(A=a.current)==null?void 0:A.parentElement)!=null&&L.className.includes(_))return;if(d=(K=a.current)==null?void 0:K.parentElement,d&&d.classList.contains(j)){d.style.display="none";const D=d.parentElement;D&&D.classList.contains(N)&&setTimeout(()=>{D.focus()},0)}break;case"ArrowUp":o.stopPropagation(),o.preventDefault(),b=G(a.current),b==null||b.focus();break;case"ArrowDown":o.stopPropagation(),o.preventDefault(),b=Z(a.current),b==null||b.focus();break;case"Enter":o.stopPropagation(),o.preventDefault(),(T=a.current)==null||T.click();break}}},[u,x]),F=f.useCallback(o=>{h==null||h(o),C(!0)},[h]),I=f.useCallback(o=>{w==null||w(o),C(!1)},[w]);return m(ne,{css:p,ref:a,className:`${N} ${g??""}`,tabIndex:-1,role:u?"none presentation":"menuitem","aria-haspopup":!!u,"aria-disabled":c,isDisabled:c,isActived:s,onClick:B,onKeyDown:P,onFocus:F,onBlur:I,...y,children:[l,!!u&&r(ie,{})]})}),de=ue,me=$.forwardRef((e,n)=>{const{children:l,css:p={},onClick:g,...c}=e,s=R(n),{open:E,setOpen:M,onClose:S,onOpenChange:w}=f.useContext(V);return r(te,{css:p,ref:s,onClick:y=>{E&&(S==null||S()),w==null||w(!E),M(!E),g==null||g(y)},"aria-haspopup":e["aria-haspopup"],...c,children:l})}),J=me,fe=$.forwardRef((e,n)=>{const{children:l,onKeyDown:p,css:g={},onClose:c,onOpenChange:s,...E}=e,M=R(n),{child:S}=U(l,J),{child:w}=U(l,H),[h,y]=f.useState(!1),[x,C]=f.useState([]),[u,a]=f.useState(-1),i=f.useRef([]),B=$.useMemo(()=>({open:h,setOpen:y,itemIds:x,setItemIds:C,refs:i,onClose:c,onOpenChange:s}),[h,y,x,C,c,s]),P=f.useCallback(()=>{y(!1),s==null||s(!1),c==null||c()},[]);return f.useEffect(()=>{h||(i.current=[],a(-1))},[h]),r(ee,{ref:M,onKeyDown:I=>{var o,v,A,L,K,T,d,b,D,W;if(p==null||p(I),h)switch(I.key){case"ArrowUp":I.preventDefault(),i.current&&(u===0||u===-1?(a(i.current.length-1),(v=(o=i.current[i.current.length-1])==null?void 0:o.current)==null||v.focus()):(a(u-1),(L=(A=i.current[u-1])==null?void 0:A.current)==null||L.focus()));break;case"ArrowDown":I.preventDefault(),i.current&&(u===-1||u===i.current.length-1?(a(0),(T=(K=i.current[0])==null?void 0:K.current)==null||T.focus()):(a(u+1),(b=(d=i.current[u+1])==null?void 0:d.current)==null||b.focus()));break;case"Enter":I.preventDefault(),console.log("Menu Enter"),(W=(D=i.current[u])==null?void 0:D.current)==null||W.click();break;case"Escape":case"Tab":y(!1),s==null||s(!1),c==null||c();break}else switch(I.key){case"ArrowUp":case"ArrowDown":I.preventDefault(),y(!0);break}},css:g,role:"menu","aria-labelledby":e["aria-labelledby"],...E,children:r(V.Provider,{value:B,children:r(Q,{isOpen:h,anchor:S,direction:"bottom-left",onClose:P,children:w})})})}),t=fe;t.Toggle=J;t.Item=de;t.Submenu=O;t.Menu=H;t.Toggle.displayName="DropdownMenu.Toggle";t.Item.displayName="DropdownMenu.Item";t.Submenu.displayName="DropdownMenu.Submenu";t.Menu.displayName="DropdownMenu.Menu";const De=()=>{const e=(n,l)=>{console.log("handleItemSelect: ",l,n)};return m(X,{children:[r("h3",{children:"Default"}),m(t,{children:[r(t.Toggle,{children:r(q,{children:"Default"})}),m(t.Menu,{children:[r(t.Item,{onSelect:e,eventKey:"item-1",children:"Item 1"}),r(t.Item,{onSelect:e,eventKey:"item-2",children:"Item 2"}),r(t.Item,{onSelect:e,isActived:!0,eventKey:"item-3",children:"Item 3"}),r(t.Item,{onSelect:e,eventKey:"item-4",children:"Item 4"})]})]}),r("h3",{children:"Submenu"}),m(t,{children:[r(t.Toggle,{children:r(q,{children:"Submenu"})}),m(t.Menu,{children:[r(t.Item,{isActived:!0,onSelect:e,eventKey:"item-1",children:"Item 1"}),m(t.Item,{onSelect:e,eventKey:"item-2",children:["Item 2",m(t.Submenu,{children:[m(t.Item,{eventKey:"item-2-1",onSelect:e,children:["Item 2 - 1",m(t.Submenu,{children:[r(t.Item,{eventKey:"item-2-1-1",onSelect:e,children:"Item 2 - 1 - 1"}),r(t.Item,{eventKey:"item-2-1-2",onSelect:e,children:"Item 2 - 1 - 2"})]})]}),r(t.Item,{eventKey:"item-2-2",onSelect:e,children:"Item 2 - 2"})]})]}),r(t.Item,{isDisabled:!0,onSelect:e,eventKey:"item-3",children:"Item 3"}),m(t.Item,{onSelect:e,eventKey:"item-4",children:["Item 4",m(t.Submenu,{children:[m(t.Item,{eventKey:"item-4-1",onSelect:e,children:["Item 4 - 1",m(t.Submenu,{children:[r(t.Item,{eventKey:"item-4-1-1",onSelect:e,children:"Item 4 - 1 - 1"}),r(t.Item,{eventKey:"item-4-1-2",onSelect:e,children:"Item 4 - 1 - 2"})]})]}),r(t.Item,{eventKey:"item-4-2",onSelect:e,children:"Item 4 - 2"})]})]})]})]})]})};typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{De as Default};

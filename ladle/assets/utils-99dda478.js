import{l as f}from"./lodash-990b623a.js";import{R as c,j as a}from"./index-5f8fa73a.js";import{p as y}from"./pick-child-08f51a6d.js";import{u as x}from"./use-dom-ref-86ceca89.js";import{p}from"./dropdown.styles-b870c020.js";const d=c.forwardRef((r,t)=>{const{children:e,css:n={},...l}=r,i=x(t);return a(p,{ref:i,css:n,...l,children:e})}),b=d;function g(r){var e,n;if(!r)return"";if(typeof r=="string")return r;if((e=r.props)!=null&&e.textValue)return r.props.textValue;const t=(n=r.props)==null?void 0:n.children;return t instanceof Array?t.map(g).join(" "):g(t)}const h=(r,t,e=[])=>{var n;for(let l=0;l<r.length;l++){const i=r[l];if(i!=null&&i.props){const s=i.props.value??((n=i.key)==null?void 0:n.toString().replace(".$",""))??"";if(s===t.toString()&&!(e!=null&&e.includes(s)))return i;if(i.props.children){const o=h(c.Children.toArray(i.props.children),t);if(o)return o}}}return null},S=(r,t,e=[])=>{if(!e.length)return null;const n=e.filter(i=>i.visibility);if(n.length){const i=n.findIndex(s=>s.value.toString()===r.toString());if(i!==-1){const s=n[i-1]??n[n.length-1];if(s)return u(s.value,t)}}return m(t,e)},A=(r,t,e=[])=>{if(!e.length)return null;const n=e.filter(i=>i.visibility);if(n.length){const i=n.findIndex(s=>s.value.toString()===r.toString());if(i!==-1){const s=n[i+1]??n[0];if(s)return u(s.value,t)}}return v(t,e)},v=(r,t=[])=>{if(!(t!=null&&t.length))return null;let e=null;for(let n=0;n<t.length;n++){const l=t[n];if(l!=null&&l.visibility){e=u(l.value,r);break}}return e},m=(r,t=[])=>{if(!(t!=null&&t.length))return null;let e=null;for(let n=t.length-1;n>=0;n--){const l=t[n];if(l!=null&&l.visibility){e=u(l.value,r);break}}return e},u=(r,t)=>{const{rest:e}=y(t,b),n=c.Children.toArray(e);return n!=null&&n.length?h(t,r)??null:null},R=(r,t)=>{const e=i=>{const{top:s}=i.getBoundingClientRect();return s},n=e(r),l=e(t);return Math.hypot(n-l)};function C(r,t,e){let n;return r!=null&&!f.isEmpty(r.toString())&&t!==""&&!e&&(n=r),t!=null&&!f.isEmpty(t.toString())&&(n=t),n}class E{constructor(t,e){this.getKeyIndex=n=>{const l=this.collection.findIndex(i=>i.key===n);return l!==-1?l:null},this.getKeyAfter=n=>{var s;const l=this.getKeyIndex(n);if(l===null)return null;const i=(s=this.collection[l+1])==null?void 0:s.key;return i||null},this.getKeyBefore=n=>{var s;const l=this.getKeyIndex(n);if(l===null)return null;const i=(s=this.collection[l-1])==null?void 0:s.key;return i||null},this.collection=t,this.disabledKeys=e}getKeyBelow(t){let e=this.getKeyAfter(t);for(;e!=null;){if(![...this.disabledKeys].includes(e))return e;e=this.getKeyAfter(e)}return null}getKeyAbove(t){let e=this.getKeyBefore(t);for(;e!=null;){if(![...this.disabledKeys].includes(e))return e;e=this.getKeyBefore(e)}return null}getFirstKey(){var e;let t=(e=this.collection[0])==null?void 0:e.key;for(;t!=null;){if(![...this.disabledKeys].includes(t))return t;t=this.getKeyAfter(t)}return null}getLastKey(){var e;let t=(e=this.collection[this.collection.length-1])==null?void 0:e.key;for(;t!=null;){if(![...this.disabledKeys].includes(t))return t;t=this.getKeyBefore(t)}return null}}export{b as D,E as L,u as a,A as b,v as c,S as d,m as e,C as f,R as g,g as t};

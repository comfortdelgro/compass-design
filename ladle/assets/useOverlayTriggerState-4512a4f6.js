import{$ as Q,a as me,m as we,n as Ke,o as kt,p as Mt,q as Ft,r as Lt,h as ce,i as It,s as Nt,k as Vt,t as Bt,u as At,v as J,w as Ht,x as Wt,y as Kt,z as jt,A as Zt,B as zt,C as Gt,D as Ut,E as Pe,F as je,G as qt,H as Te,J as _t}from"./import-7720de84.js";import{r as b,s as U,R as j,j as N,a as G,c as Yt}from"./index-2982a9a3.js";import{u as le}from"./use-dom-ref-02339d1d.js";import{c as Ze,h as Xt,j as Jt,k as Qt,S as er,u as tr,r as $e,f as rr,l as ze,b as nr,d as Ge,m as re,n as or,o as ar,e as Ce,p as ir,M as ae,i as lr,q as sr,s as cr,t as dr,a as ur,v as fr,w as mr,x as pr,y as br}from"./useCalendarState-f192cb43.js";import{u as Re,a as Oe}from"./useEvent-2ef99917.js";import{$ as hr}from"./clsx.m-30223e4c.js";import{$ as Ee}from"./import-77d7f803.js";function $r(e,t,r){const{direction:n}=Q(),o=b.useMemo(()=>Ze(t),[t]),i=a=>{if(a.altKey&&(a.key==="ArrowDown"||a.key==="ArrowUp")&&"setOpen"in e&&(a.preventDefault(),a.stopPropagation(),e.setOpen(!0)),!r)switch(a.key){case"ArrowLeft":a.preventDefault(),a.stopPropagation(),n==="rtl"?o.focusNext():o.focusPrevious();break;case"ArrowRight":a.preventDefault(),a.stopPropagation(),n==="rtl"?o.focusPrevious():o.focusNext();break}},f=()=>{var p;let a=(p=window.event)==null?void 0:p.target;const s=Jt(t.current,{tabbable:!0});if(a&&(s.currentNode=a,a=s.previousNode()),!a){let $;do $=s.lastChild(),$&&(a=$);while($)}for(;a!=null&&a.hasAttribute("data-placeholder");){const $=s.previousNode();if($&&$.hasAttribute("data-placeholder"))a=$;else break}a&&a.focus()},{pressProps:l}=Xt({preventFocusOnPress:!0,allowTextSelectionOnPress:!0,onPressStart(a){a.pointerType==="mouse"&&f()},onPress(a){a.pointerType!=="mouse"&&f()}});return{...l,onKeyDown:i}}function vr(e){const{description:t,errorMessage:r,validationState:n}=e;let{labelProps:o,fieldProps:i}=Qt(e);const f=Re([!!t,!!r,n]),l=Re([!!t,!!r,n]);return i={...i,"aria-describedby":[f,l,e["aria-describedby"]].filter(Boolean).join(" ")||void 0},{labelProps:o,fieldProps:i,descriptionProps:{id:f},errorMessageProps:{id:l}}}function gr(e){const t=b.useRef({isFocused:!1,onBlur:e,observer:null});return t.current.onBlur=e,b.useLayoutEffect(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]),b.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;const n=r.target,o=i=>{var f,l;t.current.isFocused=!1,n.disabled&&((l=(f=t.current).onBlur)==null||l.call(f,new er("blur",i))),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};n.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{var i;t.current.isFocused&&n.disabled&&((i=t.current.observer)==null||i.disconnect(),n.dispatchEvent(new FocusEvent("blur")),n.dispatchEvent(new FocusEvent("focusout",{bubbles:!0})))}),t.current.observer.observe(n,{attributes:!0,attributeFilter:["disabled"]})}},[])}function yr(e){const{isDisabled:t,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:o}=e,i=b.useRef({isFocusWithin:!1}),f=b.useCallback(s=>{i.current.isFocusWithin&&!s.currentTarget.contains(s.relatedTarget)&&(i.current.isFocusWithin=!1,r&&r(s),o&&o(!1))},[r,o,i]),l=gr(f),a=b.useCallback(s=>{!i.current.isFocusWithin&&document.activeElement===s.target&&(n&&n(s),o&&o(!0),i.current.isFocusWithin=!0,l(s))},[n,o,l]);return t?{focusWithinProps:{onFocus:null,onBlur:null}}:{focusWithinProps:{onFocus:a,onBlur:f}}}function xr(e,t,r){const{labelProps:n,fieldProps:o,descriptionProps:i,errorMessageProps:f}=vr({...e,labelElementType:"span"}),{focusWithinProps:l}=yr({...e,onBlurWithin:P=>{t.confirmPlaceholder(),e.onBlur&&e.onBlur(P)},onFocusWithin:e.onFocus,onFocusWithinChange:e.onFocusChange}),a=t.maxGranularity==="hour"?"selectedTimeDescription":"selectedDateDescription",s=t.value?a:"",p=tr(s),$=e[$e]==="presentation"?o["aria-describedby"]:[p["aria-describedby"],o["aria-describedby"]].filter(Boolean).join(" ")||void 0,d=e[rr],v=b.useMemo(()=>d||Ze(r),[d,r]),c=$r(t,r,e[$e]==="presentation");ze.set(t,{ariaLabel:"",ariaLabelledBy:[e["aria-labelledby"],n.id].filter(Boolean).join(" ")||"",focusManager:v});const y=b.useRef(e.autoFocus);let w;e[$e]==="presentation"?w={role:"presentation"}:w={...o,role:"group","aria-disabled":e.isDisabled||void 0,"aria-describedby":$},b.useEffect(()=>{y.current&&v.focusFirst(),y.current=!1},[v]);const x=nr(e);return{labelProps:{...n,onClick:()=>{v.focusFirst()}},fieldProps:{...x,...w,...c,...l,onKeyDown(P){e.onKeyDown&&e.onKeyDown(P)},onKeyUp(P){e.onKeyUp&&e.onKeyUp(P)}},descriptionProps:i,errorMessageProps:f}}function wr(e,t){const r=b.useRef(e);e&&(r.current=e),e=r.current;const{locale:n}=Q(),o=b.useMemo(()=>new me(n),[n]),i=b.useMemo(()=>o.resolvedOptions(),[o]),f=e&&"timeZone"in e?e.timeZone:i.timeZone;if(t=t||(e&&"minute"in e?"minute":"day"),e&&!(t in e))throw new Error("Invalid granularity "+t+" for value "+e.toString());return[t,f]}const de={year:!0,month:!0,day:!0,hour:!0,minute:!0,second:!0,dayPeriod:!0,era:!0},ke={year:5,month:2,day:7,hour:2,minute:15,second:15},Pr={dayperiod:"dayPeriod"};function Er(e){const{locale:t,createCalendar:r,hideTimeZone:n,isDisabled:o,isReadOnly:i,isRequired:f}=e,l=e.value||e.defaultValue||e.placeholderValue,[a,s]=wr(l,e.granularity),p=s||"UTC";if(l&&!(a in l))throw new Error("Invalid granularity "+a+" for value "+l.toString());const $=b.useMemo(()=>new me(t),[t]),d=b.useMemo(()=>r($.resolvedOptions().calendar),[r,$]),v=u=>{e.onChange&&(u!=null&&u.year&&u.year<ae?e.onChange(null):e.onChange(u))},[c,y]=Ge(e.value,e.defaultValue,v),w=b.useRef(c);b.useEffect(()=>{w.current!==c&&(c===null&&Object.keys(g).length===Object.keys(M).length&&R===void 0&&(g={},m(g),D(re(e.placeholderValue,a,d,s)),T(void 0)),w.current=c)},[c]);const x=b.useMemo(()=>or(c,d),[c,d]),[P,D]=b.useState(()=>re(e.placeholderValue,a,d,s)),k=x||P,C=d.identifier==="gregory"&&(k==null?void 0:k.era)==="BC",L=b.useMemo(()=>({granularity:a,maxGranularity:e.maxGranularity??"year",timeZone:s,hideTimeZone:n,hourCycle:e.hourCycle,showEra:C}),[e.maxGranularity,a,e.hourCycle,s,n,C]),[R,T]=b.useState(void 0),{isReset:A,setIsReset:S}=ar(),ee=()=>{y(null),g={},m(g),T(void 0)};b.useEffect(()=>{A===!0&&(ee(),S==null||S(!1))},[A]);const q=b.useMemo(()=>Ce({},L),[L]),K=b.useMemo(()=>new me(t,q),[t,q]),V=b.useMemo(()=>K.resolvedOptions(),[K]),M=b.useMemo(()=>K.formatToParts(new Date).filter(u=>de[u.type]).reduce((u,O)=>(u[O.type]=!0,u),{}),[K]);let[g,m]=b.useState(()=>e.value||e.defaultValue?{...M}:{});const E=b.useRef(d.identifier);b.useEffect(()=>{d.identifier!==E.current&&(E.current=d.identifier,D(u=>Object.keys(g).length>0?we(u,d):re(e.placeholderValue,a,d,s)))},[d,a,g,s,e.placeholderValue]),c&&Object.keys(g).length<Object.keys(M).length&&(g={...M},m(g)),c==null&&Object.keys(g).length===Object.keys(M).length&&R===!1&&!A&&(g={},m(g),D(re(e.placeholderValue,a,d,s)),T(void 0));let h=x&&Object.keys(g).length>=Object.keys(M).length?x:P,F=u=>{e.isDisabled||e.isReadOnly||(Object.keys(g).length>=Object.keys(M).length&&(u=we(u,(l==null?void 0:l.calendar)||new Ft),y(u)),D(u))};const I=b.useMemo(()=>h==null?void 0:h.toDate(p),[h,p]);let _=b.useMemo(()=>K.formatToParts(I).map(u=>{let O=de[u.type];u.type==="era"&&d.getEras().length===1&&(O=!1);let B=de[u.type]&&!g[u.type],te=de[u.type]?ir(u.type,u.value):null;return u.type==="year"&&(B=R?!1:B),{type:Pr[u.type]||u.type,text:B?te:u.value,...Sr(h,u.type,V),isPlaceholder:B,placeholder:te,isEditable:O}}),[I,g,K,V,h,d,t]);M.era&&g.year&&!g.era?(g.era=!0,m({...g})):!M.era&&g.era&&(delete g.era,m({...g}));const se=u=>{g[u]=!0,u==="year"&&M.era&&(g.era=!0),m({...g})},be=u=>{g[u]=!1,m({...g})},z=(u,O)=>{g[u]?F(Dr(h,u,O,V)):(se(u),Object.keys(g).length>=Object.keys(M).length&&F(h))};function he(){const u=Object.values(g),O=Object.values(M);return c||u.length===0?!0:u.length!==O.length?!1:!!(u.every(B=>!B)&&!f||u.every(B=>B))}const Ot=(()=>e.validationState||(lr(x,e.minValue,e.maxValue)||null)||!c&&(P!=null&&P.year)&&P.year<ae&&R!==void 0||!he()?"invalid":"valid")();return{value:x,dateValue:I,calendar:d,setValue:F,segments:_,dateFormatter:K,validationState:Ot,granularity:a,maxGranularity:e.maxGranularity??"year",isDisabled:!!o,isReadOnly:!!i,isRequired:!!f,increment(u){z(u,1)},decrement(u){z(u,-1)},incrementPage(u){z(u,ke[u]||1)},decrementPage(u){z(u,-(ke[u]||1))},setSegment(u,O){u==="year"&&O<ae?(be(u),T(!0),D(new Ke(O,(h==null?void 0:h.month)??0,(h==null?void 0:h.day)??0))):(u==="year"&&O>=ae&&T(!1),se(u)),F(Tr(h,u,parseInt(O),V))},confirmPlaceholder(){if(e.isDisabled||e.isReadOnly)return;let u=Object.keys(g),O=Object.keys(M);u.length===O.length-1&&M.dayPeriod&&!g.dayPeriod&&(g={...M},m(g),F(h==null?void 0:h.copy()))},clearSegment(u){u==="year"&&T(void 0),delete g[u],m({...g});let O=re(e.placeholderValue,a,d,s),B=h;if(u==="dayPeriod"&&"hour"in h&&"hour"in O){let te=h.hour>=12,De=O.hour>=12;te&&!De?B=h.set({hour:h.hour-12}):!te&&De&&(B=h.set({hour:h.hour+12}))}else u in h&&(B=h==null?void 0:h.set({[u]:O==null?void 0:O[u]}));y(null),F(B)},formatValue(u){if(!x)return"";const O=Ce(u,L);return new me(t,O).format(I)}}}function Sr(e,t,r){switch(t){case"era":{let n=e.calendar.getEras();return{value:n.indexOf(e.era),minValue:0,maxValue:n.length-1}}case"year":return{value:e.year,minValue:ae,maxValue:e.calendar.getYearsInEra(e)};case"month":return{value:e.month,minValue:Mt(e),maxValue:e.calendar.getMonthsInYear(e)};case"day":return{value:e.day,minValue:kt(e),maxValue:e.calendar.getDaysInMonth(e)}}if("hour"in e)switch(t){case"dayPeriod":return{value:e.hour>=12?12:0,minValue:0,maxValue:12};case"hour":if(r.hour12){let n=e.hour>=12;return{value:e.hour,minValue:n?12:0,maxValue:n?23:11}}return{value:e.hour,minValue:0,maxValue:23};case"minute":return{value:e.minute,minValue:0,maxValue:59};case"second":return{value:e.second,minValue:0,maxValue:59}}return{}}function Dr(e,t,r,n){switch(t){case"era":case"year":case"month":case"day":return e.cycle(t,r,{round:t==="year"})}if("hour"in e)switch(t){case"dayPeriod":{let o=e.hour,i=o>=12;return e.set({hour:i?o-12:o+12})}case"hour":case"minute":case"second":return e.cycle(t,r,{round:t!=="hour",hourCycle:n.hour12?12:24})}}function Tr(e,t,r,n){switch(t){case"day":case"month":case"year":case"era":return e.set({[t]:r})}if("hour"in e)switch(t){case"dayPeriod":{let o=e.hour,i=o>=12;return r>=12===i?e:e.set({hour:i?o-12:o+12})}case"hour":if(n.hour12){let i=e.hour>=12;!i&&r===12&&(r=0),i&&r<12&&(r+=12)}case"minute":case"second":return e.set({[t]:r})}}const Ue=U("div",{color:"$gray50",fontSize:"$body3",fontWeight:"$semibold",textTransform:"uppercase",letterSpacing:"1px","&:focus":{boxShadow:"none"},"&:focus-visible":{padding:"$0_5 0",outline:"none",boxShadow:"none",color:"$whiteText !important",backgroundColor:"$cdgBlue"},"&.number":{color:"$primaryText"}}),Cr=U("div",{display:"flex",flexDirection:"column",justifyContent:"flex-end","& .date-field-input:focus-within":{border:"1px solid $cdgBlue100",borderRadius:"$md"},"& .date-field-label":{fontSize:"$label1",fontWeight:"$semibold",marginBottom:"$2",display:"inline-block",width:"100%",span:{marginLeft:"$1",color:"$danger"}},"& .date-field-input":{minWidth:"$49",height:"$11",display:"flex",alignItems:"center",padding:"0 0 0 $4",backgroundColor:"$background",border:"1px solid $gray30",borderRadius:"$md"},"& .date-field-input.mobile:active":{backgroundColor:"$gray10"},"& .toggle-calendar-button":{marginLeft:"auto"},"& .toggle-calendar-button .toggle-calendar-icon":{width:"$3",height:"$3"},variants:{isDisabled:{true:{"& .date-field-input":{backgroundColor:"$gray20",cursor:"not-allowed !important","*":{color:"$disabledText",cursor:"not-allowed !important"}},[`& ${Ue}`]:{color:"$disabledText"}}},isInvalid:{true:{"& .date-field-input":{borderColor:"$danger"}}}}}),ve=U("span",{variants:{isError:{true:{color:"$danger"}},isText:{true:{fontSize:"$label2"}}}}),Rr=U("button",{border:"none",margin:"0",width:"auto",overflow:"visible",background:"transparent",color:"inherit",font:"inherit",lineHeight:"normal",WebkitFontSmoothing:"inherit",MozOsxFontSmoothing:"inherit",WebkitAppearance:"none",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",padding:"$2 $4","&:focus":{boxShadow:"none"},"&:focus-visible":{outline:"2px solid $cdgBlue80",borderRadius:"2px"}}),Me=U("div",{fontSize:"$label2",fontWeight:"$medium",transition:"$default",marginTop:"$1",color:"$gray70",variants:{error:{true:{color:"$danger"}}}}),Or=U("svg",{color:"$primaryText"});function kr(){const{locale:e}=Q();return b.useMemo(()=>{try{return new Intl.DisplayNames(e,{type:"dateTimeField"})}catch{return new Mr(e)}},[e])}class Mr{constructor(t){this.locale=t,this.dictionary=new Lt(sr)}of(t){return this.dictionary.getStringForLocale(t,this.locale)}}function Fr(e){const t=b.useRef();let{value:r,textValue:n,minValue:o,maxValue:i,isDisabled:f,isReadOnly:l,isRequired:a,onIncrement:s,onIncrementPage:p,onDecrement:$,onDecrementPage:d,onDecrementToMin:v,onIncrementToMax:c}=e;const y=b.useRef(e);y.current=e;const w=()=>clearTimeout(t.current);b.useEffect(()=>()=>w(),[]);let x=S=>{if(!(S.ctrlKey||S.metaKey||S.shiftKey||S.altKey||l)){switch(S.key){case"PageUp":if(p){S.preventDefault(),p();break}break;case"ArrowUp":case"Up":s&&(S.preventDefault(),s());break;case"PageDown":if(d){S.preventDefault(),d();break}break;case"ArrowDown":case"Down":$&&(S.preventDefault(),$());break;case"Home":v&&(S.preventDefault(),v());break;case"End":c&&(S.preventDefault(),c());break}return null}},P=b.useRef(!1),D=()=>{P.current=!0},k=()=>{P.current=!1};n=n===""?"Empty":(n||`${r}`).replace("-","−");const C=b.useCallback(S=>{w(),y.current.onIncrement(),t.current=window.setTimeout(()=>{(isNaN(i)||isNaN(r)||r<i)&&C(60)},S)},[s,i,r]),L=b.useCallback(S=>{w(),y.current.onDecrement(),t.current=window.setTimeout(()=>{(isNaN(o)||isNaN(r)||r>o)&&L(60)},S)},[$,o,r]);let R=S=>{S.preventDefault()},{addGlobalListener:T,removeAllGlobalListeners:A}=cr();return{spinButtonProps:{role:"spinbutton","aria-valuenow":isNaN(r)?null:r,"aria-valuetext":n,"aria-valuemin":o,"aria-valuemax":i,"aria-disabled":f||null,"aria-readonly":l||null,"aria-required":a||null,onKeyDown:x,onFocus:D,onBlur:k},incrementButtonProps:{onPressStart:()=>{C(400),T(window,"contextmenu",R)},onPressEnd:()=>{w(),A()},onFocus:D,onBlur:k},decrementButtonProps:{onPressStart:()=>{L(400),T(window,"contextmenu",R)},onPressEnd:()=>{w(),A()},onFocus:D,onBlur:k}}}function Lr(e,t,r){const n=b.useRef(""),{locale:o}=Q(),i=kr();let{ariaLabel:f,ariaLabelledBy:l,ariaDescribedBy:a,focusManager:s}=ze.get(t),p=e.isPlaceholder?"":e.text;const $=b.useMemo(()=>t.dateFormatter.resolvedOptions(),[t.dateFormatter]),d=ce({month:"long",timeZone:$.timeZone}),v=ce({hour:"numeric",hour12:$.hour12,timeZone:$.timeZone});if(e.type==="month"&&!e.isPlaceholder){const m=d.format(t.dateValue);p=m!==p?`${p} – ${m}`:m}else e.type==="hour"&&!e.isPlaceholder&&(p=v.format(t.dateValue));const{spinButtonProps:c}=Fr({value:e.value,textValue:p,minValue:e.minValue,maxValue:e.maxValue,isDisabled:!!t.isDisabled,isReadOnly:t.isReadOnly||!e.isEditable,isRequired:!!t.isRequired,onIncrement:()=>{n.current="",t.increment(e.type)},onDecrement:()=>{n.current="",t.decrement(e.type)},onIncrementPage:()=>{n.current="",t.incrementPage(e.type)},onDecrementPage:()=>{n.current="",t.decrementPage(e.type)},onIncrementToMax:()=>{n.current="",t.setSegment(e.type,e.maxValue)},onDecrementToMin:()=>{n.current="",t.setSegment(e.type,e.minValue)}}),y=b.useMemo(()=>new hr(o,{maximumFractionDigits:0}),[o]),w=()=>{if(y.isValidPartialNumber(e.text)&&!t.isReadOnly&&!e.isPlaceholder){const m="";t.clearSegment(e.type),n.current=m}else e.type==="dayPeriod"&&t.clearSegment(e.type)},x=m=>{var E;if(m.key==="a"&&(mr()?m.metaKey:m.ctrlKey)&&m.preventDefault(),!(m.ctrlKey||m.metaKey||m.shiftKey||m.altKey))switch(m.key){case"Backspace":case"Delete":{m.preventDefault(),m.stopPropagation(),w();break}default:{(E=c.onKeyDown)==null||E.call(c,m);break}}},{startsWith:P}=It({sensitivity:"base"}),D=ce({hour:"numeric",hour12:!0}),k=b.useMemo(()=>{var E;const m=new Date;return m.setHours(0),(E=D.formatToParts(m).find(h=>h.type==="dayPeriod"))==null?void 0:E.value},[D]),C=b.useMemo(()=>{var E;const m=new Date;return m.setHours(12),(E=D.formatToParts(m).find(h=>h.type==="dayPeriod"))==null?void 0:E.value},[D]),L=ce({year:"numeric",era:"narrow",timeZone:"UTC"}),R=b.useMemo(()=>{var F;if(e.type!=="era")return[];const m=we(new Ke(1,1,1),t.calendar),E=t.calendar.getEras().map(I=>{var z;const _=m.set({year:1,month:1,day:1,era:I}).toDate("UTC"),be=(z=L.formatToParts(_).find(he=>he.type==="era"))==null?void 0:z.value;return{era:I,formatted:be}}),h=Ir(E.map(I=>I.formatted));if(h)for(const I of E)I.formatted=(F=I.formatted)==null?void 0:F.slice(h);return E},[L,t.calendar,e.type]),T=m=>{if(t.isDisabled||t.isReadOnly)return;const E=n.current+m;switch(e.type){case"dayPeriod":if(P(k,m))t.setSegment("dayPeriod",0);else if(P(C,m))t.setSegment("dayPeriod",12);else break;s.focusNext();break;case"era":{const h=R.find(F=>P(F.formatted,m));h&&(t.setSegment("era",h.era),s.focusNext());break}case"day":case"hour":case"minute":case"second":case"month":case"year":{if(!y.isValidPartialNumber(E))return;let h=y.parse(E),F=h,I=e.minValue===0;if(e.type==="hour"&&t.dateFormatter.resolvedOptions().hour12){switch(t.dateFormatter.resolvedOptions().hourCycle){case"h11":h>11&&(F=y.parse(m));break;case"h12":I=!1,h>12&&(F=y.parse(m));break}e.value>=12&&h>1&&(h+=12)}else h>e.maxValue&&(F=y.parse(m));if(isNaN(h))return;const _=F!==0||I;_&&t.setSegment(e.type,F),+(h+"0")>e.maxValue||E.length>=String(e.maxValue).length?(n.current="",_&&(s==null||s.focusNext())):n.current=E;break}}},A=()=>{n.current="",pr(r.current,{containingElement:br(r.current)});const m=window.getSelection();m==null||m.collapse(r.current)},S=b.useRef("");Oe(r,"beforeinput",m=>{var E,h;switch(m.preventDefault(),m.inputType){case"deleteContentBackward":case"deleteContentForward":y.isValidPartialNumber(e.text)&&!t.isReadOnly&&w();break;case"insertCompositionText":S.current=(E=r.current)==null?void 0:E.textContent,r.current.textContent=(h=r.current)==null?void 0:h.textContent;break;default:m.data!=null&&T(m.data);break}}),Oe(r,"input",m=>{const{inputType:E,data:h}=m;switch(E){case"insertCompositionText":r.current.textContent=S.current,(P(k,h)||P(C,h))&&T(h);break}}),b.useLayoutEffect(()=>{const m=r.current;return()=>{document.activeElement===m&&(s.focusPrevious()||s.focusNext())}},[r,s]);const ee=dr()||e.type==="timeZoneName"?{role:"textbox","aria-valuemax":null,"aria-valuemin":null,"aria-valuetext":null,"aria-valuenow":null}:{},q=b.useMemo(()=>{var m;return(m=t==null?void 0:t.segments)==null?void 0:m.find(E=>E.isEditable)},[t.segments]);e!==q&&t.validationState!=="invalid"&&(a="");const K=ur(),V=!t.isDisabled&&!t.isReadOnly&&e.isEditable,M=e.type==="literal"?"":i.of(e.type),g=fr({"aria-label":(f?f+" ":"")+M,"aria-labelledby":l});return e.type==="literal"?{segmentProps:{"aria-hidden":!0}}:{segmentProps:{...c,...g,id:K,...ee,"aria-invalid":t.validationState==="invalid"?"true":void 0,"aria-describedby":a,"aria-readonly":t.isReadOnly||!e.isEditable?"true":void 0,"data-placeholder":e.isPlaceholder||void 0,contentEditable:V,suppressContentEditableWarning:V,spellCheck:V?"false":void 0,autoCapitalize:V?"off":void 0,autoCorrect:V?"off":void 0,[parseInt(j.version,10)>=17?"enterKeyHint":"enterkeyhint"]:V?"next":void 0,inputMode:t.isDisabled||e.type==="dayPeriod"||e.type==="era"||!V?void 0:"numeric",tabIndex:t.isDisabled?void 0:0,onKeyDown:x,onFocus:A,style:{caretColor:"transparent"},onPointerDown(m){m.stopPropagation()},onMouseDown(m){m.stopPropagation()}}}}function Ir(e){e.sort();const t=e[0],r=e[e.length-1];for(let n=0;n<t.length;n++)if(t[n]!==r[n])return n;return 0}const Nr=j.forwardRef((e,t)=>{const{segment:r,state:n}=e,o=le(t),{segmentProps:i}=Lr(r,n,o);return N(Ue,{...i,ref:o,className:`segment ${r.isPlaceholder?"placeholder":"number"}`,children:r.text})}),Vr=Nr,Br=()=>N(Or,{width:"16",height:"16",viewBox:"0 0 16 16",children:N("path",{d:"M8.33276 12.3334C8.02004 12.3334 7.70717 12.2125 7.46885 11.9707L1.35805 5.78022C0.880649 5.29658 0.880649 4.5131 1.35805 4.02947C1.83546 3.54584 2.60886 3.54584 3.08626 4.02947L8.33276 9.34651L13.5804 4.03044C14.0578 3.54681 14.8312 3.54681 15.3086 4.03044C15.786 4.51407 15.786 5.29755 15.3086 5.78118L9.19782 11.9717C8.95912 12.2135 8.64594 12.3334 8.33276 12.3334Z",fill:"currentColor"})}),Ar=j.forwardRef((e,t)=>{const{locale:r}=Q(),n=le(null),o=Er({...e,isReadOnly:e.isReadOnly?!0:!!e.isMobile,locale:r,createCalendar:Nt}),i=le(t),{labelProps:f,fieldProps:l}=xr({...e,isReadOnly:e.isReadOnly?!0:!!e.isMobile},o,i),a=e.isDisabled??!1,s=e.isReadOnly??!1,p=!!e.isInvalid||o.validationState==="invalid",$=()=>{const c=e.necessityIndicator??"icon";return e.isRequired&&c==="icon"?N(ve,{isError:!0,children:"*"}):e.isRequired&&c==="label"?N(ve,{isError:!0,isText:!0,children:"(required)"}):!e.isRequired&&c==="label"?N(ve,{isText:!0,children:"(optional)"}):""},{onPress:d,...v}=e.buttonProps;return G("div",{children:[G(Cr,{className:"cdg-date-field",isDisabled:a,isInvalid:p,children:[typeof e.label=="string"?G("span",{...f,className:"date-field-label",children:[e.label," ",$()]}):e.label,G("div",{...l,ref:i,className:`date-field-input ${a||s?"":e.isMobile?"mobile":""}`,onClick:()=>{var c;a||s||e.isMobile&&((c=n.current)==null||c.click())},children:[o.segments.map((c,y)=>{var w;return c.type==="literal"&&(c.isPlaceholder=((w=o.segments[y-1])==null?void 0:w.isPlaceholder)??!1),N(Vr,{segment:c,state:o},y)}),N(Rr,{...v,ref:n,onClick:c=>{d==null||d(c)},type:"button",disabled:a||s,className:"toggle-calendar-button",children:N(Br,{})})]})]}),e.isInvalid&&e.errorMessage&&N(Me,{className:"cdg-date-field-error",error:!0,children:e.errorMessage}),e.helperText?N(Me,{className:"cdg-date-field-helper",children:e.helperText}):null]})}),Pn=Ar;function Hr(e){return e&&e.__esModule?e.default:e}const Fe={top:"top",bottom:"top",left:"left",right:"left"},pe={top:"bottom",bottom:"top",left:"right",right:"left"},Wr={top:"left",left:"top"},Se={top:"height",left:"width"},Kr={width:"totalWidth",height:"totalHeight"},ue={};let Y=typeof window<"u"&&window.visualViewport;function jr(e){let t=0,r=0,n=0,o=0,i=0,f=0,l={};if(e.tagName==="BODY"){let p=document.documentElement;n=p.clientWidth,o=p.clientHeight;var a;t=(a=Y==null?void 0:Y.width)!==null&&a!==void 0?a:n;var s;r=(s=Y==null?void 0:Y.height)!==null&&s!==void 0?s:o,l.top=p.scrollTop||e.scrollTop,l.left=p.scrollLeft||e.scrollLeft}else({width:t,height:r,top:i,left:f}=X(e)),l.top=e.scrollTop,l.left=e.scrollLeft,n=t,o=r;return{width:t,height:r,totalWidth:n,totalHeight:o,scroll:l,top:i,left:f}}function Zr(e){return{top:e.scrollTop,left:e.scrollLeft,width:e.scrollWidth,height:e.scrollHeight}}function Le(e,t,r,n,o){let i=n.scroll[e],f=n[Se[e]],l=t-o-i,a=t+o-i+r;return l<0?-l:a>f?Math.max(f-a,-l):0}function zr(e){let t=window.getComputedStyle(e);return{top:parseInt(t.marginTop,10)||0,bottom:parseInt(t.marginBottom,10)||0,left:parseInt(t.marginLeft,10)||0,right:parseInt(t.marginRight,10)||0}}function Ie(e){if(ue[e])return ue[e];let[t,r]=e.split(" "),n=Fe[t]||"right",o=Wr[n];Fe[r]||(r="center");let i=Se[n],f=Se[o];return ue[e]={placement:t,crossPlacement:r,axis:n,crossAxis:o,size:i,crossSize:f},ue[e]}function ge(e,t,r,n,o,i,f,l,a,s){let{placement:p,crossPlacement:$,axis:d,crossAxis:v,size:c,crossSize:y}=n,w={};w[v]=e[v],$==="center"?w[v]+=(e[y]-r[y])/2:$!==v&&(w[v]+=e[y]-r[y]),w[v]+=i;const x=e[v]-r[y]+a+s,P=e[v]+e[y]-a-s;if(w[v]=Ee(w[v],x,P),p===d){const D=l?f[c]:t[Kr[c]];w[pe[d]]=Math.floor(D-e[d]+o)}else w[d]=Math.floor(e[d]+e[c]+o);return w}function Gr(e,t,r,n,o,i){return e.top!=null?Math.max(0,t.height+t.top+t.scroll.top-(r.top+e.top)-(o.top+o.bottom+i)):Math.max(0,n.top+r.top-(t.top+t.scroll.top)-(o.top+o.bottom+i))}function Ne(e,t,r,n,o,i){let{placement:f,axis:l,size:a}=i;return f===l?Math.max(0,r[l]-e[l]-e.scroll[l]+t[l]-n[l]-n[pe[l]]-o):Math.max(0,e[a]+e[l]+e.scroll[l]-t[l]-r[l]-r[a]-n[l]-n[pe[l]]-o)}function Ur(e,t,r,n,o,i,f,l,a,s,p,$,d,v,c){let y=Ie(e),{size:w,crossAxis:x,crossSize:P,placement:D,crossPlacement:k}=y,C=ge(t,l,r,y,s,p,a,$,v,c),L=s,R=Ne(l,a,t,o,i+s,y);if(f&&n[w]>R){let m=Ie(`${pe[D]} ${k}`),E=ge(t,l,r,m,s,p,a,$,v,c);Ne(l,a,t,o,i+s,m)>R&&(y=m,C=E,L=s)}let T=Le(x,C[x],r[P],l,i);C[x]+=T;let A=Gr(C,l,a,t,o,i);d&&d<A&&(A=d),r.height=Math.min(r.height,A),C=ge(t,l,r,y,L,p,a,$,v,c),T=Le(x,C[x],r[P],l,i),C[x]+=T;let S={},ee=t[x]+.5*t[P]-r[x];const q=v/2+c,K=r[P]-v/2-c,V=t[x]-r[x]+v/2,M=t[x]+t[P]-r[x]-v/2,g=Ee(ee,V,M);return S[x]=Ee(g,q,K),{position:C,maxHeight:A,arrowOffsetLeft:S.left,arrowOffsetTop:S.top,placement:y.placement}}function qr(e){let{placement:t,targetNode:r,overlayNode:n,scrollNode:o,padding:i,shouldFlip:f,boundaryElement:l,offset:a,crossOffset:s,maxHeight:p,arrowSize:$,arrowBoundaryOffset:d=0}=e,v=n instanceof HTMLElement?_r(n):document.documentElement,c=v===document.documentElement;const y=window.getComputedStyle(v).position;let w=!!y&&y!=="static",x=c?X(r):Ve(r,v);if(!c){let{marginTop:R,marginLeft:T}=window.getComputedStyle(r);x.top+=parseInt(R,10)||0,x.left+=parseInt(T,10)||0}let P=X(n),D=zr(n);P.width+=D.left+D.right,P.height+=D.top+D.bottom;let k=Zr(o),C=jr(l),L=l.tagName==="BODY"?X(v):Ve(v,l);return Ur(t,x,P,k,D,i,f,C,L,a,s,w,p,$,d)}function X(e){let{top:t,left:r,width:n,height:o}=e.getBoundingClientRect(),{scrollTop:i,scrollLeft:f,clientTop:l,clientLeft:a}=document.documentElement;return{top:t+i-l,left:r+f-a,width:n,height:o}}function Ve(e,t){let r=window.getComputedStyle(e),n;if(r.position==="fixed"){let{top:o,left:i,width:f,height:l}=e.getBoundingClientRect();n={top:o,left:i,width:f,height:l}}else{n=X(e);let o=X(t),i=window.getComputedStyle(t);o.top+=(parseInt(i.borderTopWidth,10)||0)-t.scrollTop,o.left+=(parseInt(i.borderLeftWidth,10)||0)-t.scrollLeft,n.top-=o.top,n.left-=o.left}return n.top-=parseInt(r.marginTop,10)||0,n.left-=parseInt(r.marginLeft,10)||0,n}function _r(e){let t=e.offsetParent;if(t&&t===document.body&&window.getComputedStyle(t).position==="static"&&!Be(t)&&(t=document.documentElement),t==null)for(t=e.parentElement;t&&!Be(t);)t=t.parentElement;return t||document.documentElement}function Be(e){let t=window.getComputedStyle(e);return t.transform!=="none"||/transform|perspective/.test(t.willChange)||t.filter!=="none"||t.contain==="paint"||"backdropFilter"in t&&t.backdropFilter!=="none"||"WebkitBackdropFilter"in t&&t.WebkitBackdropFilter!=="none"}const Yr=new WeakMap;function Xr(e){let{triggerRef:t,isOpen:r,onClose:n}=e;b.useEffect(()=>{if(!r||n===null)return;let o=i=>{let f=i.target;if(!t.current||f instanceof Node&&!f.contains(t.current))return;let l=n||Yr.get(t.current);l&&l()};return window.addEventListener("scroll",o,!0),()=>{window.removeEventListener("scroll",o,!0)}},[r,n,t])}let H=typeof window<"u"&&window.visualViewport;function Jr(e){let{direction:t}=Q(),{arrowSize:r=0,targetRef:n,overlayRef:o,scrollRef:i=o,placement:f="bottom",containerPadding:l=12,shouldFlip:a=!0,boundaryElement:s=typeof document<"u"?document.body:null,offset:p=0,crossOffset:$=0,shouldUpdatePosition:d=!0,isOpen:v=!0,onClose:c,maxHeight:y,arrowBoundaryOffset:w=0}=e,[x,P]=b.useState({position:{},arrowOffsetLeft:void 0,arrowOffsetTop:void 0,maxHeight:void 0,placement:void 0}),D=[d,f,o.current,n.current,i.current,l,a,s,p,$,v,t,y,w,r],k=b.useCallback(()=>{if(d===!1||!v||!o.current||!n.current||!i.current||!s)return;let R=qr({placement:en(f,t),overlayNode:o.current,targetNode:n.current,scrollNode:i.current,padding:l,shouldFlip:a,boundaryElement:s,offset:p,crossOffset:$,maxHeight:y,arrowSize:r,arrowBoundaryOffset:w});Object.keys(R.position).forEach(T=>o.current.style[T]=R.position[T]+"px"),o.current.style.maxHeight=R.maxHeight!=null?R.maxHeight+"px":void 0,P(R)},D);J(k,D),Qr(k),jt({ref:o,onResize:k});let C=b.useRef(!1);J(()=>{let R,T=()=>{C.current=!0,clearTimeout(R),R=setTimeout(()=>{C.current=!1},500),k()};return H==null||H.addEventListener("resize",T),H==null||H.addEventListener("scroll",T),()=>{H==null||H.removeEventListener("resize",T),H==null||H.removeEventListener("scroll",T)}},[k]);let L=b.useCallback(()=>{C.current||c()},[c,C]);return Xr({triggerRef:n,isOpen:v,onClose:c&&L}),{overlayProps:{style:{position:"absolute",zIndex:1e5,...x.position,maxHeight:x.maxHeight}},placement:x.placement,arrowProps:{style:{left:x.arrowOffsetLeft,top:x.arrowOffsetTop}},updatePosition:k}}function Qr(e){J(()=>(window.addEventListener("resize",e,!1),()=>{window.removeEventListener("resize",e,!1)}),[e])}function en(e,t){return t==="rtl"?e.replace("start","right").replace("end","left"):e.replace("start","left").replace("end","right")}const Z=[];function tn(e,t){let{onClose:r,shouldCloseOnBlur:n,isOpen:o,isDismissable:i=!1,isKeyboardDismissDisabled:f=!1,shouldCloseOnInteractOutside:l}=e;b.useEffect(()=>(o&&Z.push(t),()=>{let c=Z.indexOf(t);c>=0&&Z.splice(c,1)}),[o,t]);let a=()=>{Z[Z.length-1]===t&&r&&r()},s=c=>{(!l||l(c.target))&&Z[Z.length-1]===t&&(c.stopPropagation(),c.preventDefault())},p=c=>{(!l||l(c.target))&&(Z[Z.length-1]===t&&(c.stopPropagation(),c.preventDefault()),a())},$=c=>{c.key==="Escape"&&!f&&(c.stopPropagation(),c.preventDefault(),a())};Zt({ref:t,onInteractOutside:i?p:null,onInteractOutsideStart:s});let{focusWithinProps:d}=zt({isDisabled:!n,onBlurWithin:c=>{c.relatedTarget&&Gt(c.relatedTarget)||(!l||l(c.relatedTarget))&&r()}}),v=c=>{c.target===c.currentTarget&&c.preventDefault()};return{overlayProps:{onKeyDown:$,...d},underlayProps:{onPointerDown:v}}}const ye=typeof window<"u"&&window.visualViewport,rn=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let fe=0,xe;function nn(e={}){let{isDisabled:t}=e;J(()=>{if(!t)return fe++,fe===1&&(Ut()?xe=an():xe=on()),()=>{fe--,fe===0&&xe()}},[t])}function on(){return Pe(ie(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),ie(document.documentElement,"overflow","hidden"))}function an(){let e,t=0,r=$=>{e=je($.target),!(e===document.documentElement&&e===document.body)&&(t=$.changedTouches[0].pageY)},n=$=>{if(e===document.documentElement||e===document.body){$.preventDefault();return}let d=$.changedTouches[0].pageY,v=e.scrollTop,c=e.scrollHeight-e.clientHeight;(v<=0&&d>t||v>=c&&d<t)&&$.preventDefault(),t=d},o=$=>{let d=$.target;He(d)&&d!==document.activeElement&&($.preventDefault(),d.style.transform="translateY(-2000px)",d.focus(),requestAnimationFrame(()=>{d.style.transform=""}))},i=$=>{let d=$.target;He(d)&&(d.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{d.style.transform="",ye&&(ye.height<window.innerHeight?requestAnimationFrame(()=>{Ae(d)}):ye.addEventListener("resize",()=>Ae(d),{once:!0}))}))},f=()=>{window.scrollTo(0,0)},l=window.pageXOffset,a=window.pageYOffset,s=Pe(ie(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),ie(document.documentElement,"overflow","hidden"),ie(document.body,"marginTop",`-${a}px`));window.scrollTo(0,0);let p=Pe(ne(document,"touchstart",r,{passive:!1,capture:!0}),ne(document,"touchmove",n,{passive:!1,capture:!0}),ne(document,"touchend",o,{passive:!1,capture:!0}),ne(document,"focus",i,!0),ne(window,"scroll",f));return()=>{s(),p(),window.scrollTo(l,a)}}function ie(e,t,r){let n=e.style[t];return e.style[t]=r,()=>{e.style[t]=n}}function ne(e,t,r,n){return e.addEventListener(t,r,n),()=>{e.removeEventListener(t,r,n)}}function Ae(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let r=je(e);if(r!==document.documentElement&&r!==document.body&&r!==e){let n=r.getBoundingClientRect().top,o=e.getBoundingClientRect().top;o>n+e.clientHeight&&(r.scrollTop+=o-n)}e=r.parentElement}}function He(e){return e instanceof HTMLInputElement&&!rn.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}var qe={},_e={};_e={dismiss:"تجاهل"};var Ye={};Ye={dismiss:"Отхвърляне"};var Xe={};Xe={dismiss:"Odstranit"};var Je={};Je={dismiss:"Luk"};var Qe={};Qe={dismiss:"Schließen"};var et={};et={dismiss:"Απόρριψη"};var tt={};tt={dismiss:"Dismiss"};var rt={};rt={dismiss:"Descartar"};var nt={};nt={dismiss:"Lõpeta"};var ot={};ot={dismiss:"Hylkää"};var at={};at={dismiss:"Rejeter"};var it={};it={dismiss:"התעלם"};var lt={};lt={dismiss:"Odbaci"};var st={};st={dismiss:"Elutasítás"};var ct={};ct={dismiss:"Ignora"};var dt={};dt={dismiss:"閉じる"};var ut={};ut={dismiss:"무시"};var ft={};ft={dismiss:"Atmesti"};var mt={};mt={dismiss:"Nerādīt"};var pt={};pt={dismiss:"Lukk"};var bt={};bt={dismiss:"Negeren"};var ht={};ht={dismiss:"Zignoruj"};var $t={};$t={dismiss:"Descartar"};var vt={};vt={dismiss:"Dispensar"};var gt={};gt={dismiss:"Revocare"};var yt={};yt={dismiss:"Пропустить"};var xt={};xt={dismiss:"Zrušiť"};var wt={};wt={dismiss:"Opusti"};var Pt={};Pt={dismiss:"Odbaci"};var Et={};Et={dismiss:"Avvisa"};var St={};St={dismiss:"Kapat"};var Dt={};Dt={dismiss:"Скасувати"};var Tt={};Tt={dismiss:"取消"};var Ct={};Ct={dismiss:"關閉"};qe={"ar-AE":_e,"bg-BG":Ye,"cs-CZ":Xe,"da-DK":Je,"de-DE":Qe,"el-GR":et,"en-US":tt,"es-ES":rt,"et-EE":nt,"fi-FI":ot,"fr-FR":at,"he-IL":it,"hr-HR":lt,"hu-HU":st,"it-IT":ct,"ja-JP":dt,"ko-KR":ut,"lt-LT":ft,"lv-LV":mt,"nb-NO":pt,"nl-NL":bt,"pl-PL":ht,"pt-BR":$t,"pt-PT":vt,"ro-RO":gt,"ru-RU":yt,"sk-SK":xt,"sl-SI":wt,"sr-SP":Pt,"sv-SE":Et,"tr-TR":St,"uk-UA":Dt,"zh-CN":Tt,"zh-TW":Ct};function We(e){let{onDismiss:t,...r}=e,n=Vt(Hr(qe)),o=Bt(r,n.format("dismiss")),i=()=>{t&&t()};return j.createElement(At,null,j.createElement("button",{...o,tabIndex:-1,onClick:i}))}let oe=new WeakMap,W=[];function ln(e,t=document.body){let r=new Set(e),n=new Set,o=a=>{for(let d of a.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))r.add(d);let s=d=>{if(r.has(d)||n.has(d.parentElement)&&d.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let v of r)if(d.contains(v))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},p=document.createTreeWalker(a,NodeFilter.SHOW_ELEMENT,{acceptNode:s}),$=s(a);if($===NodeFilter.FILTER_ACCEPT&&i(a),$!==NodeFilter.FILTER_REJECT){let d=p.nextNode();for(;d!=null;)i(d),d=p.nextNode()}},i=a=>{var s;let p=(s=oe.get(a))!==null&&s!==void 0?s:0;a.getAttribute("aria-hidden")==="true"&&p===0||(p===0&&a.setAttribute("aria-hidden","true"),n.add(a),oe.set(a,p+1))};W.length&&W[W.length-1].disconnect(),o(t);let f=new MutationObserver(a=>{for(let s of a)if(!(s.type!=="childList"||s.addedNodes.length===0)&&![...r,...n].some(p=>p.contains(s.target))){for(let p of s.removedNodes)p instanceof Element&&(r.delete(p),n.delete(p));for(let p of s.addedNodes)(p instanceof HTMLElement||p instanceof SVGElement)&&(p.dataset.liveAnnouncer==="true"||p.dataset.reactAriaTopLayer==="true")?r.add(p):p instanceof Element&&o(p)}});f.observe(t,{childList:!0,subtree:!0});let l={observe(){f.observe(t,{childList:!0,subtree:!0})},disconnect(){f.disconnect()}};return W.push(l),()=>{f.disconnect();for(let a of n){let s=oe.get(a);s===1?(a.removeAttribute("aria-hidden"),oe.delete(a)):oe.set(a,s-1)}l===W[W.length-1]?(W.pop(),W.length&&W[W.length-1].observe()):W.splice(W.indexOf(l),1)}}function sn(e,t){let{triggerRef:r,popoverRef:n,isNonModal:o,isKeyboardDismissDisabled:i,...f}=e,{overlayProps:l,underlayProps:a}=tn({isOpen:t.isOpen,onClose:t.close,shouldCloseOnBlur:!0,isDismissable:!o,isKeyboardDismissDisabled:i},n),{overlayProps:s,arrowProps:p,placement:$}=Jr({...f,targetRef:r,overlayRef:n,isOpen:t.isOpen,onClose:null});return nn({isDisabled:o}),J(()=>{if(t.isOpen&&!o&&n.current)return ln([n.current])},[o,t.isOpen,n]),{popoverProps:Ht(l,s),arrowProps:p,underlayProps:a,placement:$}}const Rt=j.createContext(null);function cn(e){let t=Wt(),{portalContainer:r=t?null:document.body}=e,[n,o]=b.useState(!1),i=b.useMemo(()=>({contain:n,setContain:o}),[n,o]);if(!r)return null;let f=j.createElement(Rt.Provider,{value:i},j.createElement(Kt,{restoreFocus:!0,contain:n},e.children));return Yt.createPortal(f,r)}function dn(){let e=b.useContext(Rt),t=e==null?void 0:e.setContain;J(()=>{t==null||t(!0)},[t])}function un(e,t){let{role:r="dialog"}=e,n=qt();n=e["aria-label"]?void 0:n;let o=b.useRef(!1);return b.useEffect(()=>{if(t.current&&!t.current.contains(document.activeElement)){Te(t.current);let i=setTimeout(()=>{document.activeElement===t.current&&(o.current=!0,t.current.blur(),Te(t.current),o.current=!1)},500);return()=>{clearTimeout(i)}}},[t]),dn(),{dialogProps:{..._t(e,{labelable:!0}),role:r,tabIndex:-1,"aria-labelledby":e["aria-labelledby"]||n,onBlur:i=>{o.current&&i.stopPropagation()}},titleProps:{id:n}}}const fn=U("div",{"&:focus-visible":{outline:"1px solid $cdgBlue100"}}),mn=j.forwardRef((e,t)=>{const{children:r,title:n}=e,o=le(t),{dialogProps:i,titleProps:f}=un(e,o);return G(fn,{...i,ref:o,children:[n&&N("h3",{...f,style:{marginTop:0},children:n}),r]})}),En=mn,pn=j.forwardRef((e,t)=>{const{children:r,state:n}=e,o=le(t),{popoverProps:i,underlayProps:f}=sn({...e,popoverRef:o},n);return G(cn,{children:[N("div",{...f}),G("div",{...i,ref:o,style:{...i.style},children:[N(We,{onDismiss:n.close}),r,N(We,{onDismiss:n.close})]})]})}),Sn=pn;function Dn(e){const[t,r]=Ge(e.isOpen,e.defaultOpen||!1,e.onOpenChange);return{isOpen:t,setOpen:r,open(){r(!0)},close(){r(!1)},toggle(){r(!t)}}}export{Pn as D,Sn as P,$r as a,yr as b,Dn as c,wr as d,En as e,vr as u};

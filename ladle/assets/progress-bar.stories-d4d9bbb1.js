import{h as E,k as z,s as v,R as I,r as l,a as n,j as e,F as j}from"./index-12a99532.js";import"./index-ab5e21ba.js";import{D as A}from"./index-dc19e3d3.js";import{T as w}from"./index-6da14931.js";import{C as $,R as D}from"./components-79765e20.js";import{t as F}from"./toNumber-e14b99ec.js";import{u as T}from"./use-dom-ref-2bd5dd1a.js";import{B as P}from"./button-6255561c.js";import"./isObjectLike-8a024e1b.js";import"./isSymbol-d70366f6.js";import"./ripple-01c7c154.js";function X(t,a,r){return t===t&&(r!==void 0&&(t=t<=r?t:r),a!==void 0&&(t=t>=a?t:a)),t}var U=X,W=U,S=F;function H(t,a,r){return r===void 0&&(r=a,a=void 0),r!==void 0&&(r=S(r),r=r===r?r:0),a!==void 0&&(a=S(a),a=a===a?a:0),W(S(t),a,r)}var O=H;const q=E(O),G=z({from:{backgroundPositionX:"200%"},to:{backgroundPositionX:0}}),J=z({"0%":{left:"0%",right:"100%",width:"0%"},"10%":{left:"0%",right:"75%",width:"25%"},"90%":{right:"0%",left:"75%",width:"25%"},"100%":{left:"100%",right:"0%",width:"0%"}}),K=v("div",{width:"100%",".progress-bar-label":{display:"flex",justifyContent:"space-between",marginBottom:"$2","& span":{fontWeight:"$normal",fontSize:"$label1"}},variants:{variant:{normal:{},rounded:{".progress-bar":{borderRadius:"$full","& div":{borderRadius:"$full"}}}},size:{sm:{".progress-bar":{height:"$0_5"}},md:{".progress-bar":{height:"$1"}},lg:{".progress-bar":{height:"$2"}},xl:{".progress-bar":{height:"$3"}}}},defaultVariants:{size:"lg",variant:"normal"}}),Q=v("div",{position:"relative"}),Y=v("div",{height:"100%",transition:"width .2s linear",variants:{loading:{true:{},slide:{},false:{}}}}),Z=v("div",{position:"absolute",inset:0,height:"100%",variants:{loading:{stripes:{width:"100%",backgroundSize:"200% 100%",animation:`${G} 10s linear infinite`,willChange:"background-position"},true:{animation:`${J} 2s linear infinite`},false:{display:"none"}}}}),ee=I.forwardRef((t,a)=>{const{css:r={},loading:d=!1,label:c,rightLabel:u,size:y="lg",barColor:h="$gray30",color:i="blue",variant:M="normal",value:R=0,minValue:B=0,maxValue:k=100,onComplete:f,...L}=t,b=l.useMemo(()=>i==="blue"?"$info":i==="green"?"$success":i,[i]),o=B<0?0:B,g=k<o?o:k,p=q(R,o,g),_=T(a),C={role:"progressbar","aria-label":c??"","aria-valuemin":o,"aria-valuenow":p,"aria-valuemax":g},x=l.useMemo(()=>{if(g-o===0||p===g)return 100;const N=(p-o)/(g-o);return Math.round(N*100)},[p,o,g]);return l.useEffect(()=>{x===100&&(f==null||f())},[x,f]),n(K,{className:"progress-bar-wrapper",css:r,ref:_,size:y,variant:M,...C,...L,children:[(!!c||!!u)&&n("div",{className:"progress-bar-label",children:[e("span",{...C,children:c??""}),u&&e("span",{...C,children:u??""})]}),n(Q,{className:"progress-bar",css:{backgroundColor:h},children:[!d&&e(Y,{className:"progress-bar__current-state",css:{width:`${x}%`,backgroundColor:b}}),e(Z,{className:"progress-bar__loading",css:{...d==="stripes"?{backgroundImage:`repeating-linear-gradient(-45deg,transparent 0 1.5%,${b} 1.5% 3%)`,"@sm":{backgroundImage:`repeating-linear-gradient(-45deg,transparent 0 .8%,${b} .8% 1.6%)`}}:{backgroundColor:b}},loading:d})]})]})}),s=ee;s.displayName="ProgressBar";const ge=()=>n($,{children:[e("div",{style:{width:"100%",marginBottom:"10px"},children:e(s,{value:20,size:"sm",label:"sm"})}),e("div",{style:{width:"100%",marginBottom:"10px"},children:e(s,{value:20,size:"md",label:"md"})}),e("div",{style:{width:"100%",marginBottom:"10px"},children:e(s,{value:20,size:"lg",label:"lg"})}),e("div",{style:{width:"100%",marginBottom:"10px"},children:e(s,{value:20,size:"xl",label:"xl"})})]}),me=()=>n($,{children:[e("div",{style:{width:"100%",marginBottom:"10px"},children:e(s,{value:20,color:"blue",label:"blue"})}),e("div",{style:{width:"100%",marginBottom:"10px"},children:e(s,{value:40,color:"green",label:"green"})}),e(s,{value:60,label:"color: $cdgBlue | barColor: $blueShades10",color:"$cdgBlue",barColor:"$blueShades10"})]}),V=5,m=100,he=()=>{const[t,a]=l.useState(!1),[r,d]=l.useState(V),[c,u]=l.useState(!1),y=()=>{a(!1),d(V),u(!1)};return l.useEffect(()=>{if(!t)return;const h=setInterval(()=>{d(i=>i===m?(clearInterval(h),m):Math.min(i+Math.floor(Math.random()*(m/4)),m))},200);return()=>{clearInterval(h)}},[t]),n($,{children:[e(s,{value:20,variant:"normal",label:"normal"}),e(s,{css:{marginBlock:"$4"},value:20,variant:"rounded",label:"rounded"}),e(A,{}),e(s,{css:{marginBlock:"$4"},value:r,maxValue:m,size:"md",label:"H5",color:"$blueShades80",barColor:"$blueShades10",onComplete:()=>u(!0)}),n(D,{children:[c?n(j,{children:[e(w.Label,{children:"Completed"}),e(P,{type:"button",onClick:()=>y(),children:"Reset"})]}):n(w.Label,{children:[Math.round(r/m*100),"%"]}),c||t||e(P,{type:"button",variant:"secondary",onClick:()=>a(!0),children:"Start"})]})]})},fe=()=>n($,{children:[e(s,{variant:"rounded",label:"Loading",loading:!0}),e(s,{variant:"rounded",label:"Stripes",barColor:"$blueShades10",loading:"stripes"})]});typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{me as Color,fe as LoadingState,ge as Size,he as Variant};

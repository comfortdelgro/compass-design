import{l as q,m as H,n as W,N as _,u as ee,g as te,c as P,r as j}from"./index-52b12059.js";import{s as O,R as N,r as f,a as r,j as e,F as M}from"./index-2a78b4a6.js";import{u as ae,b as ne,c as oe,d as le,g as re,e as ie,D as K,f as se,h as ce,i as de,j as me,N as ue,k as $,l as X,m as he,n as ge,o as pe}from"./data-grid.styles-013cace9.js";import{p as L}from"./pick-child-123355cf.js";import{u as fe}from"./use-dom-ref-60270c2c.js";import"./index-bb444a52.js";import{D as z}from"./index-e06ed915.js";import{D as b}from"./index-03dc853b.js";import{G as v}from"./index-f8c3f67a.js";import{a as h}from"./index-c0a4d17c.js";import"./index-e2f5084e.js";import"./index-3558bf1a.js";import{T as V}from"./index-20fdc613.js";import{S as Z}from"./searchfield-8cfeb1c5.js";import{B as g}from"./button-58d5610a.js";import{P as T}from"./pagination-41dd0859.js";import"./create-safe-context-7b944fe7.js";import"./checkbox.styles-4ccc3f36.js";import"./index-e3ada1ec.js";import"./floating-ui.react.esm-283c44a2.js";import"./dropdown.styles-f9759f55.js";import"./utils-d9f3e192.js";import"./lodash-93cf9efe.js";import"./index.es-1b9874e1.js";import"./useCurrentTheme-2c86a898.js";O("div",{overflowX:"auto",table:{fontFamily:"$sans",borderCollapse:"collapse",width:"100%",border:"1px solid $primaryBg"}});const ye=O("div",{width:"100%"}),Se=N.forwardRef((o,i)=>{var B;const[n,c]=f.useState([]),[s,y]=f.useState({}),{css:S={},data:l,columns:t,options:u,onManualSorting:a,onChangeRowSelection:m,children:w,renderRowSubComponent:C,...F}=o,{child:I,rest:U}=L(w,$),{child:E}=L(U,X),Y=fe(i),R=ae({state:{rowSelection:s,sorting:u.initialSortBy?u.initialSortBy:n},onSortingChange:c,getCoreRowModel:ne(),getSortedRowModel:oe(),getFilteredRowModel:le(),getExpandedRowModel:re(),onRowSelectionChange:y,debugTable:!0,data:l,columns:t,isMultiSortEvent:()=>!0,...u});f.useEffect(()=>{const x=R.getSelectedRowModel().rows.map(k=>k.original);m==null||m(x)},[s]),f.useEffect(()=>{a==null||a(n)},[n]);const G=R.getRowModel().rows??[];return r(ye,{css:S,...F,children:[I&&e(M,{children:I}),e(ie,{children:r("table",{ref:Y,children:[e(K,{as:"thead",children:R.getHeaderGroups().map(p=>e(se,{children:p.headers.map(x=>e(ce,{headerProps:x,tableOption:R},x.id))},p.id))}),e(K,{as:"tbody",children:G.length?G.map(p=>{var x;return r(M,{children:[e(de,{isSelected:p.getIsSelected(),isExpanded:p.getIsExpanded(),children:p.getVisibleCells().map(k=>e(me,{cell:k,row:p},k.id))},p.id),p.getIsExpanded()&&C?e("tr",{children:e("td",{colSpan:(x=R.getAllLeafColumns())==null?void 0:x.length,children:C(p.original)})}):null]})}):e(ue,{colSpan:(B=R.getAllLeafColumns())==null?void 0:B.length})})]})}),E&&e(M,{children:E})]})}),d=Se;d.Toolbar=$;d.Footer=X;d.Checkbox=he;d.CheckboxCell=ge;d.Toolbar.displayName="Card.Body";d.Footer.displayName="Card.Image";d.displayName="ReactTable";const J=o=>{const i=[];for(let n=0;n<o;n++)i.push(n);return i},D=o=>{let i="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=n.length;for(let s=0;s<o;s++)i+=n.charAt(Math.floor(Math.random()*c));return i},A=(o,i)=>{const n=o.getTime(),c=i.getTime(),s=Math.floor(Math.random()*(c-n+1)+n);return new Date(s)},Ce=()=>({firstName:D(5),lastName:D(5),age:Math.floor(Math.random()*40),visits:Math.floor(Math.random()*1e3),progress:Math.floor(Math.random()*100),createdAt:A(new Date(2020,0,1),new Date(2029,11,31)),status:["relationship","complicated","single"][Math.floor(Math.random()*["relationship","complicated","single"].length)]});function Q(...o){const i=(n=0)=>{const c=o[n];return J(c).map(s=>({...Ce(),subRows:o[n+1]?i(n+1):null}))};return i()}const be=()=>({id:D(5),accountName:xe(),code:D(3),requestLimit:Math.floor(Math.random()*1e3),status:["Submited","Processing","Approval"][Math.floor(Math.random()*["Submited","Processing","Approval"].length)]??"Submited",progress:[{id:D(5),remarks:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam eleifend iaculis sodales. Pellentesque at metus felis. Nulla fermentum ipsum nec orci laoreet, at rhoncus eros dictum.",createdAt:A(new Date(2020,0,1),new Date(2029,11,31))},{id:D(5),remarks:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam eleifend iaculis sodales. Pellentesque at metus felis. Nulla fermentum ipsum nec orci laoreet, at rhoncus eros dictum.",createdAt:A(new Date(2020,0,1),new Date(2029,11,31))},{id:D(5),remarks:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam eleifend iaculis sodales. Pellentesque at metus felis. Nulla fermentum ipsum nec orci laoreet, at rhoncus eros dictum.",createdAt:A(new Date(2020,0,1),new Date(2029,11,31))}]});function we(...o){return((n=0)=>{const c=o[n];return J(c).map(s=>({...be()}))})()}function xe(){const o=["Miss Reilly Lemke","Elizabeth Friesen","Dr. Doyle Boehm","Domenica Zemlak DDS","Samson Bogan","Thora Hilll","Shannon Mann","Mrs. Barry Franecki","Kendrick Balistreri","Daphnee Durgan","Stevie Herman","Salvador Koelpin","Milo Torphy","Amelie Halvorson","Cora Weissnat IV","Rey Watsica","Alexandria Murray","Angeline Schowalter","Britney Cole","Marlene Bosco"];return`${o[Math.floor(Math.random()*o.length)]}`}const Je=()=>{const[o,i]=f.useState(1),[n,c]=f.useState(()=>Q(10)),s={enableSorting:!0,enableMultiSort:!0,columnResizeMode:"onChange",manualSorting:!1,initialSortBy:[{id:"firstName",desc:!0},{id:"lastName",desc:!1}],enableRowSelection:t=>t.original.age>30},y=t=>{},S=t=>{},l=N.useMemo(()=>[{id:"select",header:({table:t})=>e("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:e(d.CheckboxCell,{checked:t.getIsAllRowsSelected(),indeterminate:t.getIsSomeRowsSelected(),onChange:t.getToggleAllRowsSelectedHandler()})}),cell:({row:t})=>e("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:e(d.CheckboxCell,{disabled:!t.getCanSelect(),checked:t.getIsSelected(),indeterminate:t.getIsSomeSelected(),onChange:t.getToggleSelectedHandler()})})},{id:"name",header:()=>e("div",{style:{textAlign:"center"},children:"Name"}),footer:t=>t.column.id,enableGrouping:!1,columns:[{accessorKey:"firstName",cell:t=>t.getValue(),header:()=>e("span",{children:"First Name"}),footer:t=>t.column.id,enableResizing:!1,enableGrouping:!1,sortDescriptor:"asc",meta:{editable:!0,updateData:(t,u,a)=>{c(m=>m.map((w,C)=>C===t?{...m[t],[u]:a}:w))}}},{accessorFn:t=>t.lastName,id:"lastName",cell:t=>t.getValue(),header:()=>e("span",{children:"Last Name"}),footer:t=>t.column.id,enableColumnFilter:!1,enableGrouping:!1,enableResizing:!0}]},{id:"otherInfo",header:()=>e("div",{style:{textAlign:"center"},children:"Other info"}),footer:t=>t.column.id,enableGrouping:!1,columns:[{accessorKey:"age",header:()=>"Age",enableColumnFilter:!1,enableGrouping:!1,footer:t=>t.column.id},{accessorKey:"visits",header:()=>e("span",{children:"Visits"}),enableColumnFilter:!1,enableGrouping:!1,footer:t=>t.column.id},{accessorKey:"status",header:"Status",enableColumnFilter:!1,enableGrouping:!1,footer:t=>t.column.id},{accessorKey:"progress",header:"Profile Progress",cell:t=>t.getValue(),enableColumnFilter:!1,enableGrouping:!1,footer:t=>t.column.id}]}],[]);return e("div",{children:r(d,{data:n,columns:l,options:s,onManualSorting:y,onChangeRowSelection:S,children:[r(d.Toolbar,{css:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[e(Z,{placeholder:"Search"}),r("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"0.5rem"},children:[e(g,{variant:"primary",children:"Button"}),e(g,{variant:"secondary",children:"Button"}),e(g,{variant:"ghost",children:e(h,{icon:q})}),e(g,{variant:"ghost",children:e(h,{icon:H})}),e(g,{variant:"ghost",children:e(h,{icon:W})})]})]}),r(d.Footer,{css:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[e("div",{}),r("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"0.5rem"},children:[r("div",{style:{fontWeight:"600"},children:[(o-1)*10+1," - ",(o-1)*10+10," of 100"]}),e(T,{page:o,onChange:t=>i(t),total:10})]})]})]})})},Qe=()=>{const[o,i]=f.useState(1),n=Q(10),[c,s]=f.useState(n),[y]=f.useState(n),S={enableSorting:!0,enableMultiSort:!0,columnResizeMode:"onChange",manualSorting:!1,initialSortBy:[{id:"firstName",desc:!0},{id:"lastName",desc:!1}],enableRowSelection:a=>a.original.age>30},l=a=>{},t=a=>{},u=N.useMemo(()=>[{id:"edit",size:120,cell:()=>e("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:e(h,{icon:_})}),meta:{editable:!0,template:e(De,{}),updateData:(a,m,w)=>{s(C=>C.map((F,I)=>I===a?{...w}:F))},revertData:a=>{s(m=>m.map((w,C)=>C===a?y[a]:w))}}},{accessorKey:"firstName",cell:a=>a.getValue(),header:()=>e("span",{children:"First Name"}),footer:a=>a.column.id,meta:{}},{accessorKey:"age",header:()=>"Age",footer:a=>a.column.id},{accessorKey:"status",header:"Status",footer:a=>a.column.id}],[]);return e(M,{children:r(d,{data:c,columns:u,options:S,onManualSorting:l,onChangeRowSelection:t,id:"editableTable",children:[r(d.Toolbar,{css:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[e(Z,{placeholder:"Search"}),r("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"0.5rem"},children:[e(g,{variant:"primary",children:"Button"}),e(g,{variant:"secondary",children:"Button"}),e(g,{variant:"ghost",children:e(h,{icon:q})}),e(g,{variant:"ghost",children:e(h,{icon:H})}),e(g,{variant:"ghost",children:e(h,{icon:W})})]})]}),r(d.Footer,{css:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[e("div",{}),r("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"0.5rem"},children:[r("div",{style:{fontWeight:"600"},children:[(o-1)*10+1," - ",(o-1)*10+10," of 100"]}),e(T,{page:o,onChange:a=>i(a),total:10})]})]})]})})},De=()=>{var t,u;const o=pe(),[i,n]=f.useState({firstName:o.cell.row.getValue("firstName"),age:o.cell.row.getValue("age"),status:o.cell.row.getValue("status")}),c=a=>{n(m=>({...m,firstName:a}))},s=a=>{n(m=>({...m,age:a}))},y=a=>{n(m=>({...m,status:a}))},S=a=>{a.stopPropagation(),o.finishTemplateEditing(i)},l=a=>{a.stopPropagation(),o.cancelTemplateEditing()};return r(v,{css:{width:(u=(t=document.getElementById("editableTable"))==null?void 0:t.querySelector("tr"))==null?void 0:u.clientWidth,backgroundColor:"$background",position:"absolute",zIndex:2},alignItems:"center",justifyContent:"spaceBetween",children:[r(v.Item,{xs:2,sm:2,md:2,lg:2,xl:2,css:{display:"flex",justifyContent:"center",gap:5},children:[e(g,{onClick:S,size:"sm",children:e(h,{icon:ee})}),e(g,{onClick:l,variant:"danger",size:"sm",children:e(h,{icon:te})})]}),e(v.Item,{xs:3,sm:3,md:3,lg:3,xl:3,children:e(V,{value:i.firstName,onChange:c})}),e(v.Item,{xs:3,sm:3,md:3,lg:3,xl:3,children:e(V,{type:"number",value:i.age,onChange:s})}),e(v.Item,{xs:3,sm:3,md:3,lg:3,xl:3,children:r(b.Select,{selectedKey:i.status,onSelectionChange:y,children:[e(b.Item,{children:"In Relationship"},"relationship"),e(b.Item,{children:"Complicated"},"complicated"),e(b.Item,{children:"Single"},"single")]})})]})},Ue=()=>{const[o,i]=N.useState(()=>we(10)),[n,c]=f.useState(1),s={enableSorting:!1,enableMultiSort:!1,columnResizeMode:"onChange",manualSorting:!1},y=N.useMemo(()=>[{id:"expander",size:40,header:({table:l})=>e("span",{onClick:l.getToggleAllRowsExpandedHandler(),style:{cursor:"pointer",userSelect:"none",display:"flex",justifyContent:"center",alignItems:"center"},children:l.getIsAllRowsExpanded()?e(h,{icon:P}):e(h,{icon:j})}),cell:({row:l})=>e("span",{onClick:()=>l.toggleExpanded(),style:{cursor:"pointer",userSelect:"none",display:"flex",justifyContent:"center",alignItems:"center"},children:l.getIsExpanded()?e(h,{icon:P}):e(h,{icon:j})})},{id:"accountName",accessorKey:"accountName",header:()=>e("div",{style:{textAlign:"center"},children:"Account Name"}),footer:l=>l.column.id},{id:"code",accessorKey:"code",header:()=>e("div",{style:{textAlign:"center"},children:"Code"}),footer:l=>l.column.id},{id:"requestLimit",accessorKey:"requestLimit",header:()=>e("div",{style:{textAlign:"center"},children:"New Request Limit"}),footer:l=>l.column.id},{id:"status",accessorKey:"status",header:()=>e("div",{style:{textAlign:"center"},children:"Status"}),footer:l=>l.column.id}],[]);return e("div",{children:e(d,{data:o,columns:y,options:s,renderRowSubComponent:l=>{var t;return r("div",{style:{padding:"1em",display:"flex",flexDirection:"column",rowGap:"1em"},children:[r("h3",{children:["Current Status: ",l.status]}),e(z,{}),(t=l.progress)==null?void 0:t.map(u=>r(M,{children:[e("p",{style:{fontSize:"12px"},children:u.remarks}),e("p",{style:{fontSize:"11px",fontWeight:200,color:"#878787"},children:u.createdAt.toDateString()}),e(z,{})]}))]})},children:r(d.Footer,{css:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[r("div",{style:{display:"flex",alignItems:"center"},children:[e("span",{style:{width:250},children:"Rows per page: "}),r(b.Select,{defaultSelectedKey:"10",children:[e(b.Item,{children:"10 rows"},"10"),e(b.Item,{children:"20 rows"},"20"),e(b.Item,{children:"50 rows"},"50")]})]}),r("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"0.5rem"},children:[r("div",{style:{fontWeight:"600"},children:[(n-1)*10+1," - ",(n-1)*10+10," of 100"]}),e(T,{page:n,onChange:l=>c(l),total:10})]})]})})})};typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{Qe as EditableTemplateCell,Ue as ExpandableRow,Je as FullFeatured};

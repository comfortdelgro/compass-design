import{$ as z,a as X,e as ae,f as me,g as Pe,h as xe,i as pe,j as $e,k as Y,l as De,m as we,n as Se,o as ie,p as ke}from"./import-21913f32.js";import{r as c,s as q,R as _,j as O,a as Z}from"./index-d976ddeb.js";import{I as Me}from"./utils-79137c63.js";import{u as ee}from"./use-dom-ref-1798fab6.js";import{c as be,h as Fe,j as Oe,k as Re,S as Ee,a as Te,r as re,e as Ce,l as he,f as Ve,b as ye,m as Ie,n as J,d as se,o as Ne,M as U,i as Be,p as je,q as Le,s as Ke,u as We,t as Ae,v as Ze,w as Ge,x as qe}from"./useCalendarState-46b82a5f.js";import{u as le,a as ce}from"./useEvent-e804c2c9.js";import{$ as He}from"./clsx.m-30223e4c.js";import{$ as Ue,a as ze,b as _e,c as ue}from"./import-607296aa.js";function Ye(e,t,r){const{direction:n}=z(),o=c.useMemo(()=>be(t),[t]),s=l=>{if(l.altKey&&(l.key==="ArrowDown"||l.key==="ArrowUp")&&"setOpen"in e&&(l.preventDefault(),l.stopPropagation(),e.setOpen(!0)),!r)switch(l.key){case"ArrowLeft":l.preventDefault(),l.stopPropagation(),n==="rtl"?o.focusNext():o.focusPrevious();break;case"ArrowRight":l.preventDefault(),l.stopPropagation(),n==="rtl"?o.focusPrevious():o.focusNext();break}},m=()=>{var S;let l=(S=window.event)==null?void 0:S.target;const u=Oe(t.current,{tabbable:!0});if(l&&(u.currentNode=l,l=u.previousNode()),!l){let p;do p=u.lastChild(),p&&(l=p);while(p)}for(;l!=null&&l.hasAttribute("data-placeholder");){const p=u.previousNode();if(p&&p.hasAttribute("data-placeholder"))l=p;else break}l&&l.focus()},{pressProps:y}=Fe({preventFocusOnPress:!0,allowTextSelectionOnPress:!0,onPressStart(l){l.pointerType==="mouse"&&m()},onPress(l){l.pointerType!=="mouse"&&m()}});return{...y,onKeyDown:s}}function Je(e){const{description:t,errorMessage:r,validationState:n}=e;let{labelProps:o,fieldProps:s}=Re(e);const m=le([!!t,!!r,n]),y=le([!!t,!!r,n]);return s={...s,"aria-describedby":[m,y,e["aria-describedby"]].filter(Boolean).join(" ")||void 0},{labelProps:o,fieldProps:s,descriptionProps:{id:m},errorMessageProps:{id:y}}}function Qe(e){const t=c.useRef({isFocused:!1,onBlur:e,observer:null});return t.current.onBlur=e,c.useLayoutEffect(()=>{const r=t.current;return()=>{r.observer&&(r.observer.disconnect(),r.observer=null)}},[]),c.useCallback(r=>{if(r.target instanceof HTMLButtonElement||r.target instanceof HTMLInputElement||r.target instanceof HTMLTextAreaElement||r.target instanceof HTMLSelectElement){t.current.isFocused=!0;const n=r.target,o=s=>{var m,y;t.current.isFocused=!1,n.disabled&&((y=(m=t.current).onBlur)==null||y.call(m,new Ee("blur",s))),t.current.observer&&(t.current.observer.disconnect(),t.current.observer=null)};n.addEventListener("focusout",o,{once:!0}),t.current.observer=new MutationObserver(()=>{var s;t.current.isFocused&&n.disabled&&((s=t.current.observer)==null||s.disconnect(),n.dispatchEvent(new FocusEvent("blur")),n.dispatchEvent(new FocusEvent("focusout",{bubbles:!0})))}),t.current.observer.observe(n,{attributes:!0,attributeFilter:["disabled"]})}},[])}function Xe(e){const{isDisabled:t,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:o}=e,s=c.useRef({isFocusWithin:!1}),m=c.useCallback(u=>{s.current.isFocusWithin&&!u.currentTarget.contains(u.relatedTarget)&&(s.current.isFocusWithin=!1,r&&r(u),o&&o(!1))},[r,o,s]),y=Qe(m),l=c.useCallback(u=>{!s.current.isFocusWithin&&document.activeElement===u.target&&(n&&n(u),o&&o(!0),s.current.isFocusWithin=!0,y(u))},[n,o,y]);return t?{focusWithinProps:{onFocus:null,onBlur:null}}:{focusWithinProps:{onFocus:l,onBlur:m}}}function et(e,t,r){const{labelProps:n,fieldProps:o,descriptionProps:s,errorMessageProps:m}=Je({...e,labelElementType:"span"}),{focusWithinProps:y}=Xe({...e,onBlurWithin:w=>{t.confirmPlaceholder(),e.onBlur&&e.onBlur(w)},onFocusWithin:e.onFocus,onFocusWithinChange:e.onFocusChange}),l=t.maxGranularity==="hour"?"selectedTimeDescription":"selectedDateDescription",u=t.value?l:"",S=Te(u),p=e[re]==="presentation"?o["aria-describedby"]:[S["aria-describedby"],o["aria-describedby"]].filter(Boolean).join(" ")||void 0,v=e[Ce],R=c.useMemo(()=>v||be(r),[v,r]),h=Ye(t,r,e[re]==="presentation");he.set(t,{ariaLabel:"",ariaLabelledBy:[e["aria-labelledby"],n.id].filter(Boolean).join(" ")||""});const D=c.useRef(e.autoFocus);let $;e[re]==="presentation"?$={role:"presentation"}:$={...o,role:"group","aria-disabled":e.isDisabled||void 0,"aria-describedby":p},c.useEffect(()=>{D.current&&R.focusFirst(),D.current=!1},[R]);const E=Ve(e);return{labelProps:{...n,onClick:()=>{R.focusFirst()}},fieldProps:{...E,...$,...h,...y,onKeyDown(w){e.onKeyDown&&e.onKeyDown(w)},onKeyUp(w){e.onKeyUp&&e.onKeyUp(w)}},descriptionProps:s,errorMessageProps:m}}function tt(e,t){const r=c.useRef(e);e&&(r.current=e),e=r.current;const{locale:n}=z(),o=c.useMemo(()=>new X(n),[n]),s=c.useMemo(()=>o.resolvedOptions(),[o]),m=e&&"timeZone"in e?e.timeZone:s.timeZone;if(t=t||(e&&"minute"in e?"minute":"day"),e&&!(t in e))throw new Error("Invalid granularity "+t+" for value "+e.toString());return[t,m]}const Q={year:!0,month:!0,day:!0,hour:!0,minute:!0,second:!0,dayPeriod:!0,era:!0},de={year:5,month:2,day:7,hour:2,minute:15,second:15},rt={dayperiod:"dayPeriod"};function nt(e){const{locale:t,createCalendar:r,hideTimeZone:n,isDisabled:o,isReadOnly:s,isRequired:m}=e,y=e.value||e.defaultValue||e.placeholderValue,[l,u]=tt(y,e.granularity),S=u||"UTC";if(y&&!(l in y))throw new Error("Invalid granularity "+l+" for value "+y.toString());const p=c.useMemo(()=>new X(t),[t]),v=c.useMemo(()=>r(p.resolvedOptions().calendar),[r,p]),R=a=>{e.onChange&&(a!=null&&a.year&&a.year<U?e.onChange(null):e.onChange(a))},[h,D]=ye(e.value,e.defaultValue,R),$=c.useMemo(()=>Ie(h,v),[h,v]),[E,w]=c.useState(()=>J(e.placeholderValue,l,v,u)),T=$||E,B=v.identifier==="gregory"&&(T==null?void 0:T.era)==="BC",j=c.useMemo(()=>({granularity:l,maxGranularity:e.maxGranularity??"year",timeZone:u,hideTimeZone:n,hourCycle:e.hourCycle,showEra:B}),[e.maxGranularity,l,e.hourCycle,u,n,B]),[L,K]=c.useState(!1),W=c.useMemo(()=>se({},j),[j]),C=c.useMemo(()=>new X(t,W),[t,W]),P=c.useMemo(()=>C.resolvedOptions(),[C]),k=c.useMemo(()=>C.formatToParts(new Date).filter(a=>Q[a.type]).reduce((a,x)=>(a[x.type]=!0,a),{}),[C]);let[d,I]=c.useState(()=>e.value||e.defaultValue?{...k}:{});const N=c.useRef(v.identifier);c.useEffect(()=>{v.identifier!==N.current&&(N.current=v.identifier,w(a=>Object.keys(d).length>0?ae(a,v):J(e.placeholderValue,l,v,u)))},[v,l,d,u,e.placeholderValue]),h&&Object.keys(d).length<Object.keys(k).length&&(d={...k},I(d)),h==null&&Object.keys(d).length===Object.keys(k).length&&!L&&(d={},I(d),w(J(e.placeholderValue,l,v,u)));let f=$&&Object.keys(d).length>=Object.keys(k).length?$:E,A=a=>{e.isDisabled||e.isReadOnly||(Object.keys(d).length>=Object.keys(k).length?(a=ae(a,(y==null?void 0:y.calendar)||new pe),D(a)):w(a))};const i=c.useMemo(()=>f==null?void 0:f.toDate(S),[f,S]);let g=c.useMemo(()=>C.formatToParts(i).map(a=>{let x=Q[a.type];a.type==="era"&&v.getEras().length===1&&(x=!1);let F=Q[a.type]&&!d[a.type],H=Q[a.type]?Ne(a.type,a.value):null;return a.type==="year"&&(F=L?!1:F),{type:rt[a.type]||a.type,text:F?H:a.value,...at(f,a.type,P),isPlaceholder:F,placeholder:H,isEditable:x}}),[i,d,C,P,f,v,t]);k.era&&d.year&&!d.era?(d.era=!0,I({...d})):!k.era&&d.era&&(delete d.era,I({...d}));const b=a=>{d[a]=!0,a==="year"&&k.era&&(d.era=!0),I({...d})},V=a=>{d[a]=!1,I({...d})},M=(a,x)=>{d[a]?A(ot(f,a,x,P)):(b(a),Object.keys(d).length>=Object.keys(k).length&&A(f))};function G(){const a=Object.values(d),x=Object.values(k);return a.length===0?!0:a.length!==x.length?!1:!!(a.every(F=>!F)&&!m||a.every(F=>F))}const te=(()=>e.validationState||(Be($,e.minValue,e.maxValue)||null)||!h&&(E!=null&&E.year)&&E.year<U||!G()?"invalid":"valid")();return{value:$,dateValue:i,calendar:v,setValue:A,segments:g,dateFormatter:C,validationState:te,granularity:l,maxGranularity:e.maxGranularity??"year",isDisabled:!!o,isReadOnly:!!s,isRequired:!!m,increment(a){M(a,1)},decrement(a){M(a,-1)},incrementPage(a){M(a,de[a]||1)},decrementPage(a){M(a,-(de[a]||1))},setSegment(a,x){a==="year"&&x<U?(V(a),K(!0),w(new me(x,(f==null?void 0:f.month)??0,(f==null?void 0:f.day)??0))):(a==="year"&&x>=U&&K(!1),b(a)),A(it(f,a,parseInt(x),P))},confirmPlaceholder(){if(e.isDisabled||e.isReadOnly)return;let a=Object.keys(d),x=Object.keys(k);a.length===x.length-1&&k.dayPeriod&&!d.dayPeriod&&(d={...k},I(d),A(f==null?void 0:f.copy()))},clearSegment(a){K(!1),delete d[a],I({...d});let x=J(e.placeholderValue,l,v,u),F=f;if(a==="dayPeriod"&&"hour"in f&&"hour"in x){let H=f.hour>=12,oe=x.hour>=12;H&&!oe?F=f.set({hour:f.hour-12}):!H&&oe&&(F=f.set({hour:f.hour+12}))}else a in f&&(F=f==null?void 0:f.set({[a]:x==null?void 0:x[a]}));D(null),A(F)},formatValue(a){if(!$)return"";const x=se(a,j);return new X(t,x).format(i)}}}function at(e,t,r){switch(t){case"era":{let n=e.calendar.getEras();return{value:n.indexOf(e.era),minValue:0,maxValue:n.length-1}}case"year":return{value:e.year,minValue:U,maxValue:e.calendar.getYearsInEra(e)};case"month":return{value:e.month,minValue:xe(e),maxValue:e.calendar.getMonthsInYear(e)};case"day":return{value:e.day,minValue:Pe(e),maxValue:e.calendar.getDaysInMonth(e)}}if("hour"in e)switch(t){case"dayPeriod":return{value:e.hour>=12?12:0,minValue:0,maxValue:12};case"hour":if(r.hour12){let n=e.hour>=12;return{value:e.hour,minValue:n?12:0,maxValue:n?23:11}}return{value:e.hour,minValue:0,maxValue:23};case"minute":return{value:e.minute,minValue:0,maxValue:59};case"second":return{value:e.second,minValue:0,maxValue:59}}return{}}function ot(e,t,r,n){switch(t){case"era":case"year":case"month":case"day":return e.cycle(t,r,{round:t==="year"})}if("hour"in e)switch(t){case"dayPeriod":{let o=e.hour,s=o>=12;return e.set({hour:s?o-12:o+12})}case"hour":case"minute":case"second":return e.cycle(t,r,{round:t!=="hour",hourCycle:n.hour12?12:24})}}function it(e,t,r,n){switch(t){case"day":case"month":case"year":case"era":return e.set({[t]:r})}if("hour"in e)switch(t){case"dayPeriod":{let o=e.hour,s=o>=12;return r>=12===s?e:e.set({hour:s?o-12:o+12})}case"hour":if(n.hour12){let s=e.hour>=12;!s&&r===12&&(r=0),s&&r<12&&(r+=12)}case"minute":case"second":return e.set({[t]:r})}}const ve=q("div",{color:"$gray50",fontSize:"$body3",fontWeight:"$semibold",textTransform:"uppercase",letterSpacing:"1px","&:focus-visible":{padding:"$0_5 0",outline:"none",color:"$whiteText !important",backgroundColor:"$cdgBlue"},"&.number":{color:"$black"}}),st=q("div",{display:"flex",flexDirection:"column",justifyContent:"flex-end",gap:"$1","& .date-field-label":{fontSize:"$body3",fontWeight:"$semibold",color:"$gray90"},"& .date-field-input":{minWidth:"$49",height:"$11",display:"flex",alignItems:"center",padding:"0 0 0 $4",backgroundColor:"$background",border:"1px solid $gray30",borderRadius:"$md"},"& .date-field-input.mobile:active":{backgroundColor:"$gray60"},"& .toggle-calendar-button":{marginLeft:"auto"},"& .toggle-calendar-button .toggle-calendar-icon":{width:"$3",height:"$3"},variants:{isDisabled:{true:{cursor:"not-allowed","& .date-field-input":{backgroundColor:"$divider"},[`& ${ve}`]:{color:"$gray60"}}},isInvalid:{true:{"& .date-field-input":{borderColor:"$danger"}}}}}),ne=q("span",{variants:{isError:{true:{color:"$danger"}},isText:{true:{fontSize:"$label2"}}}}),lt=q("button",{border:"none",margin:"0",width:"auto",overflow:"visible",background:"transparent",color:"inherit",font:"inherit",lineHeight:"normal",WebkitFontSmoothing:"inherit",MozOsxFontSmoothing:"inherit",WebkitAppearance:"none",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",padding:"$2 $4","&:focus-visible":{outline:"2px solid $cdgBlue80",borderRadius:"2px"}}),fe=q("div",{fontSize:"$label2",fontWeight:"$medium",transition:"$default",marginTop:"$1",color:"$gray70",variants:{error:{true:{color:"$danger"}}}});function ct(){const{locale:e}=z();return c.useMemo(()=>{try{return new Intl.DisplayNames(e,{type:"dateTimeField"})}catch{return new ut(e)}},[e])}class ut{constructor(t){this.locale=t,this.dictionary=new $e(je)}of(t){return this.dictionary.getStringForLocale(t,this.locale)}}function dt(e){const t=c.useRef();let{value:r,textValue:n,minValue:o,maxValue:s,isDisabled:m,isReadOnly:y,isRequired:l,onIncrement:u,onIncrementPage:S,onDecrement:p,onDecrementPage:v,onDecrementToMin:R,onIncrementToMax:h}=e;const D=c.useRef(e);D.current=e;const $=()=>clearTimeout(t.current);c.useEffect(()=>()=>$(),[]);let E=P=>{if(!(P.ctrlKey||P.metaKey||P.shiftKey||P.altKey||y)){switch(P.key){case"PageUp":if(S){P.preventDefault(),S();break}break;case"ArrowUp":case"Up":u&&(P.preventDefault(),u());break;case"PageDown":if(v){P.preventDefault(),v();break}break;case"ArrowDown":case"Down":p&&(P.preventDefault(),p());break;case"Home":R&&(P.preventDefault(),R());break;case"End":h&&(P.preventDefault(),h());break}return null}},w=c.useRef(!1),T=()=>{w.current=!0},B=()=>{w.current=!1};n=n===""?"Empty":(n||`${r}`).replace("-","−");const j=c.useCallback(P=>{$(),D.current.onIncrement(),t.current=window.setTimeout(()=>{(isNaN(s)||isNaN(r)||r<s)&&j(60)},P)},[u,s,r]),L=c.useCallback(P=>{$(),D.current.onDecrement(),t.current=window.setTimeout(()=>{(isNaN(o)||isNaN(r)||r>o)&&L(60)},P)},[p,o,r]);let K=P=>{P.preventDefault()},{addGlobalListener:W,removeAllGlobalListeners:C}=Le();return{spinButtonProps:{role:"spinbutton","aria-valuenow":isNaN(r)?null:r,"aria-valuetext":n,"aria-valuemin":o,"aria-valuemax":s,"aria-disabled":m||null,"aria-readonly":y||null,"aria-required":l||null,onKeyDown:E,onFocus:T,onBlur:B},incrementButtonProps:{onPressStart:()=>{j(400),W(window,"contextmenu",K)},onPressEnd:()=>{$(),C()},onFocus:T,onBlur:B},decrementButtonProps:{onPressStart:()=>{L(400),W(window,"contextmenu",K)},onPressEnd:()=>{$(),C()},onFocus:T,onBlur:B}}}function ft(e,t,r){const n=c.useRef(""),{locale:o}=z(),s=ct();let{ariaLabel:m,ariaLabelledBy:y,ariaDescribedBy:l,focusManager:u}=he.get(t),S=e.isPlaceholder?"":e.text;const p=c.useMemo(()=>t.dateFormatter.resolvedOptions(),[t.dateFormatter]),v=Y({month:"long",timeZone:p.timeZone}),R=Y({hour:"numeric",hour12:p.hour12,timeZone:p.timeZone});if(e.type==="month"&&!e.isPlaceholder){const i=v.format(t.dateValue);S=i!==S?`${S} – ${i}`:i}else e.type==="hour"&&!e.isPlaceholder&&(S=R.format(t.dateValue));const{spinButtonProps:h}=dt({value:e.value,textValue:S,minValue:e.minValue,maxValue:e.maxValue,isDisabled:!!t.isDisabled,isReadOnly:t.isReadOnly||!e.isEditable,isRequired:!!t.isRequired,onIncrement:()=>{n.current="",t.increment(e.type)},onDecrement:()=>{n.current="",t.decrement(e.type)},onIncrementPage:()=>{n.current="",t.incrementPage(e.type)},onDecrementPage:()=>{n.current="",t.decrementPage(e.type)},onIncrementToMax:()=>{n.current="",t.setSegment(e.type,e.maxValue)},onDecrementToMin:()=>{n.current="",t.setSegment(e.type,e.minValue)}}),D=c.useMemo(()=>new He(o,{maximumFractionDigits:0}),[o]),$=()=>{if(D.isValidPartialNumber(e.text)&&!t.isReadOnly&&!e.isPlaceholder){const i="";t.clearSegment(e.type),n.current=i}else e.type==="dayPeriod"&&t.clearSegment(e.type)},E=i=>{var g;if(i.key==="a"&&(Ze()?i.metaKey:i.ctrlKey)&&i.preventDefault(),!(i.ctrlKey||i.metaKey||i.shiftKey||i.altKey))switch(i.key){case"Backspace":case"Delete":{i.preventDefault(),i.stopPropagation(),$();break}default:{(g=h.onKeyDown)==null||g.call(h,i);break}}},{startsWith:w}=De({sensitivity:"base"}),T=Y({hour:"numeric",hour12:!0}),B=c.useMemo(()=>{var g;const i=new Date;return i.setHours(0),(g=T.formatToParts(i).find(b=>b.type==="dayPeriod"))==null?void 0:g.value},[T]),j=c.useMemo(()=>{var g;const i=new Date;return i.setHours(12),(g=T.formatToParts(i).find(b=>b.type==="dayPeriod"))==null?void 0:g.value},[T]),L=Y({year:"numeric",era:"narrow",timeZone:"UTC"}),K=c.useMemo(()=>{var V;if(e.type!=="era")return[];const i=ae(new me(1,1,1),t.calendar),g=t.calendar.getEras().map(M=>{var a;const G=i.set({year:1,month:1,day:1,era:M}).toDate("UTC"),te=(a=L.formatToParts(G).find(x=>x.type==="era"))==null?void 0:a.value;return{era:M,formatted:te}}),b=mt(g.map(M=>M.formatted));if(b)for(const M of g)M.formatted=(V=M.formatted)==null?void 0:V.slice(b);return g},[L,t.calendar,e.type]),W=i=>{if(t.isDisabled||t.isReadOnly)return;const g=n.current+i;switch(e.type){case"dayPeriod":if(w(B,i))t.setSegment("dayPeriod",0);else if(w(j,i))t.setSegment("dayPeriod",12);else break;u.focusNext();break;case"era":{const b=K.find(V=>w(V.formatted,i));b&&(t.setSegment("era",b.era),u.focusNext());break}case"day":case"hour":case"minute":case"second":case"month":case"year":{if(!D.isValidPartialNumber(g))return;let b=D.parse(g),V=b,M=e.minValue===0;if(e.type==="hour"&&t.dateFormatter.resolvedOptions().hour12){switch(t.dateFormatter.resolvedOptions().hourCycle){case"h11":b>11&&(V=D.parse(i));break;case"h12":M=!1,b>12&&(V=D.parse(i));break}e.value>=12&&b>1&&(b+=12)}else b>e.maxValue&&(V=D.parse(i));if(isNaN(b))return;const G=V!==0||M;G&&t.setSegment(e.type,V),+(b+"0")>e.maxValue||g.length>=String(e.maxValue).length?(n.current="",G&&(u==null||u.focusNext())):n.current=g;break}}},C=()=>{n.current="",Ge(r.current,{containingElement:qe(r.current)});const i=window.getSelection();i==null||i.collapse(r.current)},P=c.useRef("");ce(r,"beforeinput",i=>{var g,b;switch(i.preventDefault(),i.inputType){case"deleteContentBackward":case"deleteContentForward":D.isValidPartialNumber(e.text)&&!t.isReadOnly&&$();break;case"insertCompositionText":P.current=(g=r.current)==null?void 0:g.textContent,r.current.textContent=(b=r.current)==null?void 0:b.textContent;break;default:i.data!=null&&W(i.data);break}}),ce(r,"input",i=>{const{inputType:g,data:b}=i;switch(g){case"insertCompositionText":r.current.textContent=P.current,(w(B,b)||w(j,b))&&W(b);break}}),c.useLayoutEffect(()=>{const i=r.current;return()=>{document.activeElement===i&&(u.focusPrevious()||u.focusNext())}},[r,u]);const k=Ke()||e.type==="timeZoneName"?{role:"textbox","aria-valuemax":null,"aria-valuemin":null,"aria-valuetext":null,"aria-valuenow":null}:{},d=c.useMemo(()=>{var i;return(i=t==null?void 0:t.segments)==null?void 0:i.find(g=>g.isEditable)},[t.segments]);e!==d&&t.validationState!=="invalid"&&(l="");const I=We(),N=!t.isDisabled&&!t.isReadOnly&&e.isEditable,f=e.type==="literal"?"":s.of(e.type),A=Ae({"aria-label":(m?m+" ":"")+f,"aria-labelledby":y});return e.type==="literal"?{segmentProps:{"aria-hidden":!0}}:{segmentProps:{...h,...A,id:I,...k,"aria-invalid":t.validationState==="invalid"?"true":void 0,"aria-describedby":l,"aria-readonly":t.isReadOnly||!e.isEditable?"true":void 0,"data-placeholder":e.isPlaceholder||void 0,contentEditable:N,suppressContentEditableWarning:N,spellCheck:N?"false":void 0,autoCapitalize:N?"off":void 0,autoCorrect:N?"off":void 0,[parseInt(_.version,10)>=17?"enterKeyHint":"enterkeyhint"]:N?"next":void 0,inputMode:t.isDisabled||e.type==="dayPeriod"||e.type==="era"||!N?void 0:"numeric",tabIndex:t.isDisabled?void 0:0,onKeyDown:E,onFocus:C,style:{caretColor:"transparent"},onPointerDown(i){i.stopPropagation()},onMouseDown(i){i.stopPropagation()}}}}function mt(e){e.sort();const t=e[0],r=e[e.length-1];for(let n=0;n<t.length;n++)if(t[n]!==r[n])return n;return 0}const bt=_.forwardRef((e,t)=>{const{segment:r,state:n}=e,o=ee(t),{segmentProps:s}=ft(r,n,o);return O(ve,{...s,ref:o,className:`segment ${r.isPlaceholder?"placeholder":"number"}`,children:r.text})}),ht=bt,yt=_.forwardRef((e,t)=>{const{locale:r}=z(),n=c.useRef(null),o=nt({...e,isReadOnly:e.isReadOnly?!0:!!e.isMobile,locale:r,createCalendar:we}),s=ee(t),{labelProps:m,fieldProps:y}=et({...e,isReadOnly:e.isReadOnly?!0:!!e.isMobile},o,s),l=e.isDisabled??!1,u=e.isReadOnly??!1,S=!!e.isInvalid||o.validationState==="invalid",p=()=>{const h=e.necessityIndicator??"icon";return e.isRequired&&h==="icon"?O(ne,{isError:!0,children:"*"}):e.isRequired&&h==="label"?O(ne,{isError:!0,isText:!0,children:"(required)"}):!e.isRequired&&h==="label"?O(ne,{isText:!0,children:"(optional)"}):""},{onPress:v,...R}=e.buttonProps;return Z("div",{children:[Z(st,{className:"cdg-date-field",isDisabled:l,isInvalid:S,children:[Z("span",{...m,className:"date-field-label",children:[e.label," ",p()]}),Z("div",{...y,ref:s,className:`date-field-input ${l||u?"":e.isMobile?"mobile":""}`,onClick:()=>{var h;l||u||e.isMobile&&((h=n.current)==null||h.click())},children:[o.segments.map((h,D)=>{var $;return h.type==="literal"&&(h.isPlaceholder=(($=o.segments[D-1])==null?void 0:$.isPlaceholder)??!1),O(ht,{segment:h,state:o},D)}),O(lt,{...R,ref:n,onClick:h=>{v==null||v(h)},type:"button",disabled:l||u,className:"toggle-calendar-button",children:O(Me,{})})]})]}),e.isInvalid&&e.errorMessage&&O(fe,{className:"cdg-date-field-error",error:!0,children:e.errorMessage}),e.helperText?O(fe,{className:"cdg-date-field-helper",children:e.helperText}):null]})}),Ot=yt;function vt(e,t){let{role:r="dialog"}=e,n=Se();n=e["aria-label"]?void 0:n;let o=c.useRef(!1);return c.useEffect(()=>{if(t.current&&!t.current.contains(document.activeElement)){ie(t.current);let s=setTimeout(()=>{document.activeElement===t.current&&(o.current=!0,t.current.blur(),ie(t.current),o.current=!1)},500);return()=>{clearTimeout(s)}}},[t]),Ue(),{dialogProps:{...ke(e,{labelable:!0}),role:r,tabIndex:-1,"aria-labelledby":e["aria-labelledby"]||n,onBlur:s=>{o.current&&s.stopPropagation()}},titleProps:{id:n}}}const gt=q("div",{}),Pt=_.forwardRef((e,t)=>{const{children:r,title:n}=e,o=ee(t),{dialogProps:s,titleProps:m}=vt(e,o);return Z(gt,{...s,ref:o,children:[n&&O("h3",{...m,style:{marginTop:0},children:n}),r]})}),Rt=Pt,xt=_.forwardRef((e,t)=>{const{children:r,state:n}=e,o=ee(t),{popoverProps:s,underlayProps:m}=ze({...e,popoverRef:o},n);return Z(_e,{children:[O("div",{...m}),Z("div",{...s,ref:o,style:{...s.style},children:[O(ue,{onDismiss:n.close}),r,O(ue,{onDismiss:n.close})]})]})}),Et=xt;function Tt(e){const[t,r]=ye(e.isOpen,e.defaultOpen||!1,e.onOpenChange);return{isOpen:t,setOpen:r,open(){r(!0)},close(){r(!1)},toggle(){r(!t)}}}export{Ot as D,Et as P,Ye as a,Xe as b,Tt as c,tt as d,Rt as e,Je as u};

import{l as H,m as W,n as q,N as ee,E as te,g as ae,c as P,r as j}from"./index-6d586102.js";import{s as k,R,j as e,r as y,a as r,F as M}from"./index-24751b01.js";import{u as ne,b as oe,c as le,d as re,g as ie,e as se,D as K,f as ce,h as de,i as me,j as ue,N as he,k as $,l as O,m as ge,n as pe,o as fe}from"./data-grid.styles-97ea2a60.js";import{p as L}from"./pick-child-2b180d25.js";import{u as X}from"./use-dom-ref-f8bc833d.js";import{T as ye}from"./index-1c66b8c3.js";import"./index-0c95613f.js";import{D as z}from"./index-02a4b210.js";import{D as C}from"./index-44844f0a.js";import{G as v}from"./index-75cd10d7.js";import{a as h}from"./index-d294b6b2.js";import"./index-b848404f.js";import"./index-90b115e9.js";import{T as V}from"./index-6e121b4d.js";import{S as Z}from"./searchfield-46bed527.js";import{B as g}from"./button-1941ae4e.js";import{P as A}from"./pagination-ae8bbf46.js";import"./create-safe-context-53f87c7d.js";import"./checkbox.styles-71fe1071.js";import"./index-fbb9af8a.js";import"./floating-ui.react.esm-4ce247e7.js";import"./utils-2759ffde.js";import"./lodash-8927d43e.js";import"./dropdown.styles-7ab8f2b4.js";import"./index.es-825a60a0.js";import"./useCurrentTheme-a4aa9deb.js";const Se=k("tr",{height:"fit-content"}),be=R.forwardRef((o,i)=>{const{colSpan:a,isExpanded:c,children:s}=o,p=X(i);return e(Se,{ref:p,children:e("td",{colSpan:a,children:e(ye,{effect:"collapse",show:c,speed:.5,children:s})})})});k("div",{overflowX:"auto",table:{fontFamily:"$sans",borderCollapse:"collapse",width:"100%",border:"1px solid $primaryBg"}});const Ce=k("div",{width:"100%"}),we=R.forwardRef((o,i)=>{var B;const[a,c]=y.useState([]),[s,p]=y.useState({}),{css:b={},data:l,columns:t,options:u,onManualSorting:n,onChangeRowSelection:m,children:w,renderRowSubComponent:S,...T}=o,{child:N,rest:Y}=L(w,$),{child:E}=L(Y,O),_=X(i),D=ne({state:{rowSelection:s,sorting:u.initialSortBy?u.initialSortBy:a},onSortingChange:c,getCoreRowModel:oe(),getSortedRowModel:le(),getFilteredRowModel:re(),getExpandedRowModel:ie(),onRowSelectionChange:p,debugTable:!0,data:l,columns:t,isMultiSortEvent:()=>!0,...u});y.useEffect(()=>{const x=D.getSelectedRowModel().rows.map(F=>F.original);m==null||m(x)},[s]),y.useEffect(()=>{n==null||n(a)},[a]);const G=D.getRowModel().rows??[];return r(Ce,{css:b,...T,children:[N&&e(M,{children:N}),e(se,{children:r("table",{ref:_,role:"table",children:[e(K,{as:"thead",children:D.getHeaderGroups().map(f=>e(ce,{children:f.headers.map(x=>e(de,{headerProps:x,tableOption:D},x.id))},f.id))}),e(K,{as:"tbody",children:G.length?G.map(f=>{var x;return r(M,{children:[e(me,{isSelected:f.getIsSelected(),isExpanded:f.getIsExpanded(),children:f.getVisibleCells().map(F=>e(ue,{cell:F,row:f},F.id))},f.id),e(be,{colSpan:(x=D.getAllLeafColumns())==null?void 0:x.length,isExpanded:f.getIsExpanded()&&S!==void 0,children:S==null?void 0:S(f.original)})]})}):e(he,{colSpan:(B=D.getAllLeafColumns())==null?void 0:B.length})})]})}),E&&e(M,{children:E})]})}),d=we;d.Toolbar=$;d.Footer=O;d.Checkbox=ge;d.CheckboxCell=pe;d.Toolbar.displayName="Card.Body";d.Footer.displayName="Card.Image";d.displayName="ReactTable";const J=o=>{const i=[];for(let a=0;a<o;a++)i.push(a);return i},I=o=>{let i="";const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=a.length;for(let s=0;s<o;s++)i+=a.charAt(Math.floor(Math.random()*c));return i},Q=(o,i)=>{const a=o.getTime(),c=i.getTime(),s=Math.floor(Math.random()*(c-a+1)+a);return new Date(s)},xe=()=>({firstName:I(5),lastName:I(5),age:Math.floor(Math.random()*40),visits:Math.floor(Math.random()*1e3),progress:Math.floor(Math.random()*100),createdAt:Q(new Date(2020,0,1),new Date(2029,11,31)),status:["relationship","complicated","single"][Math.floor(Math.random()*["relationship","complicated","single"].length)]});function U(...o){const i=(a=0)=>{const c=o[a];return J(c).map(s=>({...xe(),subRows:o[a+1]?i(a+1):null}))};return i()}const De=()=>({id:I(5),accountName:ve(),code:I(3),requestLimit:Math.floor(Math.random()*1e3),status:["Submited","Processing","Approval"][Math.floor(Math.random()*["Submited","Processing","Approval"].length)]??"Submited",progress:[{id:I(5),remarks:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam eleifend iaculis sodales. Pellentesque at metus felis. Nulla fermentum ipsum nec orci laoreet, at rhoncus eros dictum.",createdAt:Q(new Date(2020,0,1),new Date(2029,11,31))}]});function Re(...o){return((a=0)=>{const c=o[a];return J(c).map(s=>({...De()}))})()}function ve(){const o=["Miss Reilly Lemke","Elizabeth Friesen","Dr. Doyle Boehm","Domenica Zemlak DDS","Samson Bogan","Thora Hilll","Shannon Mann","Mrs. Barry Franecki","Kendrick Balistreri","Daphnee Durgan","Stevie Herman","Salvador Koelpin","Milo Torphy","Amelie Halvorson","Cora Weissnat IV","Rey Watsica","Alexandria Murray","Angeline Schowalter","Britney Cole","Marlene Bosco"];return`${o[Math.floor(Math.random()*o.length)]}`}const _e=()=>{const[o,i]=y.useState(1),[a,c]=y.useState(()=>U(10)),s={enableSorting:!0,enableMultiSort:!0,columnResizeMode:"onChange",manualSorting:!1,enableRowSelection:t=>t.original.age>30},p=t=>{},b=t=>{},l=R.useMemo(()=>[{id:"select",header:({table:t})=>e("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:e(d.CheckboxCell,{checked:t.getIsAllRowsSelected(),indeterminate:t.getIsSomeRowsSelected(),onChange:t.getToggleAllRowsSelectedHandler()})}),cell:({row:t})=>e("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:e(d.CheckboxCell,{disabled:!t.getCanSelect(),checked:t.getIsSelected(),indeterminate:t.getIsSomeSelected(),onChange:t.getToggleSelectedHandler()})})},{id:"name",header:()=>e("div",{style:{textAlign:"center"},children:"Name"}),footer:t=>t.column.id,enableGrouping:!1,columns:[{accessorKey:"firstName",cell:t=>t.getValue(),header:()=>e("span",{children:"First Name"}),footer:t=>t.column.id,enableResizing:!1,enableGrouping:!1,sortDescriptor:"asc",meta:{editable:!0,updateData:(t,u,n)=>{c(m=>m.map((w,S)=>S===t?{...m[t],[u]:n}:w))}}},{accessorFn:t=>t.lastName,id:"lastName",cell:t=>t.getValue(),header:()=>e("span",{children:"Last Name"}),footer:t=>t.column.id,enableColumnFilter:!1,enableGrouping:!1,enableResizing:!0}]},{id:"otherInfo",header:()=>e("div",{style:{textAlign:"center"},children:"Other info"}),footer:t=>t.column.id,enableGrouping:!1,columns:[{accessorKey:"age",header:()=>"Age",enableColumnFilter:!1,enableGrouping:!1,footer:t=>t.column.id},{accessorKey:"visits",header:()=>e("span",{children:"Visits"}),enableColumnFilter:!1,enableGrouping:!1,footer:t=>t.column.id},{accessorKey:"status",header:"Status",enableColumnFilter:!1,enableGrouping:!1,footer:t=>t.column.id},{accessorKey:"progress",header:"Profile Progress",cell:t=>t.getValue(),enableColumnFilter:!1,enableGrouping:!1,footer:t=>t.column.id}]}],[]);return e("div",{children:r(d,{data:a,columns:l,options:s,onManualSorting:p,onChangeRowSelection:b,children:[r(d.Toolbar,{css:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[e(Z,{placeholder:"Search"}),r("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"0.5rem"},children:[e(g,{variant:"primary",children:"Button"}),e(g,{variant:"secondary",children:"Button"}),e(g,{variant:"ghost","aria-label":"Delete",children:e(h,{icon:H})}),e(g,{variant:"ghost","aria-label":"Dashboard",children:e(h,{icon:W})}),e(g,{variant:"ghost",children:e(h,{icon:q,"aria-label":"File"})})]})]}),r(d.Footer,{css:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[e("div",{}),r("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"0.5rem"},children:[r("div",{style:{fontWeight:"600"},children:[(o-1)*10+1," - ",(o-1)*10+10," of 100"]}),e(A,{page:o,onChange:t=>i(t),total:10})]})]})]})})},et=()=>{const[o,i]=y.useState(1),a=U(10),[c,s]=y.useState(a),[p]=y.useState(a),b={enableSorting:!0,enableMultiSort:!0,columnResizeMode:"onChange",manualSorting:!1,initialSortBy:[{id:"firstName",desc:!0},{id:"lastName",desc:!1}],enableRowSelection:n=>n.original.age>30},l=n=>{},t=n=>{},u=R.useMemo(()=>[{id:"edit",size:120,cell:()=>e("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:e(h,{icon:ee})}),meta:{editable:!0,template:e(Me,{}),updateData:(n,m,w)=>{s(S=>S.map((T,N)=>N===n?{...w}:T))},revertData:n=>{s(m=>m.map((w,S)=>S===n?p[n]:w))}}},{accessorKey:"firstName",cell:n=>n.getValue(),header:()=>e("span",{children:"First Name"}),footer:n=>n.column.id,meta:{}},{accessorKey:"age",header:()=>"Age",footer:n=>n.column.id},{accessorKey:"status",header:"Status",footer:n=>n.column.id}],[]);return e(M,{children:r(d,{data:c,columns:u,options:b,onManualSorting:l,onChangeRowSelection:t,id:"editableTable",children:[r(d.Toolbar,{css:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[e(Z,{placeholder:"Search"}),r("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"0.5rem"},children:[e(g,{variant:"primary",children:"Button"}),e(g,{variant:"secondary",children:"Button"}),e(g,{variant:"ghost",children:e(h,{icon:H})}),e(g,{variant:"ghost",children:e(h,{icon:W})}),e(g,{variant:"ghost",children:e(h,{icon:q})})]})]}),r(d.Footer,{css:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[e("div",{}),r("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"0.5rem"},children:[r("div",{style:{fontWeight:"600"},children:[(o-1)*10+1," - ",(o-1)*10+10," of 100"]}),e(A,{page:o,onChange:n=>i(n),total:10})]})]})]})})},Me=()=>{var t,u;const o=fe(),[i,a]=y.useState({firstName:o.cell.row.getValue("firstName"),age:o.cell.row.getValue("age"),status:o.cell.row.getValue("status")}),c=n=>{a(m=>({...m,firstName:n}))},s=n=>{a(m=>({...m,age:n}))},p=n=>{a(m=>({...m,status:n}))},b=n=>{n.stopPropagation(),o.finishTemplateEditing(i)},l=n=>{n.stopPropagation(),o.cancelTemplateEditing()};return r(v,{css:{width:(u=(t=document.getElementById("editableTable"))==null?void 0:t.querySelector("tr"))==null?void 0:u.clientWidth,backgroundColor:"$background",position:"absolute",zIndex:2},alignItems:"center",justifyContent:"spaceBetween",children:[r(v.Item,{xs:2,sm:2,md:2,lg:2,xl:2,css:{display:"flex",justifyContent:"center",gap:5},children:[e(g,{onClick:b,size:"sm",children:e(h,{icon:te})}),e(g,{onClick:l,variant:"danger",size:"sm",children:e(h,{icon:ae})})]}),e(v.Item,{xs:3,sm:3,md:3,lg:3,xl:3,children:e(V,{value:i.firstName,onChange:c})}),e(v.Item,{xs:3,sm:3,md:3,lg:3,xl:3,children:e(V,{type:"number",value:i.age,onChange:s})}),e(v.Item,{xs:3,sm:3,md:3,lg:3,xl:3,children:r(C.Select,{selectedKey:i.status,onSelectionChange:p,children:[e(C.Item,{children:"In Relationship"},"relationship"),e(C.Item,{children:"Complicated"},"complicated"),e(C.Item,{children:"Single"},"single")]})})]})},tt=()=>{const[o,i]=R.useState(()=>Re(10)),[a,c]=y.useState(1),s={enableSorting:!1,enableMultiSort:!1,columnResizeMode:"onChange",manualSorting:!1},p=R.useMemo(()=>[{id:"expander",size:40,header:({table:l})=>e("span",{onClick:l.getToggleAllRowsExpandedHandler(),style:{cursor:"pointer",userSelect:"none",display:"flex",justifyContent:"center",alignItems:"center"},children:l.getIsAllRowsExpanded()?e(h,{icon:P}):e(h,{icon:j})}),cell:({row:l})=>e("span",{onClick:()=>l.toggleExpanded(),style:{cursor:"pointer",userSelect:"none",display:"flex",justifyContent:"center",alignItems:"center"},children:l.getIsExpanded()?e(h,{icon:P}):e(h,{icon:j})})},{id:"accountName",accessorKey:"accountName",header:()=>e("div",{style:{textAlign:"center"},children:"Account Name"}),footer:l=>l.column.id},{id:"code",accessorKey:"code",header:()=>e("div",{style:{textAlign:"center"},children:"Code"}),footer:l=>l.column.id},{id:"requestLimit",accessorKey:"requestLimit",header:()=>e("div",{style:{textAlign:"center"},children:"New Request Limit"}),footer:l=>l.column.id},{id:"status",accessorKey:"status",header:()=>e("div",{style:{textAlign:"center"},children:"Status"}),footer:l=>l.column.id}],[]);return e("div",{children:e(d,{data:o,columns:p,options:s,renderRowSubComponent:l=>{var t;return r("div",{style:{padding:"1em",display:"flex",flexDirection:"column",rowGap:"1em"},children:[r("h3",{children:["Current Status: ",l.status]}),e(z,{}),(t=l.progress)==null?void 0:t.map(u=>r(M,{children:[e("p",{style:{fontSize:"12px"},children:u.remarks}),e("p",{style:{fontSize:"11px",fontWeight:200,color:"#878787"},children:u.createdAt.toDateString()}),e(z,{})]}))]})},css:{width:"65rem"},children:r(d.Footer,{css:{display:"flex",flexDirection:"row",justifyContent:"space-between"},children:[r("div",{style:{display:"flex",alignItems:"center"},children:[e("span",{style:{width:250},children:"Rows per page: "}),r(C.Select,{defaultSelectedKey:"10",children:[e(C.Item,{children:"10 rows"},"10"),e(C.Item,{children:"20 rows"},"20"),e(C.Item,{children:"50 rows"},"50")]})]}),r("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",gap:"0.5rem"},children:[r("div",{style:{fontWeight:"600"},children:[(a-1)*10+1," - ",(a-1)*10+10," of 100"]}),e(A,{page:a,onChange:l=>c(l),total:10})]})]})})})};typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{et as EditableTemplateCell,tt as ExpandableRow,_e as FullFeatured};

import{s as N,R as G,r as o,a as h,j as e,F as J}from"./index-7edb77fa.js";import"./index-1a3a8504.js";import{u as L}from"./use-dom-ref-2d1a83ce.js";import{B as i}from"./button-981461ab.js";import"./module-9e43f3ec.js";import"./module-f4aada32.js";import"./module-fd4388ac.js";import"./_define_property-1764bf98.js";import"./module-a56e2f8c.js";const K=N("div",{display:"inline-block"}),Q=N("div",{display:"block",position:"absolute",zIndex:"60","&.bottom-center":{transform:"translateX(-50%)"},"&.top-center":{transform:"translateX(-50%)"}}),U=10,V=G.forwardRef((T,y)=>{const{children:I,anchor:b,isOpen:O,offset:f=U,css:S={},direction:v="bottom-left",attachToElement:P,onClose:E=()=>{},...B}=T,[m,w]=o.useState({top:"0",right:"auto",bottom:"auto",left:"0"}),a=L(y),r=L();o.useEffect(()=>{if(r.current&&a.current)if(O){const d=P||document.body;g(),d.appendChild(r.current)}else r.current.parentElement&&r.current.parentElement.removeChild(r.current)},[O]),o.useEffect(()=>{r.current&&a.current&&g()},[r.current,a.current]);const g=()=>{if(a.current&&r.current){const d=P||document.body;d.style.position="relative";const t={...m},s=a.current.children[0]||a.current,u=s.offsetParent||d,p=a.current.getBoundingClientRect();switch(v){case"bottom-left":default:t.top=s.offsetTop+p.height+f+"px",t.left=s.offsetLeft+"px",t.bottom="auto",t.right="auto";break;case"bottom-center":t.top=s.offsetTop+p.height+f+"px",t.left=s.offsetLeft+p.width/2+"px",t.bottom="auto",t.right="auto";break;case"bottom-right":t.top=s.offsetTop+p.height+f+"px",t.left="auto",t.bottom="auto",t.right=u.clientWidth-s.offsetLeft-p.width+"px";break;case"top-left":t.top="auto",t.left=s.offsetLeft+"px",t.bottom=u.clientHeight-s.offsetTop+f+"px",t.right="auto";break;case"top-center":t.top="auto",t.left=s.offsetLeft+p.width/2+"px",t.bottom=u.clientHeight-s.offsetTop+f+"px",t.right="auto";break;case"top-right":t.top="auto",t.left="auto",t.bottom=u.clientHeight-s.offsetTop+f+"px",t.right=u.clientWidth-s.offsetLeft-p.width+"px";break}w(t)}},C=()=>{E()},x=o.useCallback(()=>{requestAnimationFrame(()=>{r.current&&!r.current.contains(document.activeElement)&&r.current&&!r.current.contains(document.activeElement)&&C()})},[a,C]);return h(K,{className:"cdg-popover",ref:a,css:S,...B,onBlur:x,tabIndex:0,children:[b,e(Q,{ref:r,className:`cdg-popover-content ${v}`,style:{top:m.top,left:m.left,right:m.right,bottom:m.bottom},onBlur:x,tabIndex:0,children:I})]})}),c=V,l=()=>e("div",{className:"popover-content",style:{padding:"10px",background:"#ffffff",boxShadow:"0 2px 5px rgba(0,0,0,0.2)",borderRadius:"5px",width:"300px",height:"200px"},children:"Popover content here"}),ae=()=>{const[T,y]=o.useState(!1),[I,b]=o.useState(!1),[O,f]=o.useState(!1),[S,v]=o.useState(!1),[P,E]=o.useState(!1),[B,m]=o.useState(!1),[w,a]=o.useState(!1),[r,g]=o.useState(!1),[C,x]=o.useState(!1),[d,t]=o.useState(!1),[s,u]=o.useState(!1),[k,p]=o.useState(!1),n=L(),R=()=>{y(!0)},j=()=>{b(!0)},F=()=>{f(!0)},H=()=>{v(!0)},W=()=>{E(!0)},A=()=>{m(!0)},X=()=>{a(!0)},$=()=>{g(!0)},q=()=>{x(!0)},z=()=>{t(!0)},D=()=>{u(!0)},M=()=>{p(!0)};return h(J,{children:[h("div",{className:"popover-sample",ref:n,children:[e(c,{isOpen:T,anchor:e(i,{variant:"primary",onPress:R,children:"Bottom left"}),attachToElement:n.current&&n.current.parentElement,onClose:()=>{y(!1)},children:e(l,{})}),e(c,{isOpen:P,anchor:e(i,{variant:"primary",onPress:W,children:"Bottom center"}),direction:"bottom-center",attachToElement:n.current&&n.current.parentElement,onClose:()=>{E(!1)},style:{marginLeft:"120px"},children:e(l,{})})]}),e("div",{className:"popover-sample",style:{display:"flex",justifyContent:"flex-end"},children:e(c,{isOpen:I,anchor:e(i,{variant:"primary",onPress:j,children:"Bottom right"}),direction:"bottom-right",attachToElement:n.current&&n.current.parentElement,onClose:()=>{b(!1)},children:e(l,{})})}),h("div",{className:"popover-sample",style:{display:"flex",alignItems:"flex-end",justifyContent:"flex-start",height:"600px"},children:[e(c,{isOpen:O,anchor:e(i,{variant:"primary",onPress:F,children:"Top left"}),direction:"top-left",attachToElement:n.current&&n.current.parentElement,onClose:()=>{f(!1)},children:e(l,{})}),e(c,{isOpen:B,anchor:e(i,{variant:"primary",onPress:A,children:"Top center"}),direction:"top-center",attachToElement:n.current&&n.current.parentElement,onClose:()=>{m(!1)},style:{marginLeft:"120px"},children:e(l,{})}),e(c,{isOpen:S,anchor:e(i,{variant:"primary",onPress:H,children:"Top right"}),direction:"top-right",attachToElement:n.current&&n.current.parentElement,onClose:()=>{v(!1)},style:{marginLeft:"120px"},children:e(l,{})})]}),h("div",{className:"popover-sample",style:{display:"flex",alignItems:"flex-end",justifyContent:"flex-start",height:"600px"},children:[e(c,{isOpen:w,anchor:e(i,{variant:"primary",onPress:X,children:"Bottom left"}),direction:"bottom-left",attachToElement:n.current&&n.current.parentElement,onClose:()=>{a(!1)},children:e(l,{})}),e(c,{isOpen:r,anchor:e(i,{variant:"primary",onPress:$,children:"Bottom center"}),direction:"bottom-center",attachToElement:n.current&&n.current.parentElement,onClose:()=>{g(!1)},style:{marginLeft:"120px"},children:e(l,{})}),e(c,{isOpen:C,anchor:e(i,{variant:"primary",onPress:q,children:"Bottom right"}),direction:"bottom-right",attachToElement:n.current&&n.current.parentElement,onClose:()=>{x(!1)},style:{marginLeft:"120px"},children:e(l,{})})]}),h("div",{className:"popover-sample",style:{display:"flex",alignItems:"center",justifyContent:"flex-start",height:"800px"},children:[e(c,{isOpen:d,anchor:e(i,{variant:"primary",onPress:z,children:"Bottom left"}),direction:"bottom-left",attachToElement:n.current&&n.current.parentElement,onClose:()=>{t(!1)},children:e(l,{})}),e(c,{isOpen:s,anchor:e(i,{variant:"primary",onPress:D,children:"Bottom center"}),direction:"bottom-center",attachToElement:n.current&&n.current.parentElement,onClose:()=>{u(!1)},style:{marginLeft:"120px"},children:e(l,{})}),e(c,{isOpen:k,anchor:e(i,{variant:"primary",onPress:M,children:"Bottom right"}),direction:"bottom-right",attachToElement:n.current&&n.current.parentElement,onClose:()=>{p(!1)},style:{marginLeft:"120px"},children:e(l,{})})]})]})};typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{ae as Popovers};

import{s,r as u,a as b,j as f,t as ne}from"./index-1532effa.js";import{C as te}from"./components-4a3079d4.js";import{F as W}from"./index.es-80d36d85.js";import{c as ae,i as ie,g as C,h as oe}from"./isArray-060568f1.js";import{a as le}from"./_MapCache-1909d439.js";import{f as ce}from"./faPlus-8ccf1391.js";var K={},O={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var n="fas",t="xmark",i=384,l=512,a=[128473,10005,10006,10060,215,"close","multiply","remove","times"],c="f00d",d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z";e.definition={prefix:n,iconName:t,icon:[i,l,a,c,d]},e.faXmark=e.definition,e.prefix=n,e.iconName=t,e.width=i,e.height=l,e.ligatures=a,e.unicode=c,e.svgPathData=d,e.aliases=a})(O);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var n=O;e.definition={prefix:n.prefix,iconName:n.iconName,icon:[n.width,n.height,n.aliases,n.unicode,n.svgPathData]},e.faClose=e.definition,e.prefix=n.prefix,e.iconName=n.iconName,e.width=n.width,e.height=n.height,e.ligatures=n.aliases,e.unicode=n.unicode,e.svgPathData=n.svgPathData,e.aliases=n.aliases})(K);var se=ae,de=ie,ue="[object Symbol]";function fe(e){return typeof e=="symbol"||de(e)&&se(e)==ue}var $=fe,pe=C,he=$,be=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ge=/^\w*$/;function me(e,n){if(pe(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||he(e)?!0:ge.test(e)||!be.test(e)||n!=null&&e in Object(n)}var ye=me,F=le,ve="Expected a function";function k(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new TypeError(ve);var t=function(){var i=arguments,l=n?n.apply(this,i):i[0],a=t.cache;if(a.has(l))return a.get(l);var c=e.apply(this,i);return t.cache=a.set(l,c)||a,c};return t.cache=new(k.Cache||F),t}k.Cache=F;var we=k,Se=we,xe=500;function Ce(e){var n=Se(e,function(i){return t.size===xe&&t.clear(),i}),t=n.cache;return n}var $e=Ce,ke=$e,Ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ze=/\\(\\)?/g,Pe=ke(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace(Ne,function(t,i,l,a){n.push(l?a.replace(ze,"$1"):i||t)}),n}),_e=Pe;function Ie(e,n){for(var t=-1,i=e==null?0:e.length,l=Array(i);++t<i;)l[t]=n(e[t],t,e);return l}var Te=Ie,B=oe,Be=Te,De=C,Me=$,We=1/0,D=B?B.prototype:void 0,M=D?D.toString:void 0;function E(e){if(typeof e=="string")return e;if(De(e))return Be(e,E)+"";if(Me(e))return M?M.call(e):"";var n=e+"";return n=="0"&&1/e==-We?"-0":n}var Ke=E,Oe=Ke;function Fe(e){return e==null?"":Oe(e)}var Ee=Fe,Le=C,je=ye,Ae=_e,Ge=Ee;function Ve(e,n){return Le(e)?e:je(e,n)?[e]:Ae(Ge(e))}var Xe=Ve,He=$,Ue=1/0;function Ye(e){if(typeof e=="string"||He(e))return e;var n=e+"";return n=="0"&&1/e==-Ue?"-0":n}var Ze=Ye,qe=Xe,Je=Ze;function Qe(e,n){n=qe(n,e);for(var t=0,i=n.length;e!=null&&t<i;)e=e[Je(n[t++])];return t&&t==i?e:void 0}var Re=Qe,er=Re;function rr(e,n,t){var i=e==null?void 0:er(e,n);return i===void 0?t:i}var nr=rr;const tr=s(W,{appearance:"none",border:"none",boxSizing:"border-box",margin:"0px",overflow:"hidden",background:"transparent",color:"$black",cursor:"pointer",fontWeight:"bold",padding:"0.125rem 0",marginLeft:"1em"}),ar=s("div",{appearance:"none",border:"none",boxSizing:"border-box",margin:"0px",padding:"0px",overflow:"hidden",background:"transparent",fontWeight:"$bold",color:"$primaryText"}),ir=s("input",{appearance:"none",outline:"none",border:"none",boxSizing:"border-box",margin:"0px",padding:"0px",overflow:"hidden",background:"transparent",color:"$black",fontWeight:"$bold"}),or=s("div",{appearance:"none",border:"none",boxSizing:"border-box",overflow:"hidden",background:"transparent",display:"inline-flex",alignItems:"center",fontWeight:"bold",borderRadius:"$lg",padding:"0.5rem 1rem",margin:"0.5em",backgroundColor:"$divider",width:"fit-content",height:"2rem"}),lr=s("div",{appearance:"none",border:"none",boxSizing:"border-box",margin:"0px",padding:"0px",overflow:"hidden",background:"transparent",width:"fit-content",height:"fit-content",display:"inline-flex",justifyContent:"center"}),cr=s("button",{appearance:"none",boxSizing:"border-box",overflow:"hidden",background:"transparent",backgroundColor:"$background",border:"1px dashed $divider",margin:"0.5em",padding:"0.5rem 1rem",borderRadius:"$lg",fontSize:"1em",fontWeight:"500",display:"inline-block",height:"2rem",color:"$primaryText"}),sr=s("input",{appearance:"none",outline:"none",border:"none",boxSizing:"border-box",margin:"0px",padding:"0px 5px",overflow:"hidden",background:"transparent",height:"2rem",maxWidth:"90%","&::placeholder":{color:"$primaryBg"},"&:focus":{border:"2px solid $cdgblue120",borderRadius:"$md",color:"$typeHeading"},fontSize:"0.875rem",resize:"none",variants:{isEmpty:{false:{},true:{}}}}),dr=s("label",{appearance:"none",border:"none",boxSizing:"border-box",margin:"0px",padding:"0px",overflow:"hidden",background:"transparent",cursor:"pointer",fontWeight:"$semibold",textAlign:"left",fontSize:"$label1",lineHeight:"$normal"}),v=s("div",{appearance:"none",border:"none",boxSizing:"border-box",margin:"0px",overflow:"hidden",background:"transparent",fontSize:"0.75rem",borderRadius:"4px",width:"100%",padding:"0.5em 1em",borderWidth:"1px",borderStyle:"solid",borderColor:"$divider",minHeight:"7.75rem"}),ur=s("div",{appearance:"none",border:"none",boxSizing:"border-box",margin:"0px",padding:"0px",overflow:"hidden",background:"transparent",variants:{isErrored:{true:{[`${v}`]:{borderColor:"red"}},false:{}},isDisabled:{true:{[`${v}`]:{opacity:.5,pointerEvents:"none",backgroundColor:"$gray20"}},false:{}},focused:{true:{[`${v}`]:{borderWidth:"2px",borderStyle:"solid",borderColor:"$cdgBlue100"}},false:{[`${v}`]:{borderWidth:"2px",borderStyle:"solid",borderColor:"$gray30"}}}}}),fr=u.forwardRef(({isRequired:e,tagBoxLabel:n,tags:t,onAddTag:i,onEditTag:l,onRemoveTag:a,isDisabled:c=!1,isEditable:d,isErrored:p=!1,customValidationHandler:N,addTagPlaceholder:j,canRemoveOnDeleteAndBackspaceKey:A,...G},V)=>{const[z,w]=u.useState(!1),[X,P]=u.useState(!1),[H,S]=u.useState(""),[h,g]=u.useState(null),m=u.useRef(null),x=u.useRef(null);u.useImperativeHandle(V,()=>({focus(){var r;(r=m.current)==null||r.focus()},blur(){var r;(r=m.current)==null||r.blur()}}));const U=r=>!!r&&r.trim()!=="",y=r=>{const o=U(r);return N?o&&N(r):o},_=()=>{var r;(r=m.current)==null||r.focus()},Y=()=>{w(!0),setTimeout(()=>{var r;return(r=m.current)==null?void 0:r.focus()})},Z=()=>{x.current&&!p&&P(!0)},q=r=>{S(r.target.value)},J=r=>{switch(r.key){case"Enter":case"Escape":{y(r.currentTarget.value)&&(i==null||i(r.currentTarget.value.trim())),S(""),w(!1);break}case"Backspace":case"Delete":{r.currentTarget.value===""&&A&&t&&t.length&&(a==null||a(t.at(-1)));break}}},I=r=>{x.current&&!p&&P(!1),y(r.currentTarget.value)&&(i==null||i(r.currentTarget.value.trim())),S(""),w(!1)},Q=(r,o)=>{g({id:o.id,value:r.target.value})},R=(r,o)=>{r.preventDefault(),y(r.currentTarget.value)?(l==null||l({id:o.id,value:r.currentTarget.value.trim()}),g(null)):a==null||a(o)},ee=(r,o)=>{switch(r.key){case"Enter":{r.preventDefault(),y(r.currentTarget.value)&&(l==null||l({id:o.id,value:r.currentTarget.value.trim()}),g(null));break}case"Escape":{r.preventDefault(),y(r.currentTarget.value)?(l==null||l({id:o.id,value:r.currentTarget.value.trim()}),g(null)):a==null||a(o);break}}},T=(r,o)=>{r.stopPropagation(),!c&&d&&g(o)},re=(r,o)=>{r.stopPropagation(),a==null||a(o)};return b(ur,{...G,isErrored:p,isDisabled:c,focused:X,children:[b(dr,{"aria-label":n,onClick:_,children:[n,e&&f("span",{style:{color:ne.colors.danger.value},children:"*"})]}),b(v,{ref:x,onClick:_,onFocus:Z,onBlur:I,children:[(t??[]).map(r=>b(or,{onClick:o=>T(o,r),onDoubleClick:o=>T(o,r),children:[f(ar,{title:d?"Click to edit":void 0,className:"tag-content",children:h&&h.id===r.id?f(ir,{type:"text",autoFocus:!0,size:nr(h,"value.length",0)+1,value:h.value,onChange:o=>Q(o,r),onBlur:o=>R(o,r),onKeyDown:o=>ee(o,r)}):r.value}),!c&&f(tr,{icon:K.faClose,onClick:o=>re(o,r),style:{display:h&&h.id===r.id?"none":"inline-block"}})]},r.id)),!c&&b(lr,{children:[!z&&b(cr,{onClick:Y,children:[f(W,{icon:ce.faPlus}),"Â New Tag"]}),f(sr,{type:"text",isEmpty:(t??[]).length===0,style:{display:z?"inline-block":"none"},placeholder:j,ref:m,value:H,onClick:r=>r.stopPropagation(),onChange:q,onKeyDown:J,onBlur:I})]})]})]})}),L=fr;L.displayName="Tag-Box-V2";const vr=()=>{const[e,n]=u.useState([]),t=a=>{const c={id:Math.random(),value:a.trim()};n([...e,c])},i=a=>{const c=e.filter(d=>d.id!==a);n(c)},l=(a,c)=>{const d=e.map(p=>p.id===a?{id:a,value:c}:p);n(d)};return f(te,{children:f(L,{tagBoxLabel:"Attribute values",addTagPlaceholder:"Please enter to add tag",tags:e,isErrored:!1,isEditable:!0,onAddTag:t,onRemoveTag:a=>i(a.id),onEditTag:a=>l(a.id,a.value),css:{width:"70%"}})})};typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{vr as Basic};

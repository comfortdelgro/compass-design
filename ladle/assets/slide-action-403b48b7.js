import{k as P,s as _,r,j as i,a as x}from"./index-bac5e390.js";import{u as D}from"./use-dom-ref-c2dd4c70.js";import{u as F}from"./useDrag-073ab6b9.js";const k=.4,N=P({"0%":{backgroundPosition:"0% 50%"},"50%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0% 50%"}}),j=P({from:{backgroundPosition:"400% 0"}}),z=_("div",{position:"relative",padding:"$2","@sm":{maxWidth:"$80"},display:"flex",alignItems:"center",gap:"$2",borderRadius:"$full",border:"1px solid $dangerShades",overflow:"hidden",variants:{compact:{true:{padding:0,"@sm":{maxWidth:"$60"},"&>.slide-action__dragger":{width:"$10",height:"$10"},"&>.slide-action__bg":{width:"$10",height:"100%"},"&>.slide-action__label":{fontSize:"$label1",paddingRight:"$2"}},false:{}}}}),B=_("button",{width:"$12",height:"$12",zIndex:"1",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"$dangerShades",borderRadius:"$full",border:"none",cursor:"grab","&:active":{cursor:"grabbing"},"& > .slide-action__default-icon":{fill:"$background"}}),Z=_("div",{flex:"1",fontWeight:"$semibold",color:"$dangerShades",textAlign:"center",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"default",variants:{labelType:{default:{},slide:{"@media (prefers-reduced-motion: no-preference)":{animation:`${j} 8s infinite linear`}}}}}),U=_("div",{position:"absolute",width:"$12",height:"calc(100% - $4)",borderRadius:"$full",opacity:.2,variants:{slideType:{static:{width:"calc(100% - $4)",opacity:0},slide:{}},slideColor:{mono:{},gradient:{background:"linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab)",backgroundSize:"400% 400%",animation:`${N} 4s ease infinite`}}}});function V({css:L,slideRef:o,icon:S,color:t,onDrag:l,onDragEnd:c,disableDrag:e=!1}){const s=r.useRef(null),a=s.current,p=r.useMemo(()=>{if(typeof window>"u"||!o.current)return{slideDragWidth:0,maxSlideDistance:0};const n=window.getComputedStyle(o.current),v=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),u=(a==null?void 0:a.offsetWidth)??0;return{slideDragWidth:u,maxSlideDistance:o.current.offsetWidth-v-u}},[o.current,a]);return F({targetRef:s,direction:"horizontal",limit:{x:{min:0,max:p.maxSlideDistance}},onMove:(...n)=>{l==null||l(p,...n)},onEnd:(...n)=>{c==null||c(p,...n)},disabled:e}),i(B,{ref:s,css:{...L,backgroundColor:t,pointerEvents:e?"none":"auto"},className:"slide-action__dragger",children:S||i("svg",{className:"slide-action__default-icon",width:"14",height:"15",viewBox:"0 0 14 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:x("g",{id:"Frame 105",children:[x("g",{id:"Vector",children:[i("path",{d:"M0.886667 14.998C0.66 14.998 0.433333 14.9106 0.26 14.74C-0.0866667 14.3988 -0.0866667 13.8432 0.26 13.502L5.85111 7.99914L0.26 2.49188C-0.0866667 2.15068 -0.0866667 1.59514 0.26 1.25394C0.606667 0.912748 1.17111 0.912748 1.51778 1.25394L7.74 7.37799C8.08667 7.71918 8.08667 8.27472 7.74 8.61592L1.51778 14.74C1.34 14.9106 1.11333 14.998 0.886667 14.998Z"}),i("path",{d:"M0.886667 14.998C0.66 14.998 0.433333 14.9106 0.26 14.74C-0.0866667 14.3988 -0.0866667 13.8432 0.26 13.502L5.85111 7.99914L0.26 2.49188C-0.0866667 2.15068 -0.0866667 1.59514 0.26 1.25394C0.606667 0.912748 1.17111 0.912748 1.51778 1.25394L7.74 7.37799C8.08667 7.71918 8.08667 8.27472 7.74 8.61592L1.51778 14.74C1.34 14.9106 1.11333 14.998 0.886667 14.998Z"})]}),x("g",{id:"Vector_2",children:[i("path",{d:"M6.88667 14.998C6.66 14.998 6.43333 14.9106 6.26 14.74C5.91333 14.3988 5.91333 13.8432 6.26 13.502L11.8511 7.99914L6.26 2.49188C5.91333 2.15068 5.91333 1.59514 6.26 1.25394C6.60667 0.912748 7.17111 0.912748 7.51778 1.25394L13.74 7.37799C14.0867 7.71918 14.0867 8.27472 13.74 8.61592L7.51778 14.74C7.34 14.9106 7.11333 14.998 6.88667 14.998Z"}),i("path",{d:"M6.88667 14.998C6.66 14.998 6.43333 14.9106 6.26 14.74C5.91333 14.3988 5.91333 13.8432 6.26 13.502L11.8511 7.99914L6.26 2.49188C5.91333 2.15068 5.91333 1.59514 6.26 1.25394C6.60667 0.912748 7.17111 0.912748 7.51778 1.25394L13.74 7.37799C14.0867 7.71918 14.0867 8.27472 13.74 8.61592L7.51778 14.74C7.34 14.9106 7.11333 14.998 6.88667 14.998Z"})]})]})})})}const T=r.forwardRef(({css:L={},className:o="",icon:S,color:t="$dangerShades",label:l="Slide",labelType:c="default",onChange:e,onSwipeEnd:s,slideType:a="slide",slideColor:p="mono",allowSwipeAfterEnd:n=!1,compact:v=!1,children:u,...W},I)=>{const f=D(I),m=r.useRef(null),d=r.useRef(null),[M,$]=r.useState(!1),y=r.useCallback((h,g)=>{if(m.current){if(a==="static"){m.current.style.setProperty("opacity",h.toFixed(2));return}m.current.style.setProperty("width",`${g}px`)}},[m.current,a]),O=r.useCallback(({slideDragWidth:h,maxSlideDistance:g},w,{x:b})=>{if(!f.current||!d.current)return;const C=(g-b)/g;d.current.style.setProperty("opacity",(C-.1).toFixed(2));const R=b/g-k;y(R>k?k:R,h+b)},[f.current,d.current,y]),A=r.useCallback(({maxSlideDistance:h},g,{x:w},b)=>{if(!f.current)return;const C=()=>{d.current&&d.current.style.setProperty("opacity","1"),$(!1),e==null||e(!1),b({x:0,y:0},{transition:"transform .2s ease"}),y(0,0)};if(w===h){n||$==null||$(!0),e==null||e(!0),s==null||s(C);return}C()},[f.current,d.current,e,s,y]);return x(z,{ref:f,className:`${o} slide-action`,css:{...L,borderColor:t},compact:v,...W,children:[i(U,{className:"slide-action__bg",ref:m,css:{backgroundColor:t},slideColor:p,slideType:a}),i(V,{slideRef:f,color:t,icon:S,onDrag:O,onDragEnd:A,disableDrag:M}),i(Z,{ref:d,css:{color:t,"@media (prefers-reduced-motion: no-preference)":{color:c==="slide"?"transparent":t,background:`linear-gradient(
              to right,
              ${t},
              transparent,
              ${t}
            ) 0 0 / 400% 100%`,backgroundClip:"text"}},labelType:c,className:"slide-action__label",title:typeof u=="string"?u:l,children:u||l})]})}),H=T;export{H as S};

"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4289],{74289:function(e,t,r){r.d(t,{Cs:function(){return y},gq:function(){return a}});var o=r(52983),l=r(67925),n=r(30227),s=r(17850),c=r(12024);function u(e){return(0,n.isAppleDevice)()?e.altKey:e.ctrlKey}function i(e){return(0,n.isMac)()?e.metaKey:e.ctrlKey}function a(e){let{selectionManager:t,keyboardDelegate:r,ref:c,autoFocus:a=!1,shouldFocusWrap:y=!1,disallowEmptySelection:d=!1,disallowSelectAll:f=!1,selectOnFocus:p="replace"===t.selectionBehavior,disallowTypeAhead:g=!1,shouldUseVirtualFocus:K,allowsTabNavigation:v=!1,isVirtualized:S,scrollRef:h=c}=e,{direction:b}=(0,s.bU)(),T=e=>{var o,s,a,g;if(e.altKey&&"Tab"===e.key&&e.preventDefault(),!c.current.contains(e.target))return;let K=(r,o)=>{null!=r&&(t.setFocusedKey(r,o),e.shiftKey&&"multiple"===t.selectionMode?t.extendSelection(r):p&&!u(e)&&t.replaceSelection(r))};switch(e.key){case"ArrowDown":if(r.getKeyBelow){e.preventDefault();let S=null!=t.focusedKey?r.getKeyBelow(t.focusedKey):null===(o=r.getFirstKey)||void 0===o?void 0:o.call(r);null==S&&y&&(S=null===(s=r.getFirstKey)||void 0===s?void 0:s.call(r,t.focusedKey)),K(S)}break;case"ArrowUp":if(r.getKeyAbove){e.preventDefault();let h=null!=t.focusedKey?r.getKeyAbove(t.focusedKey):null===(a=r.getLastKey)||void 0===a?void 0:a.call(r);null==h&&y&&(h=null===(g=r.getLastKey)||void 0===g?void 0:g.call(r,t.focusedKey)),K(h)}break;case"ArrowLeft":r.getKeyLeftOf&&(e.preventDefault(),K(r.getKeyLeftOf(t.focusedKey),"rtl"===b?"first":"last"));break;case"ArrowRight":r.getKeyRightOf&&(e.preventDefault(),K(r.getKeyRightOf(t.focusedKey),"rtl"===b?"last":"first"));break;case"Home":if(r.getFirstKey){e.preventDefault();let T=r.getFirstKey(t.focusedKey,i(e));t.setFocusedKey(T),i(e)&&e.shiftKey&&"multiple"===t.selectionMode?t.extendSelection(T):p&&t.replaceSelection(T)}break;case"End":if(r.getLastKey){e.preventDefault();let k=r.getLastKey(t.focusedKey,i(e));t.setFocusedKey(k),i(e)&&e.shiftKey&&"multiple"===t.selectionMode?t.extendSelection(k):p&&t.replaceSelection(k)}break;case"PageDown":r.getKeyPageBelow&&(e.preventDefault(),K(r.getKeyPageBelow(t.focusedKey)));break;case"PageUp":r.getKeyPageAbove&&(e.preventDefault(),K(r.getKeyPageAbove(t.focusedKey)));break;case"a":i(e)&&"multiple"===t.selectionMode&&!0!==f&&(e.preventDefault(),t.selectAll());break;case"Escape":e.preventDefault(),d||t.clearSelection();break;case"Tab":if(!v){if(e.shiftKey)c.current.focus();else{let D=(0,l.getFocusableTreeWalker)(c.current,{tabbable:!0}),F,P;do(P=D.lastChild())&&(F=P);while(P);F&&!F.contains(document.activeElement)&&(0,n.focusWithoutScrolling)(F)}}}},k=(0,o.useRef)({top:0,left:0});(0,n.useEvent)(h,"scroll",S?null:()=>{k.current={top:h.current.scrollTop,left:h.current.scrollLeft}});let D=e=>{if(t.isFocused){e.currentTarget.contains(e.target)||t.setFocused(!1);return}if(e.currentTarget.contains(e.target)){if(t.setFocused(!0),null==t.focusedKey){var o,l;let s=e=>{null!=e&&(t.setFocusedKey(e),p&&t.replaceSelection(e))},c=e.relatedTarget;s(c&&e.currentTarget.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_FOLLOWING?null!==(o=t.lastSelectedKey)&&void 0!==o?o:r.getLastKey():null!==(l=t.firstSelectedKey)&&void 0!==l?l:r.getFirstKey())}else if(!S){h.current.scrollTop=k.current.top,h.current.scrollLeft=k.current.left;let u=h.current.querySelector(`[data-key="${t.focusedKey}"]`);u&&((0,n.focusWithoutScrolling)(u),(0,n.scrollIntoView)(h.current,u))}}},F=e=>{e.currentTarget.contains(e.relatedTarget)||t.setFocused(!1)},P=(0,o.useRef)(a);(0,o.useEffect)(()=>{if(P.current){let e=null;"first"===a&&(e=r.getFirstKey()),"last"===a&&(e=r.getLastKey());let o=t.selectedKeys;o.size&&(e=o.values().next().value),t.setFocused(!0),t.setFocusedKey(e),null!=e||K||(0,l.focusSafely)(c.current)}P.current=!1},[]),(0,o.useEffect)(()=>{if(!S&&t.focusedKey&&(null==h?void 0:h.current)){let e=h.current.querySelector(`[data-key="${t.focusedKey}"]`);e&&(0,n.scrollIntoView)(h.current,e)}},[S,h,t.focusedKey]);let w={onKeyDown:T,onFocus:D,onBlur:F,onMouseDown(e){h.current===e.target&&e.preventDefault()}},{typeSelectProps:m}=function(e){let{keyboardDelegate:t,selectionManager:r,onTypeSelect:l}=e,n=(0,o.useRef)({search:"",timeout:null}).current,s=e=>{var o;let s=(o=e.key,1!==o.length&&/^[A-Z]/i.test(o)?"":o);if(!s||e.ctrlKey||e.metaKey)return;" "!==s||!(n.search.trim().length>0)||(e.preventDefault(),"continuePropagation"in e||e.stopPropagation()),n.search+=s;let c=t.getKeyForSearch(n.search,r.focusedKey);null==c&&(c=t.getKeyForSearch(n.search)),null!=c&&(r.setFocusedKey(c),l&&l(c)),clearTimeout(n.timeout),n.timeout=setTimeout(()=>{n.search=""},1e3)};return{typeSelectProps:{onKeyDownCapture:t.getKeyForSearch?s:null}}}({keyboardDelegate:r,selectionManager:t});g||(w=(0,n.mergeProps)(m,w));let A;return K||(A=null==t.focusedKey?0:-1),{collectionProps:{...w,tabIndex:A}}}function y(e){let{selectionManager:t,key:r,ref:s,shouldSelectOnPressUp:a,isVirtualized:y,shouldUseVirtualFocus:p,focus:g,isDisabled:K,onAction:v,allowsDifferentPressOrigin:S}=e,h=e=>{if("keyboard"===e.pointerType&&u(e))t.toggleSelection(r);else{if("none"===t.selectionMode)return;"single"===t.selectionMode?t.isSelected(r)&&!t.disallowEmptySelection?t.toggleSelection(r):t.replaceSelection(r):e&&e.shiftKey?t.extendSelection(r):"toggle"===t.selectionBehavior||e&&(i(e)||"touch"===e.pointerType||"virtual"===e.pointerType)?t.toggleSelection(r):t.replaceSelection(r)}};(0,o.useEffect)(()=>{r===t.focusedKey&&t.isFocused&&!p&&document.activeElement!==s.current&&(g?g():(0,l.focusSafely)(s.current))},[s,r,t.focusedKey,t.childFocusStrategy,t.isFocused,p]),K=K||t.isDisabled(r);let b={};p||K?K&&(b.onMouseDown=e=>{e.preventDefault()}):b={tabIndex:r===t.focusedKey?0:-1,onFocus(e){e.target===s.current&&t.setFocusedKey(r)}};let T=!K&&t.canSelectItem(r),k=v&&!K,D=k&&("replace"===t.selectionBehavior?!T:t.isEmpty),F=k&&T&&"replace"===t.selectionBehavior,P=D||F,w=(0,o.useRef)(null),m=P&&T,A=(0,o.useRef)(!1),E=(0,o.useRef)(!1),L={};a?(L.onPressStart=e=>{w.current=e.pointerType,A.current=m,"keyboard"===e.pointerType&&(!P||f())&&h(e)},S?(L.onPressUp=e=>{"keyboard"!==e.pointerType&&h(e)},L.onPress=D?()=>v():null):L.onPress=e=>{D||F&&"mouse"!==e.pointerType?"keyboard"===e.pointerType&&!d()||v():"keyboard"!==e.pointerType&&h(e)}):(L.onPressStart=e=>{w.current=e.pointerType,A.current=m,E.current=D,("mouse"===e.pointerType&&!D||"keyboard"===e.pointerType&&(!v||f()))&&h(e)},L.onPress=e=>{("touch"===e.pointerType||"pen"===e.pointerType||"virtual"===e.pointerType||"keyboard"===e.pointerType&&P&&d()||"mouse"===e.pointerType&&E.current)&&(P?v():h(e))}),y||(b["data-key"]=r),L.preventFocusOnPress=p;let{pressProps:M,isPressed:O}=(0,c.usePress)(L),B=F?e=>{"mouse"===w.current&&(e.stopPropagation(),e.preventDefault(),v())}:void 0,{longPressProps:R}=(0,c.useLongPress)({isDisabled:!m,onLongPress(e){"touch"===e.pointerType&&(h(e),t.setSelectionBehavior("toggle"))}}),C=e=>{"touch"===w.current&&A.current&&e.preventDefault()};return{itemProps:(0,n.mergeProps)(b,T||D?M:{},m?R:{},{onDoubleClick:B,onDragStartCapture:C}),isPressed:O,isSelected:t.isSelected(r),isDisabled:K,allowsSelection:T,hasAction:P}}function d(){let e=window.event;return(null==e?void 0:e.key)==="Enter"}function f(){let e=window.event;return(null==e?void 0:e.key)===" "||(null==e?void 0:e.code)==="Space"}}}]);
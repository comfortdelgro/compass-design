(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[438],{20049:function(e,o,s){"use strict";s.r(o),s.d(o,{default:function(){return h}});var t={};s.r(t),s.d(t,{demoComponents:function(){return i},demos:function(){return a},docs:function(){return r},srcComponents:function(){return p}});var n=s(26098),c=s(916),r={en:{description:"This page to guides you to update the compass design package version",location:"/docs/data/getting-started/upgrading/upgrading.md",rendered:['\n      <svg style="display: none;" xmlns="http://www.w3.org/2000/svg">\n      <symbol id="copied-icon" viewBox="0 0 24 24">\n        <path d="M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.24 11.28L9.69 11.2c-.38-.39-.38-1.01 0-1.4.39-.39 1.02-.39 1.41 0l1.36 1.37 4.42-4.46c.39-.39 1.02-.39 1.41 0 .38.39.38 1.01 0 1.4l-5.13 5.17c-.37.4-1.01.4-1.4 0zM3 6c-.55 0-1 .45-1 1v13c0 1.1.9 2 2 2h13c.55 0 1-.45 1-1s-.45-1-1-1H5c-.55 0-1-.45-1-1V7c0-.55-.45-1-1-1z" />\n      </symbol>\n      </svg>','<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">\n      <symbol id="copy-icon" viewBox="0 0 24 24">\n      <path d="M15 20H5V7c0-.55-.45-1-1-1s-1 .45-1 1v13c0 1.1.9 2 2 2h10c.55 0 1-.45 1-1s-.45-1-1-1zm5-4V4c0-1.1-.9-2-2-2H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2zm-2 0H9V4h9v12z" />\n      +</symbol>\n      </svg>','<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">\n    <symbol id="anchor-link-icon" viewBox="0 0 16 16">\n      <path d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z" />\n    </symbol>\n    </svg>','<svg style="display: none;" xmlns="http://www.w3.org/2000/svg">\n      <symbol id="comment-link-icon" viewBox="0 0 24 24">\n        <path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 14v-2.47l6.88-6.88c.2-.2.51-.2.71 0l1.77 1.77c.2.2.2.51 0 .71L8.47 14H6zm12 0h-7.5l2-2H18v2z" />\n      </symbol>\n      </svg>','<h1>Upgrading</h1><p class="description">This page to guides you to update the compass design package version</p>\n\n<h2 id="from-v3-x-x-to-v4-x-x">From v3.x.x to v4.x.x<a aria-labelledby="from-v3-x-x-to-v4-x-x" class="anchor-link" href="#from-v3-x-x-to-v4-x-x" tabindex="-1"><svg><use xlink:href="#anchor-link-icon" /></svg></a></h2><p>There&#39;s will be some breaking change because of resolving limitation of the previous version.</p>\n<p>The <code>react-compass</code> version should be greater or equal to <code>4.4.0</code>. Since this version, we have so much more changes to help new version more backward compatible. Specific changes are: wrap in <code>@layer</code> all preflight css, exported missing interfaces, fixed some of components.</p>\n<p>To upgrade the package version, run this command:</p>\n<div class="cdg-root"><pre><code class="language-bash"><span class="token function">pnpm</span> up @comfortdelgro/react-compass <span class="token parameter variable">--latest</span>\n</code></pre><button aria-label="Copy the code" class="cdg-copy"><svg focusable="false" aria-hidden="true" viewBox="0 0 24 24"><use class="cdg-copy-icon" xlink:href="#copy-icon" /><use class="cdg-copied-icon" xlink:href="#copied-icon" /></svg><span class="cdg-copyKeypress"><span>(or</span> $keyC<span>)</span></span></button></div>\n<p>After that you will see some errors, but don&#39;t worry, just follow these steps below.</p>\n<h3 id="change-the-way-we-import-the-component">Change the way we import the component<a aria-labelledby="change-the-way-we-import-the-component" class="anchor-link" href="#change-the-way-we-import-the-component" tabindex="-1"><svg><use xlink:href="#anchor-link-icon" /></svg></a></h3><p>When you&#39;re trying to run the project, you will see some exceptions thrown in the complier because there&#39;s some components need to be changed the way we import them.</p>\n<p>They are: <code>Preflight</code>, <code>Drawer</code>, <code>Typography</code>, <code>Button</code>, <code>TextField</code>...</p>\n<p>All you need to do is changing them one by one until the complier console got no errors follow this pattern:</p>\n<p>Change this <code>import Typography from &#39;@comfortdelgro/react-compass/typography&#39;;</code> to this pattern <code>import {Typography} from &#39;@comfortdelgro/react-compass&#39;;</code></p>\n<p>We&#39;ve no longer supported you to import children component like this <code>DrawerHeader</code>, so you should use <code>Drawer.Header</code> instead. Same for the others.</p>\n<h3 id="usedeepcompareeffect">useDeepCompareEffect<a aria-labelledby="usedeepcompareeffect" class="anchor-link" href="#usedeepcompareeffect" tabindex="-1"><svg><use xlink:href="#anchor-link-icon" /></svg></a></h3><p>Simply the way we import common hooks.</p>\n<p>Change <code>import {useDeepCompareEffect} from &#39;@comfortdelgro/react-compass/utils/hooks&#39;;</code> to <code>import {useDeepCompareEffect} from &#39;@comfortdelgro/react-compass&#39;;</code></p>\n<h3 id="re-import-css-type">Re-import CSS Type<a aria-labelledby="re-import-css-type" class="anchor-link" href="#re-import-css-type" tabindex="-1"><svg><use xlink:href="#anchor-link-icon" /></svg></a></h3><p>Since we&#39;ve removed stiches, CSS is not available in <code>@comfortdelgro/react-compass</code>.</p>\n<p>You need to remove this: <code>import type {CSS} from &#39;@comfortdelgro/react-compass/utils/stitches.types&#39;;</code></p>\n<p>And then change <code>css?: CSS;</code> to <code>css?: React.CSSProperties;</code></p>\n<h3 id="import-css-file">Import css file<a aria-labelledby="import-css-file" class="anchor-link" href="#import-css-file" tabindex="-1"><svg><use xlink:href="#anchor-link-icon" /></svg></a></h3><p>Since version 4, there will be a <code>style.css</code> file because of switching to use static css instead of using styled component. It because of the layout will be flashing when your page is using SSR.</p>\n<p>To let the layout works, you will need to import it into <code>main.tsx</code> by adding this line:</p>\n<p><code>import &#39;@comfortdelgro/react-compass/style.css&#39;;</code></p>\n<h3 id="change-color-variable">Change color variable<a aria-labelledby="change-color-variable" class="anchor-link" href="#change-color-variable" tabindex="-1"><svg><use xlink:href="#anchor-link-icon" /></svg></a></h3><p>Colors variables are missing because we changed them to have this convention: <code>--cdg-color-</code>.</p>\n<p>You can search all for <code>--colors-</code> then replace all to <code>--cdg-color-</code></p>\n<h3 id="other-errors">Other errors<a aria-labelledby="other-errors" class="anchor-link" href="#other-errors" tabindex="-1"><svg><use xlink:href="#anchor-link-icon" /></svg></a></h3><p>If you still get the errors after taken those steps.</p>\n<p>Please raise ticket to: <a href="https://github.com/comfortdelgro/compass-design" target="_blank" rel="noopener nofollow">Compass Design Github</a></p>\n'],toc:[{text:"From v3.x.x to v4.x.x",level:2,hash:"from-v3-x-x-to-v4-x-x",children:[{text:"Change the way we import the component",level:3,hash:"change-the-way-we-import-the-component"},{text:"useDeepCompareEffect",level:3,hash:"usedeepcompareeffect"},{text:"Re-import CSS Type",level:3,hash:"re-import-css-type"},{text:"Import css file",level:3,hash:"import-css-file"},{text:"Change color variable",level:3,hash:"change-color-variable"},{text:"Other errors",level:3,hash:"other-errors"}]}],title:"Upgrading",headers:{components:[]}}},a={};a.scope={process:{},import:{}};var i={},p={},l=s(97458);function h(){return(0,l.jsx)(c.Z,(0,n.Z)({},t))}},72937:function(e,o,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/getting-started/upgrading",function(){return s(20049)}])}},function(e){e.O(0,[4308,6555,47,916,9774,2888,179],function(){return e(e.s=72937)}),_N_E=e.O()}]);
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4692],{24692:function(e,t,n){n.r(t),n.d(t,{FocusRing:function(){return P},FocusScope:function(){return d},FocusableProvider:function(){return K},createFocusManager:function(){return x},focusSafely:function(){return s},getFocusableTreeWalker:function(){return F},isElementInChildOfActiveScope:function(){return g},useFocusManager:function(){return f},useFocusRing:function(){return M},useFocusable:function(){return A}});var r=n(37705),o=n(52983),u=n(80309),c=n(51950),i=n(14517);function s(e){if("virtual"===(0,c.getInteractionModality)()){let t=document.activeElement;(0,u.runAfterTransition)(()=>{document.activeElement===t&&document.contains(e)&&(0,u.focusWithoutScrolling)(e)})}else(0,u.focusWithoutScrolling)(e)}let a=o.createContext(null),l=null;function d(e){var t,n,r,c,i,s,d;let{children:f,contain:b,restoreFocus:p,autoFocus:m}=e,g=(0,o.useRef)(),x=(0,o.useRef)(),L=(0,o.useRef)([]),C=(0,o.useContext)(a),w=null!==(t=null==C?void 0:C.scopeRef)&&void 0!==t?t:null,M=(0,o.useMemo)(()=>l&&S.getTreeNode(l)&&!R(l,w)?l:w,[w]);(0,u.useLayoutEffect)(()=>{let e=g.current.nextSibling,t=[];for(;e&&e!==x.current;)t.push(e),e=e.nextSibling;L.current=t},[f,M]),S.getTreeNode(M)&&!S.getTreeNode(L)&&S.addTreeNode(L,M);let P,k;S.getTreeNode(L).contain=b,n=L,r=p,c=b,(0,u.useLayoutEffect)(()=>{if(r||c)return;let e=n.current,t=e=>{let t=e.target;if(E(t,n.current))l=n;else{var r;!N(t)&&(l=null)}};return document.addEventListener("focusin",t,!1),e.forEach(e=>e.addEventListener("focusin",t,!1)),()=>{document.removeEventListener("focusin",t,!1),e.forEach(e=>e.removeEventListener("focusin",t,!1))}},[n,r,c]),i=L,s=b,P=(0,o.useRef)(),k=(0,o.useRef)(null),(0,u.useLayoutEffect)(()=>{let e=i.current;if(!s){k.current&&(cancelAnimationFrame(k.current),k.current=null);return}let t=e=>{if("Tab"!==e.key||e.altKey||e.ctrlKey||e.metaKey||!h(i))return;let t=document.activeElement,n=i.current;if(!E(t,n))return;let r=F(v(n),{tabbable:!0},n);r.currentNode=t;let o=e.shiftKey?r.previousNode():r.nextNode();o||(r.currentNode=e.shiftKey?n[n.length-1].nextElementSibling:n[0].previousElementSibling,o=e.shiftKey?r.previousNode():r.nextNode()),e.preventDefault(),o&&T(o,!0)},n=e=>{(!l||R(l,i))&&E(e.target,i.current)?(l=i,P.current=e.target):h(i)&&!N(e.target,i)?P.current?P.current.focus():l&&y(l.current):h(i)&&(P.current=e.target)},r=e=>{k.current=requestAnimationFrame(()=>{h(i)&&!N(document.activeElement,i)&&(l=i,document.body.contains(e.target)?(P.current=e.target,P.current.focus()):l&&y(l.current))})};return document.addEventListener("keydown",t,!1),document.addEventListener("focusin",n,!1),e.forEach(e=>e.addEventListener("focusin",n,!1)),e.forEach(e=>e.addEventListener("focusout",r,!1)),()=>{document.removeEventListener("keydown",t,!1),document.removeEventListener("focusin",n,!1),e.forEach(e=>e.removeEventListener("focusin",n,!1)),e.forEach(e=>e.removeEventListener("focusout",r,!1))}},[i,s]),(0,o.useEffect)(()=>()=>{k.current&&cancelAnimationFrame(k.current)},[k]),function(e,t,n){let r=(0,o.useRef)("undefined"!=typeof document?document.activeElement:null);(0,u.useLayoutEffect)(()=>{let r=e.current;if(!t||n)return;let o=()=>{(!l||R(l,e))&&(l=e)};return document.addEventListener("focusin",o,!1),r.forEach(e=>e.addEventListener("focusin",o,!1)),()=>{document.removeEventListener("focusin",o,!1),r.forEach(e=>e.removeEventListener("focusin",o,!1))}},[e,n]),(0,u.useLayoutEffect)(()=>{if(!t)return;S.getTreeNode(e).nodeToRestore=r.current;let o=t=>{if("Tab"!==t.key||t.altKey||t.ctrlKey||t.metaKey)return;let n=document.activeElement;if(!E(n,e.current))return;let r=S.getTreeNode(e).nodeToRestore,o=F(document.body,{tabbable:!0});o.currentNode=n;let u=t.shiftKey?o.previousNode():o.nextNode();if(document.body.contains(r)&&r!==document.body||(r=null,S.getTreeNode(e).nodeToRestore=null),(!u||!E(u,e.current))&&r){o.currentNode=r;do u=t.shiftKey?o.previousNode():o.nextNode();while(E(u,e.current));if(t.preventDefault(),t.stopPropagation(),u)T(u,!0);else{var c;(c=r,N(c))?T(r,!0):n.blur()}}};return n||document.addEventListener("keydown",o,!0),()=>{n||document.removeEventListener("keydown",o,!0);let r=S.getTreeNode(e).nodeToRestore;if(t&&r&&(E(document.activeElement,e.current)||document.activeElement===document.body&&function(e){let t=S.getTreeNode(l);for(;t&&t.scopeRef!==e;){if(t.nodeToRestore)return!1;t=t.parent}return(null==t?void 0:t.scopeRef)===e}(e))){let u=S.clone();requestAnimationFrame(()=>{if(document.activeElement===document.body){let t=u.getTreeNode(e);for(;t;){if(t.nodeToRestore&&document.body.contains(t.nodeToRestore)){T(t.nodeToRestore);return}t=t.parent}for(t=u.getTreeNode(e);t;){if(t.scopeRef&&S.getTreeNode(t.scopeRef)){y(t.scopeRef.current,!0);return}t=t.parent}}})}}},[e,t,n])}(L,p,b),function(e,t){let n=o.useRef(t);(0,o.useEffect)(()=>{n.current&&(l=e,E(document.activeElement,l.current)||y(e.current)),n.current=!1},[e])}(L,m),(0,u.useLayoutEffect)(()=>{if(L)return()=>{let e=S.getTreeNode(L).parent.scopeRef;(L===l||R(L,l))&&(!e||S.getTreeNode(e))&&(l=e),S.removeTreeNode(L)}},[L,M]);let K=(d=L,{focusNext(e={}){let t=d.current,{from:n,tabbable:r,wrap:o,accept:u}=e,c=n||document.activeElement,i=t[0].previousElementSibling,s=F(v(t),{tabbable:r,accept:u},t);s.currentNode=E(c,t)?c:i;let a=s.nextNode();return!a&&o&&(s.currentNode=i,a=s.nextNode()),a&&T(a,!0),a},focusPrevious(e={}){let t=d.current,{from:n,tabbable:r,wrap:o,accept:u}=e,c=n||document.activeElement,i=t[t.length-1].nextElementSibling,s=F(v(t),{tabbable:r,accept:u},t);s.currentNode=E(c,t)?c:i;let a=s.previousNode();return!a&&o&&(s.currentNode=i,a=s.previousNode()),a&&T(a,!0),a},focusFirst(e={}){let t=d.current,{tabbable:n,accept:r}=e,o=F(v(t),{tabbable:n,accept:r},t);o.currentNode=t[0].previousElementSibling;let u=o.nextNode();return u&&T(u,!0),u},focusLast(e={}){let t=d.current,{tabbable:n,accept:r}=e,o=F(v(t),{tabbable:n,accept:r},t);o.currentNode=t[t.length-1].nextElementSibling;let u=o.previousNode();return u&&T(u,!0),u}});return o.createElement(a.Provider,{value:{scopeRef:L,focusManager:K}},o.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:g}),f,o.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:x}))}function f(){var e;return null===(e=(0,o.useContext)(a))||void 0===e?void 0:e.focusManager}let b=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],p=b.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";b.push('[tabindex]:not([tabindex="-1"]):not([disabled])');let m=b.join(':not([hidden]):not([tabindex="-1"]),');function v(e){return e[0].parentElement}function h(e){let t=S.getTreeNode(l);for(;t&&t.scopeRef!==e;){if(t.contain)return!1;t=t.parent}return!0}function E(e,t){return t.some(t=>t.contains(e))}function N(e,t=null){for(let{scopeRef:n}of S.traverse(S.getTreeNode(t)))if(E(e,n.current))return!0;return!1}function g(e){return N(e,l)}function R(e,t){var n;let r=null===(n=S.getTreeNode(t))||void 0===n?void 0:n.parent;for(;r;){if(r.scopeRef===e)return!0;r=r.parent}return!1}function T(e,t=!1){if(null==e||t){if(null!=e)try{e.focus()}catch(n){}}else try{s(e)}catch(r){}}function y(e,t=!0){let n=e[0].previousElementSibling,r=F(v(e),{tabbable:t},e);r.currentNode=n;let o=r.nextNode();t&&!o&&((r=F(v(e),{tabbable:!1},e)).currentNode=n,o=r.nextNode()),T(o)}function F(e,t,n){let r=(null==t?void 0:t.tabbable)?m:p,o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(e){var o;return(null==t?void 0:null===(o=t.from)||void 0===o?void 0:o.contains(e))?NodeFilter.FILTER_REJECT:e.matches(r)&&function e(t,n){var r,o;return"#comment"!==t.nodeName&&function(e){if(!(e instanceof HTMLElement)&&!(e instanceof SVGElement))return!1;let{display:t,visibility:n}=e.style,r="none"!==t&&"hidden"!==n&&"collapse"!==n;if(r){let{getComputedStyle:o}=e.ownerDocument.defaultView,{display:u,visibility:c}=o(e);r="none"!==u&&"hidden"!==c&&"collapse"!==c}return r}(t)&&!t.hasAttribute("hidden")&&("DETAILS"!==t.nodeName||!n||"SUMMARY"===n.nodeName||t.hasAttribute("open"))&&(!t.parentElement||e(t.parentElement,t))}(e)&&(!n||E(e,n))&&(!(null==t?void 0:t.accept)||t.accept(e))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return(null==t?void 0:t.from)&&(o.currentNode=t.from),o}function x(e,t={}){return{focusNext(n={}){let r=e.current;if(!r)return;let{from:o,tabbable:u=t.tabbable,wrap:c=t.wrap,accept:i=t.accept}=n,s=o||document.activeElement,a=F(r,{tabbable:u,accept:i});r.contains(s)&&(a.currentNode=s);let l=a.nextNode();return!l&&c&&(a.currentNode=r,l=a.nextNode()),l&&T(l,!0),l},focusPrevious(n=t){let r=e.current;if(!r)return;let{from:o,tabbable:u=t.tabbable,wrap:c=t.wrap,accept:i=t.accept}=n,s=o||document.activeElement,a=F(r,{tabbable:u,accept:i});if(r.contains(s))a.currentNode=s;else{let l=L(a);return l&&T(l,!0),l}let d=a.previousNode();return!d&&c&&(a.currentNode=r,d=L(a)),d&&T(d,!0),d},focusFirst(n=t){let r=e.current;if(!r)return;let{tabbable:o=t.tabbable,accept:u=t.accept}=n,c=F(r,{tabbable:o,accept:u}).nextNode();return c&&T(c,!0),c},focusLast(n=t){let r=e.current;if(!r)return;let{tabbable:o=t.tabbable,accept:u=t.accept}=n,c=F(r,{tabbable:o,accept:u}),i=L(c);return i&&T(i,!0),i}}}function L(e){let t,n;do(n=e.lastChild())&&(t=n);while(n);return t}class C{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,t,n){let r=this.fastMap.get(null!=t?t:null),o=new w({scopeRef:e});r.addChild(o),o.parent=r,this.fastMap.set(e,o),n&&(o.nodeToRestore=n)}removeTreeNode(e){if(null===e)return;let t=this.fastMap.get(e),n=t.parent;for(let r of this.traverse())r!==t&&t.nodeToRestore&&r.nodeToRestore&&t.scopeRef.current&&E(r.nodeToRestore,t.scopeRef.current)&&(r.nodeToRestore=t.nodeToRestore);let o=t.children;n.removeChild(t),o.length>0&&o.forEach(e=>n.addChild(e)),this.fastMap.delete(t.scopeRef)}*traverse(e=this.root){if(null!=e.scopeRef&&(yield e),e.children.length>0)for(let t of e.children)yield*this.traverse(t)}clone(){let e=new C;for(let t of this.traverse())e.addTreeNode(t.scopeRef,t.parent.scopeRef,t.nodeToRestore);return e}constructor(){(0,r.Z)(this,"fastMap",new Map),this.root=new w({scopeRef:null}),this.fastMap.set(null,this.root)}}class w{addChild(e){this.children.push(e),e.parent=this}removeChild(e){this.children.splice(this.children.indexOf(e),1),e.parent=void 0}constructor(e){(0,r.Z)(this,"children",[]),(0,r.Z)(this,"contain",!1),this.scopeRef=e.scopeRef}}let S=new C;function M(e={}){let{autoFocus:t=!1,isTextInput:n,within:r}=e,u=(0,o.useRef)({isFocused:!1,isFocusVisible:t||(0,c.isFocusVisible)()}),[i,s]=(0,o.useState)(!1),[a,l]=(0,o.useState)(()=>u.current.isFocused&&u.current.isFocusVisible),d=(0,o.useCallback)(()=>l(u.current.isFocused&&u.current.isFocusVisible),[]),f=(0,o.useCallback)(e=>{u.current.isFocused=e,s(e),d()},[d]);(0,c.useFocusVisibleListener)(e=>{u.current.isFocusVisible=e,d()},[],{isTextInput:n});let{focusProps:b}=(0,c.useFocus)({isDisabled:r,onFocusChange:f}),{focusWithinProps:p}=(0,c.useFocusWithin)({isDisabled:!r,onFocusWithinChange:f});return{isFocused:i,isFocusVisible:u.current.isFocused&&a,focusProps:r?p:b}}function P(e){let{children:t,focusClass:n,focusRingClass:r}=e,{isFocused:c,isFocusVisible:s,focusProps:a}=M(e),l=o.Children.only(t);return o.cloneElement(l,(0,u.mergeProps)(l.props,{...a,className:(0,i.Z)({[n||""]:c,[r||""]:s})}))}let k=o.createContext(null),K=o.forwardRef(function(e,t){let{children:n,...r}=e,u={...r,ref:t};return o.createElement(k.Provider,{value:u},n)});function A(e,t){let{focusProps:n}=(0,c.useFocus)(e),{keyboardProps:r}=(0,c.useKeyboard)(e),i=(0,u.mergeProps)(n,r),a=function(e){let t=(0,o.useContext)(k)||{};(0,u.useSyncRef)(t,e);let{ref:n,...r}=t;return r}(t),l=e.isDisabled?{}:a,d=(0,o.useRef)(e.autoFocus);return(0,o.useEffect)(()=>{d.current&&t.current&&s(t.current),d.current=!1},[t]),{focusableProps:(0,u.mergeProps)({...i,tabIndex:e.excludeFromTabOrder&&!e.isDisabled?-1:void 0},l)}}}}]);